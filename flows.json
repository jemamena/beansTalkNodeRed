[
    {
        "id": "2b13ae4b4189cf8c",
        "type": "tab",
        "label": "Master dashboard",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "419e8a7f494d3e4a",
        "type": "tab",
        "label": "BeanStalk 3.1",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "b3151d5c41739308",
        "type": "tab",
        "label": "Config dashboard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7fb6d5e7ee213cba",
        "type": "tab",
        "label": "API requests",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "278c546f71d19ebf",
        "type": "tab",
        "label": "BRAIN 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "019d12cb83c932c2",
        "type": "tab",
        "label": "BRAIN 2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5ab672823d632b5b",
        "type": "tab",
        "label": "Trader Callum 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f1077e7fe3469f18",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 840,
        "y": 1800,
        "wires": [
            [
                "9775c6775f91c388"
            ]
        ]
    },
    {
        "id": "12303c49b253badc",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 679.8511832101003,
        "y": 941.2698364257812,
        "wires": [
            [
                "fbce47ca1869bd6b"
            ]
        ]
    },
    {
        "id": "66ba4161bba268e7",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 2590,
        "y": 2040,
        "wires": [
            [
                "e55b860e1a64c5ab",
                "f5a210f2ae2eb9a5"
            ]
        ]
    },
    {
        "id": "9797f7982eb9687c",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 360,
        "y": 2180,
        "wires": [
            [
                "9c7476facf7b383e",
                "bc09d7709b98f85d",
                "77af8d99b9bb3bcd",
                "318c07fe34b3fd57",
                "aaf184792593a554",
                "8af0eb5310434a40",
                "652496f174687351",
                "cfe4ad0f5fe5a0db",
                "71e97e0bdb8564ee",
                "afd98edb4b42dca1",
                "593ed80d270cfda3",
                "4872ffab1e45205c",
                "3b9e500b05a1e126",
                "c8d28ce49033d9bb",
                "3a12762e62129509",
                "a1ba8c42e24922b4"
            ]
        ]
    },
    {
        "id": "6b1de70888b41fb8",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 1220,
        "y": 2160,
        "wires": [
            [
                "e3fcccf322345c60",
                "42cca26bac746c38"
            ]
        ]
    },
    {
        "id": "5f536edc365c778d",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 3280,
        "y": 1080,
        "wires": [
            [
                "1de95ff94493f16b",
                "ebc705d6dd8c9e44",
                "82d5363d05b9e971",
                "b2fabbe735ceb31d"
            ]
        ]
    },
    {
        "id": "f615e03202ccbbd8",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 2470,
        "y": 1920,
        "wires": [
            [
                "9355dabc9ceb5f56",
                "0f5920d3693c6d38"
            ]
        ]
    },
    {
        "id": "10da24dd451332ec",
        "type": "junction",
        "z": "419e8a7f494d3e4a",
        "x": 2880,
        "y": 1120,
        "wires": [
            [
                "55476b0a6aaa72a1",
                "3399bac0bd499ea9"
            ]
        ]
    },
    {
        "id": "0a0f9029cec26983",
        "type": "junction",
        "z": "2b13ae4b4189cf8c",
        "x": 2001.9999999999995,
        "y": 997.200012207031,
        "wires": [
            [
                "9af1a4c0786ef12c",
                "5c4c5c51552225b3",
                "7ae74122337078d3",
                "a5a55ed4e057daf7",
                "edf382182747eca7",
                "387a9bac6dbd8ced",
                "2830c4fa00473947",
                "a79f7a582a43ede6"
            ]
        ]
    },
    {
        "id": "ce04d7809f58d3cf",
        "type": "junction",
        "z": "419e8a7f494d3e4a",
        "x": 2880,
        "y": 1500,
        "wires": [
            [
                "1102bd7e5254bfe7",
                "68359ae5afaf9013"
            ]
        ]
    },
    {
        "id": "d88d2bc69ffa0513",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 729.8511832101003,
        "y": 501.26983642578125,
        "wires": [
            [
                "887e23c833dfbc75"
            ]
        ]
    },
    {
        "id": "c57a45e295f1d024",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 800,
        "y": 900,
        "wires": [
            [
                "e73da69fd1ed4496",
                "f706af3fd480a797"
            ]
        ]
    },
    {
        "id": "b8e96933809bbeb3",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 460,
        "y": 1000,
        "wires": [
            [
                "3d250517b6916b9e",
                "90c7669cfaf20400",
                "8237ba0acf3e6255",
                "3e9b494c140c28f4",
                "52f5a91567544f79",
                "a9f25e8d9ffa600d",
                "c7389ca0d5b79d0c",
                "c98ce4a35933c133",
                "ede2eb0c6d2cac18",
                "921c0afcd8fb4cd1",
                "b73f2dac6ab3b9d5",
                "8248d574ba446776"
            ]
        ]
    },
    {
        "id": "b39b71f842c1fbbb",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 2690,
        "y": 1220,
        "wires": [
            [
                "00147e56e3ef8f59",
                "26144452591b8064"
            ]
        ]
    },
    {
        "id": "8387ff90f0b6bae7",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 2480,
        "y": 640,
        "wires": [
            [
                "1a9e497a6edaba2b",
                "265dfc9651c1d649",
                "1bd887d38c21ca69",
                "911fb49779faf598"
            ]
        ]
    },
    {
        "id": "4a0cb0a7aec7887b",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 1480,
        "y": 1380,
        "wires": [
            [
                "36b6cacb1552102b",
                "79a4e20abda5f3e8"
            ]
        ]
    },
    {
        "id": "2b6a15fa963e91b0",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 2700,
        "y": 1520,
        "wires": [
            [
                "8afd9a2a988d4d1e",
                "c3e0c3efab707a72"
            ]
        ]
    },
    {
        "id": "acc128bfca0926b1",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 1060,
        "y": 1020,
        "wires": [
            [
                "f706af3fd480a797"
            ]
        ]
    },
    {
        "id": "981f33a3e6c076a5",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 820,
        "y": 1200,
        "wires": [
            [
                "547397b5808c0587",
                "c9251491f83d57bd",
                "176b9e9016201aa0",
                "859ab15a79157564",
                "142b91390a0e09fb",
                "d8b98c8bb52486cb",
                "e14301680cc7190d",
                "b8a62afd58a3d0f2",
                "701adc4257f56c0b",
                "d1eb1a5d25f91d91",
                "914960a4270bb60d",
                "b63d4acb14a7eda8"
            ]
        ]
    },
    {
        "id": "f6ab4d975b9f494d",
        "type": "junction",
        "z": "b3151d5c41739308",
        "x": 3000,
        "y": 740,
        "wires": [
            [
                "3034f3b0d3bf2652",
                "0e9b074e67881dcc"
            ]
        ]
    },
    {
        "id": "274ce11c99c83a74",
        "type": "junction",
        "z": "278c546f71d19ebf",
        "x": 2860,
        "y": 920,
        "wires": [
            [
                "207f15617b4e52f1"
            ]
        ]
    },
    {
        "id": "544de116c0af0d1c",
        "type": "junction",
        "z": "278c546f71d19ebf",
        "x": 2080,
        "y": 620,
        "wires": [
            [
                "4f1139ac2896539b"
            ]
        ]
    },
    {
        "id": "dd598361c9bd1a82",
        "type": "junction",
        "z": "5ab672823d632b5b",
        "x": 720,
        "y": 1100,
        "wires": [
            [
                "2eb9ae18a7597898",
                "cc82956b3af1798d"
            ]
        ]
    },
    {
        "id": "dca50cadc1492f98",
        "type": "junction",
        "z": "5ab672823d632b5b",
        "x": 720,
        "y": 920,
        "wires": [
            [
                "139fd080616b484b",
                "4a5c99cb09076140"
            ]
        ]
    },
    {
        "id": "f04482fb96c82bdb",
        "type": "junction",
        "z": "019d12cb83c932c2",
        "x": 2460,
        "y": 920,
        "wires": [
            [
                "cf97c9950ec3a5ab"
            ]
        ]
    },
    {
        "id": "fd2884a6130dbead",
        "type": "junction",
        "z": "019d12cb83c932c2",
        "x": 1680,
        "y": 620,
        "wires": [
            [
                "4c0cc4f6b879e4ea"
            ]
        ]
    },
    {
        "id": "0cbdb304210c8469",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#7b8de5",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#7b8de5",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#7b8de5",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#e6e6e6",
                    "edited": true
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#474847",
                    "edited": true
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#c9c9c9",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#000000",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#3b4b9b",
                    "edited": true
                },
                "widget-borderColor": {
                    "value": "#efebbe",
                    "edited": true
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "true",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 43,
                "sy": 43,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "69c2f669240f1763",
        "type": "ui_tab",
        "name": "Entries",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a5e5760a4c6ba88d",
        "type": "ui_group",
        "name": "Entries",
        "tab": "69c2f669240f1763",
        "order": 1,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d933c6ba082a2a01",
        "type": "remote-config",
        "name": "beanStalk",
        "host": "localhost",
        "protocol": "http",
        "port": "1880",
        "baseurl": "/ui/#0",
        "instancehash": "k9mi8ug5dt2g075eyw9k5blu8dhbxqbvtszx5ll2t6zl1z6hk2lnhaqogqhuzeov",
        "server": "nodered04.remote-red.com",
        "region": "de"
    },
    {
        "id": "c410dd64e080a4fa",
        "type": "ui_tab",
        "name": "beanstalk",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3099eb616e7a700f",
        "type": "ui_group",
        "d": true,
        "name": "Main",
        "tab": "c410dd64e080a4fa",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c6efbbb3df5d165b",
        "type": "ui_group",
        "name": "gConfig",
        "tab": "c410dd64e080a4fa",
        "order": 2,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "073356e9ad872f62",
        "type": "ui_group",
        "name": "seqConfig",
        "tab": "c410dd64e080a4fa",
        "order": 4,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7203e5daf97c1a43",
        "type": "ui_group",
        "name": "indicator",
        "tab": "c410dd64e080a4fa",
        "order": 5,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "34c551c9f517c7ea",
        "type": "ui_group",
        "name": "settings",
        "tab": "c410dd64e080a4fa",
        "order": 6,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2fb43ef966523e39",
        "type": "ui_group",
        "name": "sequences",
        "tab": "c410dd64e080a4fa",
        "order": 3,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ba777e8ad06ad039",
        "type": "ui_group",
        "name": "positions",
        "tab": "c410dd64e080a4fa",
        "order": 7,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9ba9f83744bf70d8",
        "type": "mqtt-broker",
        "name": "brain 2",
        "broker": "188.166.144.173:4444",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "9fb486fd2c3c7daf",
        "type": "mqtt-broker",
        "name": "trader Callum",
        "broker": "cloud.trumeter.com",
        "port": "1884",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "5580f8d464349ce8",
        "type": "ui_spacer",
        "z": "419e8a7f494d3e4a",
        "name": "spacer",
        "group": "7203e5daf97c1a43",
        "order": 8,
        "width": 2,
        "height": 1
    },
    {
        "id": "0e9b26fb101932a0",
        "type": "ui_spacer",
        "z": "419e8a7f494d3e4a",
        "name": "spacer",
        "group": "7203e5daf97c1a43",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "42b0517acee0a00a",
        "type": "ui_group",
        "name": "EMA TEMA",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false
    },
    {
        "id": "0570623e9876c911",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "af66b1244eb6d111",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "041c28f04dd6b9f3",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ff37e06b3a74759d",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "4ef01637ef85b78c",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "3d5e70344ae4c1ba",
        "type": "ui_group",
        "name": "EMA",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ead4cfd3dd2d268e",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "942bec2ff1b6427e",
        "type": "ui_group",
        "name": "graphs2",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "863f013498a402d5",
        "type": "ui_group",
        "name": "graphs1",
        "tab": "",
        "order": 3,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "a7f20c64da4fbd33",
        "type": "ui_group",
        "name": "EMAS/TEMAS",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "14",
        "collapse": false
    },
    {
        "id": "954a5faaa82c2307",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "386689c6eb81b1f5",
        "type": "ui_group",
        "name": "Main",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f63f3026834e1095",
        "type": "ui_group",
        "name": "Indicators",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e154f94530642b75",
        "type": "ui_group",
        "name": "General Configuration",
        "tab": "",
        "order": 2,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7be8d98659a230de",
        "type": "ui_group",
        "name": "Sequences Configuration",
        "tab": "",
        "order": 3,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "dd2826600acb8051",
        "type": "mqtt-broker",
        "name": "trader Callum",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "e6323ee8f6519821",
        "type": "ui_group",
        "name": "Main",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5a2e660a2999d661",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true,
        "className": ""
    },
    {
        "id": "7e5254b695753b49",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a340d878d4c843ef",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "590c3f4cd4d4ad6a",
        "type": "ui_group",
        "name": "Entries",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "14",
        "collapse": false,
        "className": ""
    },
    {
        "id": "0fa44620b240ee1b",
        "type": "mqtt-broker",
        "name": "Brain 1",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "c1df5cd6676fa766",
        "type": "ui_tab",
        "name": "ConfigDash",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "0a79132aa188a0eb",
        "type": "ui_group",
        "name": "gConfig",
        "tab": "c1df5cd6676fa766",
        "order": 2,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2a64f463fa5315e7",
        "type": "ui_group",
        "name": "sConfig",
        "tab": "c1df5cd6676fa766",
        "order": 3,
        "disp": false,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "94c03f237562a85d",
        "type": "ui_group",
        "name": "Indicators",
        "tab": "c1df5cd6676fa766",
        "order": 4,
        "disp": false,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4f19c8f4c8df9ba0",
        "type": "ui_group",
        "name": "SEND",
        "tab": "c1df5cd6676fa766",
        "order": 1,
        "disp": false,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "013c5e31d3a75353",
        "type": "ui_spacer",
        "z": "b3151d5c41739308",
        "name": "spacer",
        "group": "2a64f463fa5315e7",
        "order": 1,
        "width": 2,
        "height": 1
    },
    {
        "id": "37a0b28456ab8433",
        "type": "ui_spacer",
        "z": "b3151d5c41739308",
        "name": "spacer",
        "group": "2a64f463fa5315e7",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "1259bbd018d55905",
        "type": "ui_spacer",
        "z": "b3151d5c41739308",
        "name": "spacer",
        "group": "2a64f463fa5315e7",
        "order": 16,
        "width": 12,
        "height": 1
    },
    {
        "id": "ddcd66c9f5f1f954",
        "type": "ui_spacer",
        "z": "b3151d5c41739308",
        "name": "spacer",
        "group": "94c03f237562a85d",
        "order": 5,
        "width": "1",
        "height": "1"
    },
    {
        "id": "80a2de1b27397fbd",
        "type": "ui_spacer",
        "z": "b3151d5c41739308",
        "name": "spacer",
        "group": "94c03f237562a85d",
        "order": 7,
        "width": "1",
        "height": "1"
    },
    {
        "id": "722e0f45b695f883",
        "type": "mqtt-broker",
        "name": "API brain",
        "broker": "188.166.144.173:4444",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "f8e671421b4f6c98",
        "type": "ui_group",
        "name": "EMA TEMA",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false
    },
    {
        "id": "da4db3706295086c",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "2d34d1012bf3fca2",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "a68b8e013530e59c",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "35a3e2a39dbd6b5c",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8adbea81de7bdbbb",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "89d357e0c231aac9",
        "type": "ui_group",
        "name": "EMA",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "afdc2fd09357fd2d",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8a03d23760cce61d",
        "type": "ui_group",
        "name": "graphs2",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "b2cbbed490ccf2bc",
        "type": "ui_group",
        "name": "graphs1",
        "tab": "",
        "order": 3,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "c5a29e46c933cfe5",
        "type": "ui_group",
        "name": "EMAS/TEMAS",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "14",
        "collapse": false
    },
    {
        "id": "e331045885a92d4b",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c1c9a90eaf726896",
        "type": "ui_group",
        "name": "Main",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f744a4bf289059a7",
        "type": "ui_group",
        "name": "Indicators",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4d9038d5322d33db",
        "type": "ui_group",
        "name": "General Configuration",
        "tab": "",
        "order": 2,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8babae9554e76af5",
        "type": "ui_group",
        "name": "Sequences Configuration",
        "tab": "",
        "order": 3,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5990687238c679f0",
        "type": "mqtt-broker",
        "name": "trader Callum",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "0e7291549018d007",
        "type": "ui_group",
        "name": "Main",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f63829255c7eb2f4",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true,
        "className": ""
    },
    {
        "id": "e6c5e42350362068",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6e6b1d86632fa237",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5a67d6f2a30bbc85",
        "type": "ui_group",
        "name": "Entries",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "14",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9a780750196855e7",
        "type": "mqtt-broker",
        "name": "trader Callum",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "08d75bb482213b97",
        "type": "ui_group",
        "name": "EMA TEMA",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false
    },
    {
        "id": "4cb51b7ec393621d",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "dcd61e6031ed7fce",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "cf7265b19f245961",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c3bef6a587cfec79",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "0ce982e705d2a942",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "aad4ba3155468685",
        "type": "ui_group",
        "name": "EMA",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "43257881345b69f5",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "58b30c7b1790c508",
        "type": "ui_group",
        "name": "graphs2",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "e368f0adeb1e9579",
        "type": "ui_group",
        "name": "graphs1",
        "tab": "",
        "order": 3,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "e75aa2ec86f0456e",
        "type": "ui_group",
        "name": "EMAS/TEMAS",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "14",
        "collapse": false
    },
    {
        "id": "06331d968d6373c8",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f2d49a20691554ea",
        "type": "ui_group",
        "name": "Main",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5298b80fee2d50b5",
        "type": "ui_group",
        "name": "Indicators",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4711ed16ed7bfe65",
        "type": "ui_group",
        "name": "General Configuration",
        "tab": "",
        "order": 2,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9548b364b0e24153",
        "type": "ui_group",
        "name": "Sequences Configuration",
        "tab": "",
        "order": 3,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "24641f3dddf68348",
        "type": "mqtt-broker",
        "name": "trader Callum",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "1a2dd5c285def97a",
        "type": "ui_group",
        "name": "Main",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f73f325c558f4a07",
        "type": "ui_group",
        "name": "Options",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true,
        "className": ""
    },
    {
        "id": "b3db1e8aba10997f",
        "type": "ui_group",
        "name": "Start",
        "tab": "",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8a3df21426012b63",
        "type": "ui_group",
        "name": "TEMA",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f5c93def098e580e",
        "type": "ui_group",
        "name": "Entries",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "14",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e3c648809b555d75",
        "type": "mqtt-broker",
        "name": "trader Callum",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "f15f72a82f974357",
        "type": "mqtt-broker",
        "name": "trader Callum",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "d2ed4c0c635d59a5",
        "type": "ui_spacer",
        "z": "5ab672823d632b5b",
        "name": "spacer",
        "group": "a5e5760a4c6ba88d",
        "order": 3,
        "width": "2",
        "height": "1"
    },
    {
        "id": "41fc0a4c878d2555",
        "type": "ui_spacer",
        "z": "5ab672823d632b5b",
        "name": "spacer",
        "group": "a5e5760a4c6ba88d",
        "order": 1,
        "width": "2",
        "height": "1"
    },
    {
        "id": "08b6f600530e1c2c",
        "type": "mqtt-broker",
        "name": "Javi Trader",
        "broker": "188.166.144.173",
        "port": "1444",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "6c929079e2570158",
        "type": "ui_spacer",
        "z": "b3151d5c41739308",
        "name": "spacer",
        "group": "2a64f463fa5315e7",
        "order": 13,
        "width": "4",
        "height": "1"
    },
    {
        "id": "9c7476facf7b383e",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "1",
        "group": "ba777e8ad06ad039",
        "order": 1,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[0]}}",
        "tooltip": "",
        "color": "{{msg.colour[0]}}",
        "bgcolor": "{{msg.pBackground[0]}}",
        "className": "pos",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "p1",
        "topicType": "str",
        "x": 550,
        "y": 1920,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "351b5a892acfaad0",
        "type": "ui_dropdown",
        "z": "2b13ae4b4189cf8c",
        "name": "INTERVAL",
        "label": "Interval",
        "tooltip": "",
        "place": "Select option",
        "group": "7203e5daf97c1a43",
        "order": 9,
        "width": 4,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "",
                "value": "1m",
                "type": "str"
            },
            {
                "label": "",
                "value": "5m",
                "type": "str"
            },
            {
                "label": "",
                "value": "15m",
                "type": "str"
            },
            {
                "label": "",
                "value": "30m",
                "type": "str"
            },
            {
                "label": "",
                "value": "1h",
                "type": "str"
            },
            {
                "label": "",
                "value": "2h",
                "type": "str"
            },
            {
                "label": "",
                "value": "4h",
                "type": "str"
            },
            {
                "label": "",
                "value": "12h",
                "type": "str"
            },
            {
                "label": "",
                "value": "1d",
                "type": "str"
            },
            {
                "label": "",
                "value": "1w",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "interval",
        "topicType": "str",
        "className": "",
        "x": 2530,
        "y": 1760,
        "wires": [
            [
                "92b80278c9ed7bec"
            ]
        ]
    },
    {
        "id": "018008b1ce291ce2",
        "type": "ui_dropdown",
        "z": "2b13ae4b4189cf8c",
        "name": "Indicator",
        "label": "Indicator",
        "tooltip": "",
        "place": "Select option",
        "group": "7203e5daf97c1a43",
        "order": 6,
        "width": 4,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "",
                "value": "EMA",
                "type": "str"
            },
            {
                "label": "",
                "value": "TEMA",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "indicator",
        "topicType": "str",
        "className": "",
        "x": 2540,
        "y": 1720,
        "wires": [
            [
                "92b80278c9ed7bec"
            ]
        ]
    },
    {
        "id": "bc09d7709b98f85d",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "2",
        "group": "ba777e8ad06ad039",
        "order": 2,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[1]}}",
        "tooltip": "",
        "color": "{{msg.colour[1]}}",
        "bgcolor": "{{msg.pBackground[1]}}",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "p2",
        "topicType": "str",
        "x": 550,
        "y": 1960,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "92b80278c9ed7bec",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "SAVE indicator",
        "func": "var position = global.get('position');\nvar indicator=global.get('indicator') || {};\n\n// indicator={};\nindicator[msg.topic] = msg.payload;\n\nmsg.topic = position;\n// var ind=(indicator.indicator==\"EMA\")?\"E-\":\"T-\";\n// msg.payload = ind+indicator.period;\nglobal.set('position', position);\nglobal.set('indicator', indicator);\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2760,
        "y": 1720,
        "wires": [
            [
                "b1f8fb554817e50c"
            ]
        ]
    },
    {
        "id": "72197443f0a4ab12",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "Enable",
        "label": "",
        "tooltip": "",
        "group": "7203e5daf97c1a43",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "enable",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-check fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-exclamation-circle fa-2x",
        "offcolor": "red",
        "animate": true,
        "className": "",
        "x": 2710,
        "y": 2280,
        "wires": [
            []
        ]
    },
    {
        "id": "77af8d99b9bb3bcd",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "3",
        "group": "ba777e8ad06ad039",
        "order": 3,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[2]}}",
        "tooltip": "",
        "color": "{{msg.colour[2]}}",
        "bgcolor": "{{msg.pBackground[2]}}",
        "className": "",
        "icon": "",
        "payload": "3",
        "payloadType": "str",
        "topic": "p3",
        "topicType": "str",
        "x": 550,
        "y": 2000,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "318c07fe34b3fd57",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "4",
        "group": "ba777e8ad06ad039",
        "order": 4,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[3]}}",
        "tooltip": "",
        "color": "{{msg.colour[3]}}",
        "bgcolor": "{{msg.pBackground[3]}}",
        "className": "",
        "icon": "",
        "payload": "4",
        "payloadType": "str",
        "topic": "p4",
        "topicType": "str",
        "x": 550,
        "y": 2040,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "c1b27b49f43717da",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "7203e5daf97c1a43",
        "order": 5,
        "width": 6,
        "height": 1,
        "name": "Position",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "col-center",
        "className": "",
        "x": 1240,
        "y": 1660,
        "wires": []
    },
    {
        "id": "9775c6775f91c388",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "LOAD",
        "func": "\nvar seqSelected = global.get('seqSelected');\nvar currentSequence = global.get('currentSequence') || {};\n// var Allsequences = global.get('Allsequences') || {};\n// var Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nif (msg.topic.charAt(0)=='p'){\n    var position = msg.topic;\n    msg.debug = \"Position: \" + msg.payload;\n\n    if (!currentSequence.hasOwnProperty(\"position\")){\n        currentSequence.position={};\n        currentSequence.position[position]={};\n        // currentSequence.position.value=\"\";\n    }else{\n        msg.payload = currentSequence.position[position];    \n    }\n    global.set('position', position);  \n} \nelse if (msg.topic.charAt(0) == 'c') {\n    var position = msg.topic;\n    msg.debug = \"Compare: \" + msg.payload;\n\n    if (!currentSequence.hasOwnProperty(\"compare\")) {\n        currentSequence.compare = {};\n        currentSequence.compare[position] = {};\n    } else {\n        msg.payload = currentSequence.compare[position];\n    }\n    global.set('position', position);\n} \n\nelse currentSequence[msg.topic]=msg.payload;\nglobal.set('currentSequence', currentSequence); \nreturn msg;\n    \n ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 1800,
        "wires": [
            [
                "c1b27b49f43717da",
                "c28f1d8a3685ac10",
                "0c99c15f67f16f53"
            ]
        ]
    },
    {
        "id": "2efd48e4b0034b9e",
        "type": "split",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1490,
        "y": 1800,
        "wires": [
            [
                "1719d5d1ed59f708"
            ]
        ]
    },
    {
        "id": "1719d5d1ed59f708",
        "type": "switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "enable",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "period",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "indicator",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "interval",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1630,
        "y": 1800,
        "wires": [
            [
                "c79f3f6a24c1f01c"
            ],
            [
                "23eadfd842378395"
            ],
            [
                "bc4e5d02b957eac1"
            ],
            [
                "35d0edce16bf6f20"
            ]
        ]
    },
    {
        "id": "1632746d0ff25c35",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "ENABLE IN",
        "links": [
            "c79f3f6a24c1f01c",
            "6b57055825854c37",
            "7f1ee79fa60d919c",
            "0104c52d6e612698",
            "a05fb717791fe384",
            "7d39769e07408d8a",
            "277e15850b022d5b"
        ],
        "x": 2555,
        "y": 2280,
        "wires": [
            [
                "72197443f0a4ab12"
            ]
        ]
    },
    {
        "id": "6a6a16e238bf56ab",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "perio IN",
        "links": [
            "e2c6c9ee5124e284",
            "23eadfd842378395",
            "a235be1fc9245481"
        ],
        "x": 2345,
        "y": 1680,
        "wires": [
            [
                "3922e8d3e8708d14"
            ]
        ]
    },
    {
        "id": "6a3dadc7e72691bd",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "indicator IN",
        "links": [
            "bc4e5d02b957eac1",
            "88a4ab850ca84d58",
            "980f2c3b3727b936"
        ],
        "x": 2385,
        "y": 1720,
        "wires": [
            [
                "018008b1ce291ce2"
            ]
        ]
    },
    {
        "id": "e126524c635b4538",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "interval IN",
        "links": [
            "35d0edce16bf6f20",
            "88a4ab850ca84d58",
            "91d1eb88a70337c7"
        ],
        "x": 2385,
        "y": 1760,
        "wires": [
            [
                "351b5a892acfaad0"
            ]
        ]
    },
    {
        "id": "2b88192e01d4d756",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "---- OUT",
        "mode": "link",
        "links": [
            "d834a97db6bf8179",
            "0dd8b86d664f50d2",
            "c0a40dec6eea6fd9",
            "0c723288ad65cad0"
        ],
        "x": 1295,
        "y": 1160,
        "wires": []
    },
    {
        "id": "6549c17e53a7a590",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 1160,
        "wires": [
            [
                "2b88192e01d4d756"
            ]
        ]
    },
    {
        "id": "1ffc92da4b11a432",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 1200,
        "wires": [
            [
                "0ad33f38eaa81674"
            ]
        ]
    },
    {
        "id": "42889f0f5bdcaa91",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "-1",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 1240,
        "wires": [
            [
                "acc214b402aae351"
            ]
        ]
    },
    {
        "id": "acc214b402aae351",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "-1 OUT",
        "mode": "link",
        "links": [
            "4441998eccfcbd47",
            "8f1d0be163dd9d0c",
            "44204a9e53c23b7b",
            "9b42ada7bdc9f57b",
            "2426e497412b5532",
            "848f06fbb8dc2b1e"
        ],
        "x": 1295,
        "y": 1240,
        "wires": []
    },
    {
        "id": "0ad33f38eaa81674",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "false OUT",
        "mode": "link",
        "links": [
            "47917a97a95fe36a",
            "6e439102468fc1d0"
        ],
        "x": 1295,
        "y": 1200,
        "wires": []
    },
    {
        "id": "c79f3f6a24c1f01c",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "ENABLE OUT",
        "mode": "link",
        "links": [
            "1632746d0ff25c35",
            "c10ea73396d735bf"
        ],
        "x": 1785,
        "y": 1720,
        "wires": []
    },
    {
        "id": "23eadfd842378395",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "indicatorN OUT",
        "mode": "link",
        "links": [
            "6a6a16e238bf56ab",
            "67243951c825c345"
        ],
        "x": 1785,
        "y": 1760,
        "wires": []
    },
    {
        "id": "bc4e5d02b957eac1",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "indicator OUT",
        "mode": "link",
        "links": [
            "6a3dadc7e72691bd",
            "770677a9ecf6dd72"
        ],
        "x": 1785,
        "y": 1800,
        "wires": []
    },
    {
        "id": "35d0edce16bf6f20",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "interval OUT",
        "mode": "link",
        "links": [
            "e126524c635b4538",
            "892170f61ea1098e"
        ],
        "x": 1785,
        "y": 1840,
        "wires": []
    },
    {
        "id": "b1f8fb554817e50c",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 28",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3000,
        "y": 1720,
        "wires": []
    },
    {
        "id": "aaf184792593a554",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "5",
        "group": "ba777e8ad06ad039",
        "order": 5,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[4]}}",
        "tooltip": "",
        "color": "{{msg.colour[4]}}",
        "bgcolor": "{{msg.pBackground[4]}}",
        "className": "",
        "icon": "",
        "payload": "5",
        "payloadType": "str",
        "topic": "p5",
        "topicType": "str",
        "x": 550,
        "y": 2080,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "8af0eb5310434a40",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "6",
        "group": "ba777e8ad06ad039",
        "order": 6,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[5]}}",
        "tooltip": "",
        "color": "{{msg.colour[5]}}",
        "bgcolor": "{{msg.pBackground[5]}}",
        "className": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "p6",
        "topicType": "str",
        "x": 550,
        "y": 2120,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "652496f174687351",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "7",
        "group": "ba777e8ad06ad039",
        "order": 7,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[6]}}",
        "tooltip": "",
        "color": "{{msg.colour[6]}}",
        "bgcolor": "{{msg.pBackground[6]}}",
        "className": "",
        "icon": "",
        "payload": "7",
        "payloadType": "str",
        "topic": "p7",
        "topicType": "str",
        "x": 550,
        "y": 2160,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "cfe4ad0f5fe5a0db",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "8",
        "group": "ba777e8ad06ad039",
        "order": 8,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[7]}}",
        "tooltip": "",
        "color": "{{msg.colour[7]}}",
        "bgcolor": "{{msg.pBackground[7]}}",
        "className": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "p8",
        "topicType": "str",
        "x": 550,
        "y": 2200,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "71e97e0bdb8564ee",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "9",
        "group": "ba777e8ad06ad039",
        "order": 9,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[8]}}",
        "tooltip": "",
        "color": "{{msg.colour[8]}}",
        "bgcolor": "{{msg.pBackground[8]}}",
        "className": "",
        "icon": "",
        "payload": "9",
        "payloadType": "str",
        "topic": "p9",
        "topicType": "str",
        "x": 550,
        "y": 2240,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "afd98edb4b42dca1",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "10",
        "group": "ba777e8ad06ad039",
        "order": 10,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[9]}}",
        "tooltip": "",
        "color": "{{msg.colour[9]}}",
        "bgcolor": "{{msg.pBackground[9]}}",
        "className": "",
        "icon": "",
        "payload": "10",
        "payloadType": "str",
        "topic": "p10",
        "topicType": "str",
        "x": 550,
        "y": 2280,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "593ed80d270cfda3",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "11",
        "group": "ba777e8ad06ad039",
        "order": 11,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[10]}}",
        "tooltip": "",
        "color": "{{msg.colour[10]}}",
        "bgcolor": "{{msg.pBackground[10]}}",
        "className": "",
        "icon": "",
        "payload": "11",
        "payloadType": "str",
        "topic": "p11",
        "topicType": "str",
        "x": 550,
        "y": 2320,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "4872ffab1e45205c",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "12",
        "group": "ba777e8ad06ad039",
        "order": 12,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[11]}}",
        "tooltip": "",
        "color": "{{msg.colour[11]}}",
        "bgcolor": "{{msg.pBackground[11]}}",
        "className": "",
        "icon": "",
        "payload": "12",
        "payloadType": "str",
        "topic": "p12",
        "topicType": "str",
        "x": 550,
        "y": 2360,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "3b9e500b05a1e126",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "13",
        "group": "ba777e8ad06ad039",
        "order": 13,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[12]}}",
        "tooltip": "",
        "color": "{{msg.colour[12]}}",
        "bgcolor": "{{msg.pBackground[12]}}",
        "className": "",
        "icon": "",
        "payload": "13",
        "payloadType": "str",
        "topic": "p13",
        "topicType": "str",
        "x": 550,
        "y": 2400,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "721990dfb896c432",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": " ",
        "payload": " ",
        "payloadType": "str",
        "x": 910,
        "y": 1220,
        "wires": [
            [
                "6549c17e53a7a590",
                "1ffc92da4b11a432",
                "42889f0f5bdcaa91"
            ]
        ]
    },
    {
        "id": "067d4725a5006f13",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "7203e5daf97c1a43",
        "order": 2,
        "width": "4",
        "height": 1,
        "passthru": false,
        "label": "SAVE",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-save fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE POSITION",
        "topicType": "str",
        "x": 2240,
        "y": 2200,
        "wires": [
            [
                "460b808ff6c67d31"
            ]
        ]
    },
    {
        "id": "244e96acf89a17cb",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "indicators",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3040,
        "y": 2180,
        "wires": []
    },
    {
        "id": "3922e8d3e8708d14",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Period",
        "label": "Period",
        "tooltip": "",
        "group": "7203e5daf97c1a43",
        "order": 7,
        "width": 4,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "period",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 2550,
        "y": 1680,
        "wires": [
            [
                "92b80278c9ed7bec"
            ]
        ]
    },
    {
        "id": "9e6eab816c22cbd0",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "Save all indicators",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage');\n// var Allindicators = global.get('allIndicators', 'varstorage');\nglobal.set('APIresults', {}, 'varstorage');\n\nvar allIndicators={};\nfor (var seq in Allconfig.sequences){\n    for (var pos in Allconfig.sequences[seq].position){\n        var name = Allconfig.sequences[seq].position[pos].name;\n        var interval = Allconfig.sequences[seq].position[pos].interval;\n        if (Allconfig.sequences[seq].position[pos].enable === true && Allconfig.sequences[seq].enable === true ) {\n            if (!allIndicators.hasOwnProperty(interval)) allIndicators[interval] = {};\n            if (!allIndicators[interval].hasOwnProperty(name)) {\n                allIndicators[interval][name] = {};\n                allIndicators[interval][name].period = Allconfig.sequences[seq].position[pos].period;\n                allIndicators[interval][name].indicator = Allconfig.sequences[seq].position[pos].indicator;\n                allIndicators[interval][name].name = Allconfig.sequences[seq].position[pos].name;\n            }\n        }\n    }\n}\nfor (var trends in Allconfig.config.trend){\n    var nameT = Allconfig.config.trend[trends].name;\n    var intervalT=Allconfig.config.trend[trends].interval;\n    if (Allconfig.config.trend[trends].enable === true) {\n        if (!allIndicators.hasOwnProperty(intervalT)) allIndicators[intervalT] = {};\n        if (!allIndicators[intervalT].hasOwnProperty(nameT)) {\n            allIndicators[intervalT][nameT] = {};\n            allIndicators[intervalT][nameT].period = Allconfig.config.trend[trends].period;\n            allIndicators[intervalT][nameT].indicator = Allconfig.config.trend[trends].indicator;\n            allIndicators[intervalT][nameT].name = Allconfig.config.trend[trends].name;\n        }\n    }\n}\nglobal.set('allIndicators', allIndicators, 'varstorage');\nmsg.payload = allIndicators;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2800,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "9af1a4c0786ef12c",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "d": true,
        "name": "seq1 sw",
        "label": "1",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s1",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 900,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "5c4c5c51552225b3",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "d": true,
        "name": "seq2 sw",
        "label": "2",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s2",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 960,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "7ae74122337078d3",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "d": true,
        "name": "seq3 sw",
        "label": "3",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s3",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 1020,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "a5a55ed4e057daf7",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "seq4 sw",
        "label": "4",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s4",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 1080,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "e357a5b2db4937df",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "enable sequence",
        "func": "var seq=msg.topic;\nvar strategy=global.get('strategy');\n\nvar Allconfig=global.get('Allconfig','varstorage');\n\nif (Allconfig.sequences.hasOwnProperty('enable')){\n\n    Allconfig.sequences[seq].enable=msg.payload;\n\n    msg.payload= \"Sequence enable: \"+msg.payload;\n    // msg.topic=\"SAVE\";\n\n    global.set('Allconfig',Allconfig,'varstorage');\n    // global.set('seqSelected', seq);\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2390,
        "y": 1220,
        "wires": [
            [
                "fa50aedca7e29e47",
                "5e2d2f681fc3f068"
            ]
        ]
    },
    {
        "id": "5e2d2f681fc3f068",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "seq SW OUT",
        "mode": "link",
        "links": [
            "d6d2995cad3bf4c1",
            "7fd8a29ce045ee4d"
        ],
        "x": 2675,
        "y": 1220,
        "wires": []
    },
    {
        "id": "d6d2995cad3bf4c1",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "ALL Indicators check",
        "links": [
            "0104c52d6e612698",
            "fcbb923f2023bbc7",
            "5e2d2f681fc3f068",
            "4fa322b2210c4b65",
            "277e15850b022d5b"
        ],
        "x": 2615,
        "y": 2140,
        "wires": [
            [
                "ef7905a3730fcfbd"
            ]
        ]
    },
    {
        "id": "fa50aedca7e29e47",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 27",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2680,
        "y": 1160,
        "wires": []
    },
    {
        "id": "70aa84bc0306f103",
        "type": "ui_dropdown",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "label": "Exchange",
        "tooltip": "",
        "place": "Select option",
        "group": "c6efbbb3df5d165b",
        "order": 18,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "binance",
                "value": "binance",
                "type": "str"
            },
            {
                "label": "binancefutures",
                "value": "binancefutures",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "exchange",
        "topicType": "str",
        "className": "",
        "x": 3420,
        "y": 920,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "9148f8db895b948a",
        "type": "ui_dropdown",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "label": "Coin/market",
        "tooltip": "",
        "place": "Select option",
        "group": "c6efbbb3df5d165b",
        "order": 19,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "Bitcoin to USDT",
                "value": "BTC/USDT",
                "type": "str"
            },
            {
                "label": "Litecoin to Bitcoin",
                "value": "LTC/BTC",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "symbol",
        "topicType": "str",
        "className": "",
        "x": 3410,
        "y": 960,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "065f6534d75fd5c5",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "START",
        "group": "3099eb616e7a700f",
        "order": 6,
        "width": 4,
        "height": 2,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{msg.background}}",
        "className": "",
        "icon": "fa-play fa-3x",
        "payload": "start",
        "payloadType": "str",
        "topic": "start",
        "topicType": "str",
        "x": 660,
        "y": 440,
        "wires": [
            [
                "334d5c224684b0ca",
                "06fe7bbc477852cb",
                "62f11894f52d73d0"
            ]
        ]
    },
    {
        "id": "f63f9f0a655fbf96",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "STOP",
        "group": "3099eb616e7a700f",
        "order": 7,
        "width": 4,
        "height": 2,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-stop fa-3x",
        "payload": "stop",
        "payloadType": "str",
        "topic": "stop",
        "topicType": "str",
        "x": 670,
        "y": 480,
        "wires": [
            [
                "334d5c224684b0ca",
                "06fe7bbc477852cb",
                "62f11894f52d73d0"
            ]
        ]
    },
    {
        "id": "75034c74b24cef8d",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq1",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[0]}}",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "s1",
        "topicType": "str",
        "x": 570,
        "y": 940,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "857d7cc7b2cb90f5",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq2",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[1]}}",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "s2",
        "topicType": "str",
        "x": 570,
        "y": 980,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "9b376572d3c9dde7",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq3",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[2]}}",
        "className": "",
        "icon": "",
        "payload": "3",
        "payloadType": "str",
        "topic": "s3",
        "topicType": "str",
        "x": 570,
        "y": 1020,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "cb3735091d75b68c",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq4",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[3]}}",
        "className": "",
        "icon": "",
        "payload": "4",
        "payloadType": "str",
        "topic": "s4",
        "topicType": "str",
        "x": 570,
        "y": 1060,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "a9d00ba39e031250",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "073356e9ad872f62",
        "order": 5,
        "width": 6,
        "height": 1,
        "name": "Sequence",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "row-center",
        "className": "",
        "x": 1040,
        "y": 1020,
        "wires": []
    },
    {
        "id": "fbce47ca1869bd6b",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "LOAD sequence",
        "func": "var seq=msg.topic;\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nvar currentSequence = global.get('currentSequence') || {};\nvar Allsequences = global.get('Allsequences') || {};\n\nif (JSON.stringify(Allsequences) == '{}') Allsequences.sequences={};\n\nif (Allsequences.sequences.hasOwnProperty(seq)) currentSequence = Allsequences.sequences[seq];\nelse {\n    currentSequence = {};\n    currentSequence.enable == false;\n}\n// if (JSON.stringify(currentSequence) == '{}') {\n//     currentSequence={};\n//     // Allconfig.sequences = {};\n//     // Allconfig.sequences[seq] = {};\n//     // currentSequence.enable=false;\n//     // currentSequence.leverage=-1;\n//     // currentSequence.trade=\"----\";\n//     currentSequence.enable==false;\n// }else{\n//     // currentSequence = Allconfig.sequences[seq];\n// }\n// currentSequence = Allconfig.sequences[seq];    \n\n// var msg1={};\nmsg.debug= \"Sequence: \"+msg.payload+\" selected\";\nmsg.payload=currentSequence;\n\n// currentSequence.enable = false;\nglobal.set('currentSequence', currentSequence);\nglobal.set('Allsequences', Allsequences);\n\nglobal.set('seqSelected', seq);\nglobal.set('position',\"\");\n\nreturn msg;\n// if (msg.payload!=undefined) return [msg,msg1];\n// else [null,msg1]",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 940,
        "wires": [
            [
                "20d9ca9977762e8e",
                "254cf2182dfdf193",
                "b80cca059dcf754c",
                "a9d00ba39e031250"
            ]
        ]
    },
    {
        "id": "20d9ca9977762e8e",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "Load sequence",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 840,
        "wires": []
    },
    {
        "id": "7b028ba27409d667",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": " ",
        "payload": " ",
        "payloadType": "str",
        "x": 890,
        "y": 1060,
        "wires": [
            [
                "a9d00ba39e031250"
            ]
        ]
    },
    {
        "id": "1de95ff94493f16b",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "TREND 1A",
        "group": "c6efbbb3df5d165b",
        "order": 14,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 1A{{msg.payload[0]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[0]}}",
        "className": "",
        "icon": "",
        "payload": "1A",
        "payloadType": "str",
        "topic": "t1",
        "topicType": "str",
        "x": 3410,
        "y": 1000,
        "wires": [
            [
                "fc6c18b1906f02ed",
                "d2d6c25560845cec"
            ]
        ]
    },
    {
        "id": "ebc705d6dd8c9e44",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "TREND 1B",
        "group": "c6efbbb3df5d165b",
        "order": 15,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 1B<br />{{msg.payload[1]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[1]}}",
        "className": "",
        "icon": "",
        "payload": "1B",
        "payloadType": "str",
        "topic": "t2",
        "topicType": "str",
        "x": 3410,
        "y": 1040,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "06fe7bbc477852cb",
        "type": "ui_led",
        "z": "2b13ae4b4189cf8c",
        "order": 1,
        "group": "3099eb616e7a700f",
        "width": 2,
        "height": 2,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "stop",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "start",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 950,
        "y": 500,
        "wires": []
    },
    {
        "id": "224d3fe99994c8e3",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "COMP 1-c1",
        "group": "ba777e8ad06ad039",
        "order": 17,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "COMPARE 1A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1A",
        "payloadType": "str",
        "topic": "c1",
        "topicType": "str",
        "x": 530,
        "y": 1680,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "d898b33de8a1989b",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "COMP 2-c1",
        "group": "ba777e8ad06ad039",
        "order": 20,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "COMPARE 1B",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1B",
        "payloadType": "str",
        "topic": "c2",
        "topicType": "str",
        "x": 530,
        "y": 1720,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "279235bcf0690210",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Tolerance 1",
        "label": "Tolerance",
        "tooltip": "",
        "group": "ba777e8ad06ad039",
        "order": 18,
        "width": 2,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "Tolerance1",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 1760,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "71a84975b3b991c1",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "COMP 1-c2",
        "group": "ba777e8ad06ad039",
        "order": 19,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "COMPARE 2A",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "2A",
        "payloadType": "str",
        "topic": "c3",
        "topicType": "str",
        "x": 530,
        "y": 1800,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "8e407252e43c9ef6",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "COMP 2-c2",
        "group": "ba777e8ad06ad039",
        "order": 22,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "COMPARE 2B",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "2B",
        "payloadType": "str",
        "topic": "c4",
        "topicType": "str",
        "x": 530,
        "y": 1840,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "8720c589aad1d953",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Tolerance 2",
        "label": "Tolerance",
        "tooltip": "",
        "group": "ba777e8ad06ad039",
        "order": 21,
        "width": 2,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "Tolerance2",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 1880,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "4441998eccfcbd47",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "leverage IN",
        "links": [
            "acc214b402aae351",
            "816c5911b2a98906",
            "bd3272f2f1b98fd2",
            "ce4464381322c691"
        ],
        "x": 255,
        "y": 2560,
        "wires": [
            [
                "a14922165e786571"
            ]
        ]
    },
    {
        "id": "a14922165e786571",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Leverage",
        "label": "Leverage",
        "tooltip": "",
        "group": "073356e9ad872f62",
        "order": 7,
        "width": 4,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": "500",
        "topic": "leverage",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 360,
        "y": 2560,
        "wires": [
            [
                "a1da21bb38950b5d"
            ]
        ]
    },
    {
        "id": "89a164bb0efba68b",
        "type": "ui_dropdown",
        "z": "2b13ae4b4189cf8c",
        "name": "TRADE",
        "label": "TRADE",
        "tooltip": "",
        "place": "buy or sell..",
        "group": "073356e9ad872f62",
        "order": 6,
        "width": 4,
        "height": 1,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "BUY",
                "value": "buy",
                "type": "str"
            },
            {
                "label": "SELL",
                "value": "sell",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "Trade",
        "topicType": "str",
        "className": "",
        "x": 540,
        "y": 2600,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "d834a97db6bf8179",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "trade IN",
        "links": [
            "6e07dff9f6fc3f10",
            "2b88192e01d4d756",
            "8ecd38cee99adb3f"
        ],
        "x": 405,
        "y": 2600,
        "wires": [
            [
                "89a164bb0efba68b"
            ]
        ]
    },
    {
        "id": "17c4d9147a6c01dd",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "073356e9ad872f62",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "SAVE",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-save fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE SEQUENCE",
        "topicType": "str",
        "x": 890,
        "y": 2100,
        "wires": [
            [
                "083f3ab1f66b22f2"
            ]
        ]
    },
    {
        "id": "e3fcccf322345c60",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "073356e9ad872f62",
        "order": 9,
        "width": 8,
        "height": 1,
        "name": "Done Sequence",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "col-center",
        "className": "",
        "x": 1760,
        "y": 2160,
        "wires": []
    },
    {
        "id": "460b808ff6c67d31",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "SAVE Position",
        "func": "var seqSelected = global.get('seqSelected');\nvar position = global.get('position');\nvar currentSequence = global.get('currentSequence') || {};\nvar indicator=global.get('indicator') || {};\nvar generalConfig = global.get('generalConfig') || {};\n\nvar tPosition;\nif (position.charAt(0) == 't')tPosition=msg.payload;\n\n\n\nif (indicator.indicator==\"----\" || indicator.interval==\"----\" || indicator.period==-1) {\n    indicator.enable=false;\n    msg.payload=false;\n    msg.debug = \"Check configuration\";\n}else {\n    indicator.enable = true;\n\n    if (position.charAt(0)=='p'){\n        if (!currentSequence.hasOwnProperty('position'))currentSequence.position={};\n        currentSequence.position[position] = indicator;\n        currentSequence.position[position].name = indicator.indicator + \"-\" + indicator.period + \"-\" + indicator.interval;\n        global.set('currentSequence', currentSequence);\n    }\n    else if (position.charAt(0)=='t'){\n        if (!generalConfig.hasOwnProperty('trend')) generalConfig.trend = {};\n        if (!generalConfig.trend.hasOwnProperty(msg.topic)) generalConfig.trend[position] = {};\n        generalConfig.trend[position]=indicator;\n        generalConfig.trend[position].name=indicator.indicator+\"-\"+indicator.period+\"-\"+indicator.interval;\n        global.set('generalConfig', generalConfig);\n    }\n    msg.debug = \"SAVED OK\";\n    indicator = {};\n    msg.payload=true;\n}\n\nmsg.topic = 'SAVE';\nglobal.set('indicator', indicator);\n\nreturn msg;\n   ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2460,
        "y": 2200,
        "wires": [
            [
                "72197443f0a4ab12",
                "66ba4161bba268e7",
                "a8900e6dc3502429",
                "ef7905a3730fcfbd"
            ]
        ]
    },
    {
        "id": "083f3ab1f66b22f2",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "SAVE Allconfig",
        "func": "var seqSelected = global.get('seqSelected');\nvar strategy = global.get('strategy');\nvar currentSequence = global.get('currentSequence') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage') ||{};\n\n\nif (currentSequence.leverage == -1 || currentSequence.trade == \"----\" || currentSequence.tTrade == \"----\" || JSON.stringify(currentSequence) == '{}') currentSequence.enable=false;\nelse if (!currentSequence.hasOwnProperty('leverage') || !currentSequence.hasOwnProperty('Trade') || !currentSequence.hasOwnProperty('TradeType'))currentSequence.enable=false;\nelse currentSequence.enable = true;\n\nif (currentSequence.hasOwnProperty(\"position\")){\n    for (var positions in currentSequence.position) {\n        if (currentSequence.position[positions].enable === false || currentSequence.position[positions].name == undefined) \n            currentSequence.enable = false;\n    }\n}else currentSequence.enable=true;\n\nif (currentSequence.enable===false){\n    msg.debug= \"Check sequence configuration\";\n    msg.payload=false;\n}else{\n    if (!Allconfig.sequences.hasOwnProperty(seqSelected)) Allconfig.sequences[seqSelected] = {};\n    Allconfig.sequences[seqSelected] = currentSequence;\n    Allconfig.sequences[seqSelected].string = \"\";\n    for (var pos in Allconfig.sequences[seqSelected].position){\n        Allconfig.sequences[seqSelected].string = Allconfig.sequences[seqSelected].string+\",\"+currentSequence.position[pos].name;\n    }\n    Allconfig.sequences[seqSelected].string = Allconfig.sequences[seqSelected].string.substring(1);\n    msg.payload = true;\n    msg.debug=\"Sequence Saved\";\n    msg.string = Allconfig.sequences[seqSelected].string;\n    currentSequence={};\n    // for (var seqs in Allconfig.sequences) {\n    //     if (JSON.stringify(Allconfig.sequences[seqs]=='{}')) delete Allconfig.sequences[seqs];\n    // }\n}\nmsg.topic = 'SAVE';\nglobal.set('currentSequence', currentSequence); \nglobal.set('Allconfig', Allconfig, 'varstorage');\nreturn msg;\n   ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 2100,
        "wires": [
            [
                "c5bad098293281d7",
                "cbf9ea10acc747a1",
                "6b1de70888b41fb8"
            ]
        ]
    },
    {
        "id": "e55b860e1a64c5ab",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "7203e5daf97c1a43",
        "order": 12,
        "width": 8,
        "height": 1,
        "name": "Done Indicator",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "col-center",
        "className": "",
        "x": 3070,
        "y": 2040,
        "wires": []
    },
    {
        "id": "c5bad098293281d7",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "Enable",
        "label": "",
        "tooltip": "",
        "group": "073356e9ad872f62",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "enable",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-check fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-exclamation-circle fa-2x",
        "offcolor": "red",
        "animate": true,
        "className": "",
        "x": 1300,
        "y": 2040,
        "wires": [
            []
        ]
    },
    {
        "id": "d13f101e21f1beff",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "c6efbbb3df5d165b",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "SAVE",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-save fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE GENERAL",
        "topicType": "str",
        "x": 2930,
        "y": 1200,
        "wires": [
            [
                "428cc4dcd3c92096"
            ]
        ]
    },
    {
        "id": "f26f608ffe1d1740",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "c6efbbb3df5d165b",
        "order": 32,
        "width": 8,
        "height": 1,
        "name": "Done Sequence",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "row-spread",
        "className": "",
        "x": 3660,
        "y": 1200,
        "wires": []
    },
    {
        "id": "db78164db867bc6f",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": " ",
        "payload": " ",
        "payloadType": "str",
        "x": 1010,
        "y": 1760,
        "wires": [
            [
                "c1b27b49f43717da"
            ]
        ]
    },
    {
        "id": "f5a210f2ae2eb9a5",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2670,
        "y": 2080,
        "wires": [
            [
                "a928ba2d2721c971"
            ]
        ]
    },
    {
        "id": "a928ba2d2721c971",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2860,
        "y": 2080,
        "wires": [
            [
                "e55b860e1a64c5ab"
            ]
        ]
    },
    {
        "id": "47917a97a95fe36a",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "seq enable",
        "links": [
            "0f1424c607638e32",
            "254cf2182dfdf193",
            "0ad33f38eaa81674",
            "bf1d21b5c2e6593d",
            "964caecef2f7b5a8"
        ],
        "x": 1165,
        "y": 2040,
        "wires": [
            [
                "c5bad098293281d7"
            ]
        ]
    },
    {
        "id": "db221904c507e18b",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "blank sequence",
        "links": [
            "254cf2182dfdf193",
            "fcbb923f2023bbc7",
            "15954779ec36f19d",
            "9d857761a1a12966",
            "4fa322b2210c4b65",
            "bd51cb24ec743680",
            "0760b56662d35783"
        ],
        "x": 925,
        "y": 1160,
        "wires": [
            [
                "6549c17e53a7a590",
                "1ffc92da4b11a432",
                "42889f0f5bdcaa91"
            ]
        ]
    },
    {
        "id": "42cca26bac746c38",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1340,
        "y": 2200,
        "wires": [
            [
                "96fba68dca8ebd98"
            ]
        ]
    },
    {
        "id": "96fba68dca8ebd98",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 2200,
        "wires": [
            [
                "e3fcccf322345c60"
            ]
        ]
    },
    {
        "id": "ce70fcbd7fd17a54",
        "type": "split",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1210,
        "y": 940,
        "wires": [
            [
                "f448a2772af0ccc2"
            ]
        ]
    },
    {
        "id": "f448a2772af0ccc2",
        "type": "switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "enable",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Tolerance1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Tolerance2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "leverage",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Trade",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "TradeType",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 1370,
        "y": 940,
        "wires": [
            [
                "0f1424c607638e32"
            ],
            [
                "3264cfd36ba2a4b1"
            ],
            [
                "bd6d79e65649fc94"
            ],
            [
                "816c5911b2a98906"
            ],
            [
                "6e07dff9f6fc3f10"
            ],
            [
                "15fb7b33cd743866"
            ]
        ]
    },
    {
        "id": "0f1424c607638e32",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "SEQ ENABLE OUT",
        "mode": "link",
        "links": [
            "47917a97a95fe36a",
            "6e439102468fc1d0"
        ],
        "x": 1525,
        "y": 860,
        "wires": []
    },
    {
        "id": "3264cfd36ba2a4b1",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Tolerance1 OUT",
        "mode": "link",
        "links": [
            "8f1d0be163dd9d0c",
            "9b42ada7bdc9f57b"
        ],
        "x": 1525,
        "y": 900,
        "wires": []
    },
    {
        "id": "bd6d79e65649fc94",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Tolerance 2 OUT",
        "mode": "link",
        "links": [
            "44204a9e53c23b7b",
            "2426e497412b5532"
        ],
        "x": 1525,
        "y": 940,
        "wires": []
    },
    {
        "id": "816c5911b2a98906",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "leverage OUT",
        "mode": "link",
        "links": [
            "4441998eccfcbd47",
            "848f06fbb8dc2b1e"
        ],
        "x": 1525,
        "y": 980,
        "wires": []
    },
    {
        "id": "6e07dff9f6fc3f10",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "trade OUT",
        "mode": "link",
        "links": [
            "d834a97db6bf8179",
            "0c723288ad65cad0"
        ],
        "x": 1525,
        "y": 1020,
        "wires": []
    },
    {
        "id": "8f1d0be163dd9d0c",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "Tolerance1",
        "links": [
            "acc214b402aae351",
            "3264cfd36ba2a4b1",
            "9b86911737091472",
            "ce4464381322c691"
        ],
        "x": 395,
        "y": 1760,
        "wires": [
            [
                "279235bcf0690210"
            ]
        ]
    },
    {
        "id": "44204a9e53c23b7b",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "Tolerance2",
        "links": [
            "acc214b402aae351",
            "bd6d79e65649fc94",
            "8479ea1aaa000b7f",
            "ce4464381322c691"
        ],
        "x": 395,
        "y": 1880,
        "wires": [
            [
                "8720c589aad1d953"
            ]
        ]
    },
    {
        "id": "88a4ab850ca84d58",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "---- OUT indicator",
        "mode": "link",
        "links": [
            "6a3dadc7e72691bd",
            "e126524c635b4538"
        ],
        "x": 2735,
        "y": 1920,
        "wires": []
    },
    {
        "id": "9355dabc9ceb5f56",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2610,
        "y": 1920,
        "wires": [
            [
                "88a4ab850ca84d58"
            ]
        ]
    },
    {
        "id": "7b9a4729ee70e67c",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "blank position",
        "links": [
            "40096b73ffc42de0",
            "254cf2182dfdf193",
            "80c80d0ccb3bc1af",
            "fcbb923f2023bbc7",
            "0104c52d6e612698",
            "15954779ec36f19d",
            "6a7f085f10982e2d",
            "cdcd409f4d85cf31",
            "495275a871d7eabe",
            "9d857761a1a12966",
            "4fa322b2210c4b65",
            "bd51cb24ec743680",
            "277e15850b022d5b",
            "0760b56662d35783"
        ],
        "x": 2365,
        "y": 1920,
        "wires": [
            [
                "f615e03202ccbbd8"
            ]
        ]
    },
    {
        "id": "0f5920d3693c6d38",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "-1",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2620,
        "y": 1960,
        "wires": [
            [
                "e2c6c9ee5124e284"
            ]
        ]
    },
    {
        "id": "e2c6c9ee5124e284",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "-1 OUT",
        "mode": "link",
        "links": [
            "6a6a16e238bf56ab"
        ],
        "x": 2745,
        "y": 1960,
        "wires": []
    },
    {
        "id": "254cf2182dfdf193",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "load seq OUT",
        "mode": "link",
        "links": [
            "47917a97a95fe36a",
            "7b9a4729ee70e67c",
            "bcd9fd91736e454a",
            "db221904c507e18b",
            "dd130e326f37eb40",
            "010e39dec951f3f9",
            "b93cf2b857905ff4",
            "6e439102468fc1d0",
            "86a515e9487a90df",
            "e00c4eba244b7990",
            "21d7db3109f88a5c"
        ],
        "x": 985,
        "y": 900,
        "wires": []
    },
    {
        "id": "c28f1d8a3685ac10",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1310,
        "y": 1800,
        "wires": [
            [
                "2efd48e4b0034b9e"
            ]
        ]
    },
    {
        "id": "b80cca059dcf754c",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1050,
        "y": 940,
        "wires": [
            [
                "ce70fcbd7fd17a54"
            ]
        ]
    },
    {
        "id": "bcd9fd91736e454a",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "blank indicator",
        "links": [
            "254cf2182dfdf193",
            "fcbb923f2023bbc7",
            "4fa322b2210c4b65"
        ],
        "x": 945,
        "y": 1700,
        "wires": [
            [
                "0ecd63d01ae76691"
            ]
        ]
    },
    {
        "id": "0ecd63d01ae76691",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 1700,
        "wires": [
            [
                "c1b27b49f43717da"
            ]
        ]
    },
    {
        "id": "fc6c18b1906f02ed",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "SAVE Allconfig",
        "func": "\nvar generalConfig = global.get('generalConfig') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\n\n// msg.topic = 'SAVE';\n\nif (msg.topic.charAt(0)=='t'){\n    if (!generalConfig.hasOwnProperty('trend')) generalConfig.trend = {};\n    // if (!generalConfig.trend.hasOwnProperty(msg.topic)) generalConfig.trend[msg.topic]= {};\n    global.set('generalConfig', generalConfig); \n    msg.debug=\"Trend indicator \"+msg.payload;\n    msg.payload=generalConfig.trend[msg.topic];\n    global.set('position',msg.topic);\n    var msg1={};\n    if (Allconfig.hasOwnProperty('config')) {\n        if (Allconfig.config.hasOwnProperty('trend')) {\n            if (Allconfig.config.trend.hasOwnProperty(msg.topic)) {\n                if (Allconfig.config.trend[msg.topic].hasOwnProperty('value')) msg1.payload=Allconfig.config.trend[msg.topic].value;\n            }else msg1.payload=\"\";\n        }\n    }\n    return [msg,msg1];\n}\nelse if (msg.topic.split('-')[0]=='PC'){\n    if (!generalConfig.hasOwnProperty('tradePC')) generalConfig.tradePC={};\n    generalConfig.tradePC[msg.topic.split(\"-\")[1]]=msg.payload;\n    global.set('generalConfig', generalConfig); \n}\nelse {\n    // if (!generalConfig.hasOwnProperty('config')) generalConfig.config={};\n    generalConfig[msg.topic]=msg.payload;\n    global.set('generalConfig', generalConfig); \n    return [null,null];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3680,
        "y": 960,
        "wires": [
            [
                "80c80d0ccb3bc1af",
                "17c89e1f1e93652c"
            ],
            [
                "9aa090702ec69aff",
                "09ccf03849c26789"
            ]
        ]
    },
    {
        "id": "af64399249eb4cc0",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "position IN",
        "links": [
            "80c80d0ccb3bc1af",
            "495275a871d7eabe"
        ],
        "x": 1075,
        "y": 1660,
        "wires": [
            [
                "c1b27b49f43717da"
            ]
        ]
    },
    {
        "id": "80c80d0ccb3bc1af",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Trend out",
        "mode": "link",
        "links": [
            "6e6873126c31881b",
            "7b9a4729ee70e67c",
            "af64399249eb4cc0",
            "dd130e326f37eb40",
            "8f8a2fd498c93f99",
            "0c8a78a603718356",
            "b93cf2b857905ff4",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 3845,
        "y": 960,
        "wires": []
    },
    {
        "id": "6e6873126c31881b",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "load position IN",
        "links": [
            "80c80d0ccb3bc1af",
            "495275a871d7eabe"
        ],
        "x": 1195,
        "y": 1740,
        "wires": [
            [
                "c28f1d8a3685ac10"
            ]
        ]
    },
    {
        "id": "428cc4dcd3c92096",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "SAVE Allconfig",
        "func": "var position = global.get('position');\nvar seqSelected = global.get('seqSelected');\nvar strategy = global.get('strategy');\nvar generalConfig = global.get('generalConfig') || {};\nvar Allsequences = global.get('Allsequences', 'varstorage') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage') ||{};\n\nmsg.topic = 'SAVE';\n\nif (generalConfig.exchange==\"----\" || generalConfig.symbol==\"----\" || !generalConfig.hasOwnProperty(\"trend\") ||\n!generalConfig.trend.hasOwnProperty(\"t1\") || !generalConfig.trend.hasOwnProperty(\"t2\") ||\n!generalConfig.trend.hasOwnProperty(\"t3\") || !generalConfig.trend.hasOwnProperty(\"t4\")\n    || generalConfig.tradePC['E_takeProfit'] == -1 || generalConfig.tradePC['W_takeProfit'] == -1 || generalConfig.tradePC['N_takeProfit'] == -1  \n    || generalConfig.tradePC['E_tradeSize'] == -1 || generalConfig.tradePC['W_tradeSize'] == -1 || generalConfig.tradePC['N_tradeSize'] == -1 \n    || generalConfig.tradePC['E_stopLoss'] == -1 || generalConfig.tradePC['E_stopLoss'] == -1 || generalConfig.tradePC['E_stopLoss'] == -1 \n){\nmsg.debug=\"Trade not ready, check configuration\";\n}else {\n    Allconfig.config = generalConfig;\n    Allsequences[strategy]=Allconfig;\n    global.set('Allconfig', Allconfig, 'varstorage');\n    global.set('Allsequences', Allsequences, 'varstorage');\n    // global.set('position',\"\");\n    // global.set('seqSelected', \"\");\n    // global.set('generalConfig', {});\n    msg.debug=\"Ready to Trade\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3160,
        "y": 1200,
        "wires": [
            [
                "f26f608ffe1d1740",
                "3e9ee6cb52292147",
                "fcbb923f2023bbc7",
                "79124743d04fb950"
            ]
        ]
    },
    {
        "id": "3e9ee6cb52292147",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3320,
        "y": 1260,
        "wires": [
            [
                "be5504310802e703"
            ]
        ]
    },
    {
        "id": "be5504310802e703",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3510,
        "y": 1260,
        "wires": [
            [
                "f26f608ffe1d1740"
            ]
        ]
    },
    {
        "id": "17c89e1f1e93652c",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 33",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3840,
        "y": 900,
        "wires": []
    },
    {
        "id": "fcbb923f2023bbc7",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Save General Config",
        "mode": "link",
        "links": [
            "28a99cd26643a66d",
            "7b9a4729ee70e67c",
            "8a65db67747ee1a5",
            "bcd9fd91736e454a",
            "d6d2995cad3bf4c1",
            "da316d4c578e94a9",
            "db221904c507e18b",
            "9a3e470a7c8269aa",
            "010e39dec951f3f9",
            "b93cf2b857905ff4",
            "7fd8a29ce045ee4d",
            "21d7db3109f88a5c"
        ],
        "x": 3335,
        "y": 1160,
        "wires": []
    },
    {
        "id": "334d5c224684b0ca",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "START OUT",
        "mode": "link",
        "links": [
            "28a99cd26643a66d",
            "30a5d51a8c8c4247",
            "be19712b76a1e834",
            "cccf51fcabdfeb5b",
            "2f8673198ea7b388"
        ],
        "x": 865,
        "y": 440,
        "wires": []
    },
    {
        "id": "0eb560af8782f0ee",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Delete",
        "group": "073356e9ad872f62",
        "order": 3,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-trash-o fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE GENERAL",
        "topicType": "str",
        "x": 750,
        "y": 1360,
        "wires": [
            [
                "57778c726b21b81e"
            ]
        ]
    },
    {
        "id": "57778c726b21b81e",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "delete seq",
        "func": "var seqSelected = global.get('seqSelected');\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n// var currentSequence = global.get('currentSequence') || {};\n\ndelete Allconfig.sequences[seqSelected];\nglobal.set('currentSequence', {});\nglobal.set('Allconfig', Allconfig, 'varstorage');\nvar seqNumber=seqSelected.charAt(1);\nmsg.debug = \"sequence \" + seqNumber+\" deleted\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 1360,
        "wires": [
            [
                "15954779ec36f19d"
            ]
        ]
    },
    {
        "id": "9c07f382ea28fd67",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "3099eb616e7a700f",
        "order": 13,
        "width": 8,
        "height": 2,
        "name": "Results",
        "label": "",
        "format": "{{msg.result}}",
        "layout": "row-left",
        "className": "",
        "x": 1800,
        "y": 500,
        "wires": []
    },
    {
        "id": "038e2b6cf04a54a2",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "debug results",
        "links": [
            "dd2efe121d825564",
            "4839d2f5c8d1ed38",
            "1f12170b0c8cb781"
        ],
        "x": 1255,
        "y": 500,
        "wires": [
            [
                "39e37b067c0f89a5",
                "9c07f382ea28fd67"
            ]
        ]
    },
    {
        "id": "39e37b067c0f89a5",
        "type": "trigger",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "pay",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1430,
        "y": 440,
        "wires": [
            [
                "8b90cf5eaedd3acc"
            ]
        ]
    },
    {
        "id": "cbf9ea10acc747a1",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "string",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1510,
        "y": 2040,
        "wires": []
    },
    {
        "id": "e75aa360d5bc45bc",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "stop",
        "payloadType": "str",
        "x": 670,
        "y": 520,
        "wires": [
            [
                "06fe7bbc477852cb"
            ]
        ]
    },
    {
        "id": "a8900e6dc3502429",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "SAVE indicator OUT",
        "mode": "link",
        "links": [
            "d49bc07d1c732fd8",
            "da316d4c578e94a9",
            "fec7ce77d3b8ea7d"
        ],
        "x": 2675,
        "y": 2220,
        "wires": []
    },
    {
        "id": "17bf9bc39f7cf5d3",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "Load positions",
        "func": "var currentSequence = global.get('currentSequence') || {};\nvar seqSelected = global.get('seqSelected');\nvar position = global.get('position');\nvar strategy = global.get('strategy');\n\n\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar Aposition;\n\nmsg.payload=[];\n// var n=0;\n// for (var pos in currentSequence.position){\n\n// // var p = parseInt(pos.charAt(1));\n// if (Allconfig.sequences.hasOwnProperty(seqSelected)) {\n//     if (Allconfig.sequences[seqSelected].hasOwnProperty('position')) {\n// if (Allconfig.sequences[seqSelected].position.hasOwnProperty('p' + (pos + 1))) {\n\n// if (JSON.stringify(currentSequence) != '{}' ){\n            // if (JSON.stringify(currentSequence.position[pos]!= '{}')){\n                // if (currentSequence.position.hasOwnProperty('p' + (pos + 1))) {\n\n\n\n\nif (Allconfig.sequences.hasOwnProperty(seqSelected)) {\n    msg.payload=[];\n    for (var pos in Allconfig.sequences[seqSelected].position) {\n        // var Aposition = parseInt(pos.substring(1)) - 1;\n        var name=Allconfig.sequences[seqSelected].position[pos].name;\n        Aposition = parseInt(pos.charAt(1)) - 1;\n        // msg.payload[Aposition]=\"\";\n        if (Allconfig.sequences[seqSelected].position[pos].hasOwnProperty(\"value\")) msg.payload[Aposition] = \"<p>\" + parseInt(pos.charAt(1))+ \"</p>\"+\"<p>\" + name+\"</p>\"+\"<p>\"+ Allconfig.sequences[seqSelected].position[pos].value.toFixed(1) + \"</p>\";\n        else msg.payload[Aposition] = \"<p>\" + parseInt(pos.charAt(1)) + \"</p>\" + \"<p>\" + name + \"</p>\";\n        // if (Allconfig.sequences[seqSelected].position[pos].hasOwnProperty(\"update\")) {\n        //     if (Allconfig.sequences[seqSelected].position[pos].update == false) msg.colour[Aposition] = \"red\";\n        //     else msg.colour[Aposition] == \"\";\n        // }\n    }\n}\nelse if (JSON.stringify(currentSequence) != '{}') {\n    if (currentSequence.hasOwnProperty('position')) {\n        for (var CSpos in currentSequence.position) {\n            var CSposition = parseInt(CSpos.substring(1)) - 1;\n            msg.payload[CSposition] = currentSequence.position[CSpos].name;\n            msg.payload[CSposition] = \"<p>\" + (CSposition + 1) + \"</p>\" + \"<p>\" + msg.payload[CSposition] + \"</p>\";\n        }\n    }\n}\n// msg.aposition=Aposition;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 2140,
        "wires": [
            [
                "9797f7982eb9687c",
                "f85b9c6fd5d3145a"
            ]
        ]
    },
    {
        "id": "d49bc07d1c732fd8",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "display position",
        "links": [
            "a8900e6dc3502429",
            "0104c52d6e612698",
            "fc5cbd30eb85338e",
            "bf6d4b74a12b25c9",
            "87c1099cd41be3d4",
            "ce73dd1bba42695f",
            "961df1b86e0b156c",
            "277e15850b022d5b"
        ],
        "x": 165,
        "y": 1980,
        "wires": [
            [
                "17bf9bc39f7cf5d3"
            ]
        ]
    },
    {
        "id": "f958b6a850e21192",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 2220,
        "wires": [
            [
                "17bf9bc39f7cf5d3"
            ]
        ]
    },
    {
        "id": "d1b74de79afdd4e4",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Delete",
        "group": "7203e5daf97c1a43",
        "order": 3,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-trash-o fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE GENERAL",
        "topicType": "str",
        "x": 2438.888916015625,
        "y": 2378.333251953125,
        "wires": [
            [
                "b083e071c47df318"
            ]
        ]
    },
    {
        "id": "b083e071c47df318",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "delete seq",
        "func": "var currentSequence = global.get('currentSequence');\nvar indicator = global.get('indicator');\nvar position = global.get('position');\nvar seqSelected = global.get('seqSelected');\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar generalConfig = global.get('generalConfig') || {};\nvar posNumber = position.charAt(1);\n\nif (position.charAt(0) == 'p') {\n    delete Allconfig.sequences[seqSelected].position[position];\n    delete currentSequence.position[position];\n    msg.debug = \"position \" + posNumber + \" deleted\";\n}\nelse if (position.charAt(0) == 't') {\n    delete Allconfig.config.trend[position];\n    delete generalConfig.trend[position];\n    msg.debug = \"trend \" + posNumber + \" deleted\";\n}\n// indicator={};\nglobal.set('Allconfig', Allconfig, 'varstorage');\nglobal.set('currentSequence', currentSequence);\nglobal.set('indicator', {});\nmsg.payload=false;\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2658.888916015625,
        "y": 2378.333251953125,
        "wires": [
            [
                "0104c52d6e612698"
            ]
        ]
    },
    {
        "id": "0104c52d6e612698",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "delete indicator",
        "mode": "link",
        "links": [
            "d6d2995cad3bf4c1",
            "7b9a4729ee70e67c",
            "0d861cbef75ec834",
            "1632746d0ff25c35",
            "d49bc07d1c732fd8",
            "da316d4c578e94a9",
            "fec7ce77d3b8ea7d",
            "b93cf2b857905ff4",
            "c10ea73396d735bf",
            "d7a5dcf59ab6738e",
            "7fd8a29ce045ee4d"
        ],
        "x": 2855,
        "y": 2380,
        "wires": []
    },
    {
        "id": "15954779ec36f19d",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "delete sequence OUT",
        "mode": "link",
        "links": [
            "7b9a4729ee70e67c",
            "96e3c3d86e4c7f87",
            "db221904c507e18b",
            "b93cf2b857905ff4",
            "2c03831769784e9f",
            "21d7db3109f88a5c"
        ],
        "x": 1115,
        "y": 1360,
        "wires": []
    },
    {
        "id": "0d861cbef75ec834",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "indicator debug IN",
        "links": [
            "0104c52d6e612698",
            "277e15850b022d5b"
        ],
        "x": 2525,
        "y": 2040,
        "wires": [
            [
                "66ba4161bba268e7"
            ]
        ]
    },
    {
        "id": "50dc638f4fb87f9a",
        "type": "ui_dropdown",
        "z": "2b13ae4b4189cf8c",
        "name": "Type of Trade",
        "label": "Type of Trade",
        "tooltip": "",
        "place": "buy or sell..",
        "group": "073356e9ad872f62",
        "order": 8,
        "width": 8,
        "height": 1,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "Extreme",
                "value": "extreme",
                "type": "str"
            },
            {
                "label": "Weak",
                "value": "weak",
                "type": "str"
            },
            {
                "label": "Neutral",
                "value": "neutral",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "TradeType",
        "topicType": "str",
        "className": "",
        "x": 520,
        "y": 1640,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "0dd8b86d664f50d2",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "Type of Trade IN",
        "links": [
            "2b88192e01d4d756",
            "15fb7b33cd743866",
            "20204ea3413e6a9f",
            "8ecd38cee99adb3f"
        ],
        "x": 325,
        "y": 1640,
        "wires": [
            [
                "50dc638f4fb87f9a"
            ]
        ]
    },
    {
        "id": "15fb7b33cd743866",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "type of trade OUT",
        "mode": "link",
        "links": [
            "0dd8b86d664f50d2",
            "c0a40dec6eea6fd9"
        ],
        "x": 1515,
        "y": 1060,
        "wires": []
    },
    {
        "id": "8a65db67747ee1a5",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "Sequences ON",
        "links": [
            "fcbb923f2023bbc7",
            "4fa322b2210c4b65"
        ],
        "x": 785,
        "y": 1020,
        "wires": [
            [
                "d3197dd777be3356"
            ]
        ]
    },
    {
        "id": "d3197dd777be3356",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 1020,
        "wires": [
            [
                "a9d00ba39e031250"
            ]
        ]
    },
    {
        "id": "28a99cd26643a66d",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "Blank results",
        "links": [
            "fcbb923f2023bbc7",
            "334d5c224684b0ca",
            "4fa322b2210c4b65"
        ],
        "x": 1305,
        "y": 400,
        "wires": [
            [
                "9f0338f243c6374f"
            ]
        ]
    },
    {
        "id": "8b90cf5eaedd3acc",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "result",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1590,
        "y": 440,
        "wires": [
            [
                "9c07f382ea28fd67"
            ]
        ]
    },
    {
        "id": "9f0338f243c6374f",
        "type": "switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "stop",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 400,
        "wires": [
            [
                "8b90cf5eaedd3acc"
            ]
        ]
    },
    {
        "id": "d9f3ff8f94c90a2f",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "Trends",
        "func": "var generalConfig = global.get('generalConfig') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n// var position = global.get('position');\nvar strategy = global.get('strategy');\n\n\nmsg.payload=[];\n// var n=0;\n// for (var pos in currentSequence.position){\n\nfor (var pos=0;pos<4;pos++){\n    if (Allconfig.config.hasOwnProperty('trend')){\n        if (Allconfig.config.trend.hasOwnProperty('t' + (pos + 1))){\n            // msg.payload[pos] = \"<p>\" + msg.payload[pos] + \"</p>\"\n            if (Allconfig.config.trend['t' + (pos + 1)].hasOwnProperty(\"value\")) msg.payload[pos] = \"<p>\" + msg.payload[pos] + \"</p>\" + \"<p>\" + Allconfig.config.trend['t' + (pos + 1)].value.toFixed(1)+\"</p>\";\n        }\n    }\n    if (generalConfig.trend.hasOwnProperty('t' + (pos + 1))) msg.payload[pos] = \"<p>\" + generalConfig.trend['t' + (pos + 1)].name + \"</p>\";\n    else msg.payload[pos]=\"\";\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 1080,
        "wires": [
            [
                "5f536edc365c778d"
            ]
        ]
    },
    {
        "id": "da316d4c578e94a9",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "display trend",
        "links": [
            "0104c52d6e612698",
            "1c8aa106cbaaccc8",
            "45dc88cec1d5ee92",
            "a8900e6dc3502429",
            "bf6d4b74a12b25c9",
            "ed918bd1ac221be6",
            "fc5cbd30eb85338e",
            "fcbb923f2023bbc7",
            "87c1099cd41be3d4",
            "0f11c9ecb117a6e1",
            "ce73dd1bba42695f",
            "7acd0dbc752cfd9f",
            "4fa322b2210c4b65",
            "961df1b86e0b156c",
            "277e15850b022d5b"
        ],
        "x": 3085,
        "y": 1080,
        "wires": [
            [
                "d9f3ff8f94c90a2f",
                "2bfd9553ae3b67a3"
            ]
        ]
    },
    {
        "id": "82d5363d05b9e971",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "TREND 2B",
        "group": "c6efbbb3df5d165b",
        "order": 17,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 2B<br />{{msg.payload[3]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[3]}}",
        "className": "",
        "icon": "",
        "payload": "2B",
        "payloadType": "str",
        "topic": "t4",
        "topicType": "str",
        "x": 3410,
        "y": 1120,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "252e6145a2841545",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq5",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[4]}}",
        "className": "",
        "icon": "",
        "payload": "5",
        "payloadType": "str",
        "topic": "s5",
        "topicType": "str",
        "x": 570,
        "y": 1100,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "74881acb2f44f44b",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq6",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[5]}}",
        "className": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "s6",
        "topicType": "str",
        "x": 570,
        "y": 1140,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "8e3fab5ce7e6de5d",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq7",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[6]}}",
        "className": "",
        "icon": "",
        "payload": "7",
        "payloadType": "str",
        "topic": "s7",
        "topicType": "str",
        "x": 570,
        "y": 1180,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "8084965f873034bb",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "group": "2fb43ef966523e39",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "seq8",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[7]}}",
        "className": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "s8",
        "topicType": "str",
        "x": 570,
        "y": 1220,
        "wires": [
            [
                "12303c49b253badc"
            ]
        ]
    },
    {
        "id": "edf382182747eca7",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "seq5 sw",
        "label": "5",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s5",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 1140,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "387a9bac6dbd8ced",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "seq6 sw",
        "label": "6",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 9,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s6",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 1200,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "2830c4fa00473947",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "seq7 sw",
        "label": "7",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 10,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s7",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 1260,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "a79f7a582a43ede6",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "seq8 sw",
        "label": "8",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 11,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "s8",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-toggle-right fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-times fa-2x",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 2120,
        "y": 1320,
        "wires": [
            [
                "e357a5b2db4937df"
            ]
        ]
    },
    {
        "id": "b0a74ac6550c3dcd",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "7203e5daf97c1a43",
        "order": 11,
        "width": 8,
        "height": 1,
        "name": "Value",
        "label": "Value",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "x": 2500,
        "y": 1820,
        "wires": []
    },
    {
        "id": "8f32e90ff5627310",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "value IN",
        "links": [
            "9aa090702ec69aff",
            "6a7f085f10982e2d",
            "cdcd409f4d85cf31",
            "7d147adbcebee901"
        ],
        "x": 2375,
        "y": 1820,
        "wires": [
            [
                "b0a74ac6550c3dcd"
            ]
        ]
    },
    {
        "id": "0c99c15f67f16f53",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "Value",
        "func": "var seq = global.get('seqSelected');\nvar strategy = global.get('strategy');\nvar pos = global.get('position');\nvar currentSequence = global.get('currentSequence') || {};\n\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nif (Allconfig.hasOwnProperty('sequences')) {\n    if (Allconfig.sequences.hasOwnProperty(seq)) {\n        if (Allconfig.sequences[seq].hasOwnProperty('position')) {\n            if (Allconfig.sequences[seq].position.hasOwnProperty(pos)){\n                if (Allconfig.sequences[seq].position.hasOwnProperty(pos)){\n                    if (Allconfig.sequences[seq].position[pos].hasOwnProperty('value')) msg.payload = Allconfig.sequences[seq].position[pos].value;\n                }else msg.payload = \"\";\n            }\n        }\n    }\n}\nelse msg.payload=\"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1290,
        "y": 1860,
        "wires": [
            [
                "6a7f085f10982e2d",
                "c7165a377fcf712b"
            ]
        ]
    },
    {
        "id": "6a7f085f10982e2d",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Value OUT",
        "mode": "link",
        "links": [
            "474037e5e2a1ac63",
            "7b9a4729ee70e67c",
            "8f32e90ff5627310",
            "dd130e326f37eb40",
            "b93cf2b857905ff4",
            "128790358590033f",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 1425,
        "y": 1860,
        "wires": []
    },
    {
        "id": "b2fabbe735ceb31d",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "TREND 2A",
        "group": "c6efbbb3df5d165b",
        "order": 16,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 2A<br />{{msg.payload[2]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[2]}}",
        "className": "",
        "icon": "",
        "payload": "2A",
        "payloadType": "str",
        "topic": "t3",
        "topicType": "str",
        "x": 3410,
        "y": 1080,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "9aa090702ec69aff",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Trend value out",
        "mode": "link",
        "links": [
            "8f32e90ff5627310",
            "128790358590033f"
        ],
        "x": 3795,
        "y": 1000,
        "wires": []
    },
    {
        "id": "79e3ebc625c8a373",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 2340,
        "y": 1880,
        "wires": [
            [
                "f615e03202ccbbd8",
                "a05fb717791fe384"
            ]
        ]
    },
    {
        "id": "a05fb717791fe384",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Blank position OUT",
        "mode": "link",
        "links": [
            "1632746d0ff25c35",
            "c10ea73396d735bf"
        ],
        "x": 2495,
        "y": 1880,
        "wires": []
    },
    {
        "id": "39c75491168fce82",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Settings",
        "group": "3099eb616e7a700f",
        "order": 11,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "grey",
        "className": "",
        "icon": "fa-cogs fa-2x",
        "payload": "buy",
        "payloadType": "str",
        "topic": "settings",
        "topicType": "str",
        "x": 660,
        "y": 600,
        "wires": [
            [
                "76763110a6b7c8c7"
            ]
        ]
    },
    {
        "id": "cf4aa590443fcab3",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "function 19",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar position = global.get('position');\nvar seq = global.get('seqSelected');\n\nvar button=msg.topic;\n\nvar msg1={};\nmsg1.payload={};\nmsg1.seqBackground = [];\nmsg1.tBackground = [];\nmsg1.pBackground = [];\n\nmsg.payload = {};\nmsg.payload.group = {};\nmsg.payload.group.show = [];\nmsg.payload.group.hide = [];\n\nvar msg2 = {};\nmsg2.payload={};\nmsg2.tBackground = [];\n\nvar selectedColour = \"rgb(180,180,220)\";\n\nfunction seqBlank(){\n    for (var seqs in Allconfig.sequences){\n        msg1.seqBackground[parseInt(seqs.charAt(1))]=\"\";\n        msg1.payload=\"clear sequences\";\n    }\n    \n}\n\nif (button==\"main\"){\n    msg.payload.group.show[0] = \"beanstalk_Main\";\n    msg.payload.group.hide[0] = \"beanstalk_gConfig\";\n    msg.payload.group.hide[1] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[2] = \"beanstalk_indicator\";\n    msg.payload.group.hide[3] = \"beanstalk_settings\";\n    msg.payload.group.hide[4] = \"beanstalk_sequences\";\n    msg.payload.group.hide[5] = \"beanstalk_positions\";\n    seqBlank();\n\n \n}\nif (button == \"configuration\") {\n    msg.payload.group.hide[0] = \"beanstalk_Main\";\n    msg.payload.group.show[0] = \"beanstalk_gConfig\";\n    msg.payload.group.show[1] = \"beanstalk_sequences\";\n    msg.payload.group.hide[1] = \"beanstalk_indicator\";\n    msg.payload.group.hide[2] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[3] = \"beanstalk_settings\";\n    // seqBlank();\n\n}\nif (button == \"gBack\" || button == \"settingsBack\"){\n    msg.payload.group.show[0] = \"beanstalk_Main\";\n    msg.payload.group.hide[0] = \"beanstalk_gConfig\";\n    msg.payload.group.hide[1] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[2] = \"beanstalk_indicator\";\n    msg.payload.group.hide[3] = \"beanstalk_settings\";\n    msg.payload.group.hide[4] = \"beanstalk_sequences\";\n    seqBlank();\n\n}\nif (button == \"indicator\") {\n    msg.payload.group.show[0] = \"beanstalk_indicator\";\n    msg.payload.group.hide[0] = \"beanstalk_gConfig\";\n    msg.payload.group.hide[1] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[2] = \"beanstalk_Main\";\n    msg.payload.group.hide[3] = \"beanstalk_settings\";\n    msg.payload.group.hide[4] = \"beanstalk_sequences\";\n\n\n}\nif (button == \"indicatorBack\") {\n    if (position.charAt(0)=='t'){\n        msg.payload.group.show[0] = \"beanstalk_gConfig\";\n        msg.payload.group.show[1] = \"beanstalk_sequences\";\n\n        // msg.payload.group.show[1] = \"beanstalk_positions\";        \n\n    }\n    else if (position.charAt(0) == 'p') {\n        msg.payload.group.show[0] = \"beanstalk_seqConfig\";\n        msg.payload.group.show[1] = \"beanstalk_sequences\";\n        msg.payload.group.show[1] = \"beanstalk_positions\";\n        msg1.seqBackground[parseInt(seq.substring(1)) - 1] = selectedColour;\n        // msg1.payload = \"sequence selected\";\n\n\n        // msg1.seqBackground[parseInt(seq.charAt(1)) - 1] = \"rgb(180,180,220)\";\n        // msg1.payload=\"selected position\";\n    }\n    msg.payload.group.hide[0] = \"beanstalk_indicator\";\n}\nif (button == \"settings\") {\n    msg.payload.group.hide[0] = \"beanstalk_indicator\";\n    msg.payload.group.hide[1] = \"beanstalk_gConfig\";\n    msg.payload.group.hide[2] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[3] = \"beanstalk_Main\";\n    msg.payload.group.hide[4] = \"beanstalk_sequences\";\n    seqBlank();\n    msg.payload.group.show[0] = \"beanstalk_Settings\";\n}\nif (button.charAt(0)=='s'){\n    msg.payload.group.show[0] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[0] = \"beanstalk_gConfig\";\n    msg.payload.group.hide[1] = \"beanstalk_indicator\";\n    msg.payload.group.hide[2] = \"beanstalk_Main\";\n    msg.payload.group.hide[3] = \"beanstalk_settings\";\n    msg.payload.group.show[1] = \"beanstalk_sequences\";\n    msg.payload.group.show[2] = \"beanstalk_positions\";\n    msg1.seqBackground[parseInt(button.substring(1)) - 1] = selectedColour;\n    msg1.payload=\"sequence selected\";\n    \n}\nif (button == \"sBack\" || button == \"settingsBack\") {\n    msg.payload.group.show[0] = \"beanstalk_gConfig\";\n    msg.payload.group.show[1] = \"beanstalk_sequences\";\n    msg.payload.group.hide[0] = \"beanstalk_Main\";\n    msg.payload.group.hide[1] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[2] = \"beanstalk_indicator\";\n    msg.payload.group.hide[3] = \"beanstalk_settings\";\n    msg.payload.group.hide[4] = \"beanstalk_positions\";\n\n    seqBlank();\n\n}\nif (button.charAt(0) == 't') {\n    // msg.payload.group.show[2] = \"beanstalk_sequences\";\n    msg.payload.group.show[0] = \"beanstalk_gConfig\";\n    msg.payload.group.show[1] = \"beanstalk_indicator\";\n    msg.payload.group.hide[0] = \"beanstalk_Main\";\n    msg.payload.group.hide[1] = \"beanstalk_settings\";\n    msg.payload.group.hide[2] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[3] = \"beanstalk_sequences\";\n\n\n    // seqBlank();\n    // msg1.seqBackground[parseInt(button.charAt(1)) - 1] = \"\";\n    msg2.tBackground[parseInt(button.substring(1)) - 1] = selectedColour;\n    msg2.payload=\"selected trend\";\n\n}\nif (button.charAt(0) == 'p') {\n    msg.payload.group.show[0] = \"beanstalk_indicator\";\n    // msg.payload.group.show[1] = \"beanstalk_sequences\";\n    msg.payload.group.show[1] = \"beanstalk_seqConfig\";\n    msg.payload.group.hide[1] = \"beanstalk_gConfig\";\n    msg.payload.group.hide[2] = \"beanstalk_Main\";\n    msg.payload.group.hide[3] = \"beanstalk_settings\";\n    // msg.payload.group.hide[0] = \"beanstalk_positions\";\n\n\n    // seqBlank();\n    // msg1.seqBackground[parseInt(button.charAt(1)) - 1] = \"\";\n    msg1.pBackground[parseInt(button.substring(1)) - 1] = selectedColour;\n    msg1.seqBackground[parseInt(seq.substring(1)) - 1] = selectedColour;\n    msg1.payload = \"selected position\";\n\n}\nif (JSON.stringify(msg2.payload) != '{}') return [msg, null, msg2];\nelse if (JSON.stringify(msg1.payload) != '{}') return [msg, msg1];\nelse return msg;\n",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1710,
        "y": 140,
        "wires": [
            [
                "fd9c4bfa95d807ae",
                "8081fba8c480e668"
            ],
            [
                "bf6d4b74a12b25c9"
            ],
            [
                "1c8aa106cbaaccc8",
                "e63e354cf649530a"
            ]
        ]
    },
    {
        "id": "76763110a6b7c8c7",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "dd130e326f37eb40",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 825,
        "y": 600,
        "wires": []
    },
    {
        "id": "dd130e326f37eb40",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "UI Control IN",
        "links": [
            "652b11ed71686a9d",
            "76763110a6b7c8c7",
            "a084081bcdc9572b",
            "9bbec11fb99ebbb5",
            "1df386e97c06c88d",
            "5c0b9c057abb55f8",
            "80c80d0ccb3bc1af",
            "40096b73ffc42de0",
            "6a7f085f10982e2d",
            "254cf2182dfdf193",
            "cdcd409f4d85cf31",
            "495275a871d7eabe"
        ],
        "x": 1565,
        "y": 140,
        "wires": [
            [
                "cf4aa590443fcab3"
            ]
        ]
    },
    {
        "id": "9a88249aabbd3b4b",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "main",
        "payload": "",
        "payloadType": "date",
        "x": 1500,
        "y": 80,
        "wires": [
            [
                "cf4aa590443fcab3"
            ]
        ]
    },
    {
        "id": "fd9c4bfa95d807ae",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "ui control",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1900,
        "y": 60,
        "wires": []
    },
    {
        "id": "8081fba8c480e668",
        "type": "ui_ui_control",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "events": "all",
        "x": 1900,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "960d28ed15009e8a",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Strategy 1",
        "group": "3099eb616e7a700f",
        "order": 10,
        "width": "3",
        "height": 2,
        "passthru": false,
        "label": "Strategy 1",
        "tooltip": "",
        "color": "white",
        "bgcolor": "",
        "className": "",
        "icon": "fa-edit fa-2x",
        "payload": "strategy1",
        "payloadType": "str",
        "topic": "configuration",
        "topicType": "str",
        "x": 670,
        "y": 640,
        "wires": [
            [
                "76763110a6b7c8c7",
                "b59a652b37aa249d"
            ]
        ]
    },
    {
        "id": "51ff05ce167a774b",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "token",
        "payload": "#:(varstorage)::token",
        "payloadType": "global",
        "x": 2250,
        "y": 460,
        "wires": [
            [
                "ce1ba989d4d0da49"
            ]
        ]
    },
    {
        "id": "ce1ba989d4d0da49",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "label": "TOKEN",
        "tooltip": "",
        "group": "3099eb616e7a700f",
        "order": 14,
        "width": 8,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "token",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 2440,
        "y": 460,
        "wires": [
            [
                "1f601dd19e8b6613"
            ]
        ]
    },
    {
        "id": "1f601dd19e8b6613",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(varstorage)::token",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2640,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "2fda77ef62f009ea",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Back",
        "group": "34c551c9f517c7ea",
        "order": 1,
        "width": 8,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-mail-reply fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "settingsBack",
        "topicType": "str",
        "x": 2450,
        "y": 500,
        "wires": [
            [
                "a084081bcdc9572b"
            ]
        ]
    },
    {
        "id": "a084081bcdc9572b",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Gback OUT",
        "mode": "link",
        "links": [
            "dd130e326f37eb40",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 2605,
        "y": 500,
        "wires": []
    },
    {
        "id": "dd30c70c040bd607",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Back",
        "group": "c6efbbb3df5d165b",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-mail-reply fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "gBack",
        "topicType": "str",
        "x": 2930,
        "y": 1260,
        "wires": [
            [
                "652b11ed71686a9d"
            ]
        ]
    },
    {
        "id": "652b11ed71686a9d",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Gback OUT",
        "mode": "link",
        "links": [
            "dd130e326f37eb40",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 3085,
        "y": 1260,
        "wires": []
    },
    {
        "id": "0cc830582a961dbd",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Back",
        "group": "7203e5daf97c1a43",
        "order": 1,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-mail-reply fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "indicatorBack",
        "topicType": "str",
        "x": 2440,
        "y": 2440,
        "wires": [
            [
                "9bbec11fb99ebbb5"
            ]
        ]
    },
    {
        "id": "9bbec11fb99ebbb5",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Gback OUT",
        "mode": "link",
        "links": [
            "dd130e326f37eb40",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 2595,
        "y": 2440,
        "wires": []
    },
    {
        "id": "1df386e97c06c88d",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "seq select",
        "mode": "link",
        "links": [
            "dd130e326f37eb40",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 755,
        "y": 900,
        "wires": []
    },
    {
        "id": "0cc82787a530c61d",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "seq IN",
        "links": [
            "bf6d4b74a12b25c9",
            "87c1099cd41be3d4",
            "ce73dd1bba42695f"
        ],
        "x": 385,
        "y": 940,
        "wires": [
            [
                "75034c74b24cef8d",
                "857d7cc7b2cb90f5",
                "9b376572d3c9dde7",
                "cb3735091d75b68c",
                "252e6145a2841545",
                "74881acb2f44f44b",
                "8e3fab5ce7e6de5d",
                "8084965f873034bb"
            ]
        ]
    },
    {
        "id": "bf6d4b74a12b25c9",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "CONTROL OUT",
        "mode": "link",
        "links": [
            "0cc82787a530c61d",
            "d49bc07d1c732fd8",
            "da316d4c578e94a9",
            "c58602aabab1b6ae",
            "fec7ce77d3b8ea7d"
        ],
        "x": 1875,
        "y": 140,
        "wires": []
    },
    {
        "id": "6b4c2dbd0d3077ac",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Back",
        "group": "073356e9ad872f62",
        "order": 1,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-mail-reply fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "sBack",
        "topicType": "str",
        "x": 750,
        "y": 1320,
        "wires": [
            [
                "5c0b9c057abb55f8"
            ]
        ]
    },
    {
        "id": "5c0b9c057abb55f8",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Gback OUT",
        "mode": "link",
        "links": [
            "dd130e326f37eb40",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 870,
        "y": 1320,
        "wires": []
    },
    {
        "id": "fcbffc1d18cb3fab",
        "type": "ui_template",
        "z": "2b13ae4b4189cf8c",
        "group": "ba777e8ad06ad039",
        "name": "CSS",
        "order": 23,
        "width": 0,
        "height": 0,
        "format": "<style>\np{\n    line-height: 3px;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 2130,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e8e32d7b3f9cee36",
        "type": "ui_template",
        "z": "2b13ae4b4189cf8c",
        "group": "c6efbbb3df5d165b",
        "name": "CSS",
        "order": 13,
        "width": 0,
        "height": 0,
        "format": "<style>\np{\n    line-height: 3px;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 2290,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "8cd81915713dba77",
        "type": "trigger",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1470,
        "y": 560,
        "wires": [
            [
                "1c868e3a2688881b"
            ]
        ]
    },
    {
        "id": "1c868e3a2688881b",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "label": " B I N G O",
        "tooltip": "",
        "group": "3099eb616e7a700f",
        "order": 8,
        "width": "6",
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-bomb fa-3x",
        "oncolor": "red",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-bomb fa-3x",
        "offcolor": "grey",
        "animate": false,
        "className": "",
        "x": 1660,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "3e5aed595fb0d4c7",
        "type": "comment",
        "z": "2b13ae4b4189cf8c",
        "name": "notes",
        "info": "Private IP to show in dashboard",
        "x": 990,
        "y": 660,
        "wires": []
    },
    {
        "id": "f85b9c6fd5d3145a",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "sequence load",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 240,
        "y": 1880,
        "wires": []
    },
    {
        "id": "a1da21bb38950b5d",
        "type": "switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 2560,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "8cf46c01708c01b6",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "200",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 228,
        "y": 2061.199951171875,
        "wires": [
            []
        ]
    },
    {
        "id": "96e3c3d86e4c7f87",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "display sequence IN",
        "links": [
            "15954779ec36f19d",
            "9d857761a1a12966",
            "bd51cb24ec743680",
            "0760b56662d35783"
        ],
        "x": 1135,
        "y": 2200,
        "wires": [
            [
                "6b1de70888b41fb8"
            ]
        ]
    },
    {
        "id": "1409a38f538f3327",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2570,
        "y": 2320,
        "wires": [
            [
                "72197443f0a4ab12"
            ]
        ]
    },
    {
        "id": "474037e5e2a1ac63",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "ENABLE IN false",
        "links": [
            "6a7f085f10982e2d",
            "cdcd409f4d85cf31"
        ],
        "x": 2465,
        "y": 2320,
        "wires": [
            [
                "1409a38f538f3327"
            ]
        ]
    },
    {
        "id": "40096b73ffc42de0",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "load position OUT",
        "mode": "link",
        "links": [
            "7b9a4729ee70e67c",
            "dd130e326f37eb40",
            "b93cf2b857905ff4",
            "86a515e9487a90df",
            "e00c4eba244b7990"
        ],
        "x": 1155,
        "y": 1900,
        "wires": []
    },
    {
        "id": "09ccf03849c26789",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 61",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3940,
        "y": 1040,
        "wires": []
    },
    {
        "id": "c7165a377fcf712b",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 62",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1440,
        "y": 1920,
        "wires": []
    },
    {
        "id": "c8d28ce49033d9bb",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "14",
        "group": "ba777e8ad06ad039",
        "order": 14,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[13]}}",
        "tooltip": "",
        "color": "{{msg.colour[13]}}",
        "bgcolor": "{{msg.pBackground[13]}}",
        "className": "",
        "icon": "",
        "payload": "14",
        "payloadType": "str",
        "topic": "p14",
        "topicType": "str",
        "x": 550,
        "y": 2440,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "05ac1668ac2be900",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 63",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 940,
        "y": 2460,
        "wires": []
    },
    {
        "id": "3a12762e62129509",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "15",
        "group": "ba777e8ad06ad039",
        "order": 15,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[14]}}",
        "tooltip": "",
        "color": "{{msg.colour[14]}}",
        "bgcolor": "{{msg.pBackground[14]}}",
        "className": "",
        "icon": "",
        "payload": "15",
        "payloadType": "str",
        "topic": "p15",
        "topicType": "str",
        "x": 550,
        "y": 2480,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "a1ba8c42e24922b4",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "16",
        "group": "ba777e8ad06ad039",
        "order": 16,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "{{msg.payload[15]}}",
        "tooltip": "",
        "color": "{{msg.colour[15]}}",
        "bgcolor": "{{msg.pBackground[15]}}",
        "className": "",
        "icon": "",
        "payload": "16",
        "payloadType": "str",
        "topic": "p16",
        "topicType": "str",
        "x": 550,
        "y": 2520,
        "wires": [
            [
                "f1077e7fe3469f18"
            ]
        ]
    },
    {
        "id": "1c8aa106cbaaccc8",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "CONTROL OUT trend",
        "mode": "link",
        "links": [
            "da316d4c578e94a9"
        ],
        "x": 1815,
        "y": 260,
        "wires": []
    },
    {
        "id": "e63e354cf649530a",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "button selection UI",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1970,
        "y": 220,
        "wires": []
    },
    {
        "id": "2f250e7a67028044",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Extreme Take Profit",
        "label": "Take Profit",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 22,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-E_takeProfit",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 640,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "256982793430338a",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Extreme Trade Size",
        "label": "Trade Size",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 21,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-E_tradeSize",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 680,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "51fbef1a15ede279",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Extreme Stop Loss",
        "label": "Stop Loss",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 23,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-E_stopLoss",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 720,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "eaccdcfe0acb627b",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Weak Take Profit",
        "label": "Take Profit",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 30,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-W_takeProfit",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 760,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "8e75fbb055b1e038",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Weak Trade Size",
        "label": "Trade Size",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 29,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-W_tradeSize",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 800,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "8a1c096991f1e0b3",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Weak Stop Loss",
        "label": "Stop Loss",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 31,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-W_stopLoss",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3420,
        "y": 840,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "e582c7b61097ccfc",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "c6efbbb3df5d165b",
        "order": 20,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Extreme",
        "format": "",
        "layout": "col-center",
        "className": "",
        "x": 3460,
        "y": 100,
        "wires": []
    },
    {
        "id": "f2ed8bd7c6330ddc",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "c6efbbb3df5d165b",
        "order": 28,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Weak",
        "format": "",
        "layout": "col-center",
        "className": "",
        "x": 3450,
        "y": 140,
        "wires": []
    },
    {
        "id": "4547efe64774664a",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Neutral Take Profit",
        "label": "Take Profit",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 26,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-N_takeProfit",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 520,
        "wires": [
            [
                "fc6c18b1906f02ed",
                "146dbedb3fda3fc0"
            ]
        ]
    },
    {
        "id": "9b1059f719cc3e93",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Neutral Trade Size",
        "label": "Trade Size",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 25,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-N_tradeSize",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 560,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "edac9dd108f38d78",
        "type": "ui_text_input",
        "z": "2b13ae4b4189cf8c",
        "name": "Neutral Stop Loss",
        "label": "Stop Loss",
        "tooltip": "",
        "group": "c6efbbb3df5d165b",
        "order": 27,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "PC-N_stopLoss",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 3430,
        "y": 600,
        "wires": [
            [
                "fc6c18b1906f02ed"
            ]
        ]
    },
    {
        "id": "90f250639616c5ad",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "c6efbbb3df5d165b",
        "order": 24,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Neutral",
        "format": "",
        "layout": "col-center",
        "className": "",
        "x": 3460,
        "y": 180,
        "wires": []
    },
    {
        "id": "8e03a8f3b958223c",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "Bingo IN",
        "links": [
            "dd2efe121d825564",
            "4839d2f5c8d1ed38",
            "1f12170b0c8cb781"
        ],
        "x": 1315,
        "y": 560,
        "wires": [
            [
                "8cd81915713dba77"
            ]
        ]
    },
    {
        "id": "76270eb5d0a68347",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "TREND 1",
        "group": "3099eb616e7a700f",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "white",
        "className": "",
        "icon": "{{msg.payload}}",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 400,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "66d7eec556bb324d",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "TREND 2",
        "group": "3099eb616e7a700f",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "white",
        "className": "",
        "icon": "{{msg.payload}}",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 400,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "0276840b28b2ee36",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "T1 IN",
        "links": [
            "cef3ed021324ff88",
            "6bdbb99d43ed9701",
            "ae5395ea7a6b5cb3"
        ],
        "x": 185,
        "y": 460,
        "wires": [
            [
                "76270eb5d0a68347"
            ]
        ]
    },
    {
        "id": "9e80880989d50b07",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "T2 IN",
        "links": [
            "ab4160077ba4db70",
            "7d8736425af9420c",
            "2d3fe3f9b665c803",
            "7086adcfc0d0088d"
        ],
        "x": 185,
        "y": 520,
        "wires": [
            [
                "66d7eec556bb324d"
            ]
        ]
    },
    {
        "id": "6ad80626a0d60c04",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 1870,
        "y": 1040,
        "wires": [
            [
                "0a0f9029cec26983"
            ]
        ]
    },
    {
        "id": "0723102403f1ad8c",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "START IN",
        "links": [
            "fa8fbcbfbcf03f28",
            "f513da32c4895922",
            "3134ef726f3db19c"
        ],
        "x": 555,
        "y": 440,
        "wires": [
            [
                "065f6534d75fd5c5",
                "ae08b8b27ce268c4"
            ]
        ]
    },
    {
        "id": "ae08b8b27ce268c4",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 73",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "background",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 400,
        "wires": []
    },
    {
        "id": "9d8283170af14f16",
        "type": "ui_switch",
        "z": "2b13ae4b4189cf8c",
        "name": " B I N G O no trends",
        "label": "",
        "tooltip": "",
        "group": "3099eb616e7a700f",
        "order": 8,
        "width": "2",
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-bomb fa-3x",
        "oncolor": "blue",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-bomb fa-3x",
        "offcolor": "grey",
        "animate": false,
        "className": "",
        "x": 1690,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "636d00d07360189a",
        "type": "trigger",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1460,
        "y": 620,
        "wires": [
            [
                "9d8283170af14f16"
            ]
        ]
    },
    {
        "id": "db19773c4cac3820",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "Bingo IN soft",
        "links": [
            "718e8a7db5967f4b",
            "def34a1d8693541f",
            "b31b29961b61b90a"
        ],
        "x": 1315,
        "y": 620,
        "wires": [
            [
                "636d00d07360189a"
            ]
        ]
    },
    {
        "id": "5c73ba1fa4358552",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "v": "false",
                "vt": "bool"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1490,
        "y": 680,
        "wires": [
            [
                "1c868e3a2688881b",
                "9d8283170af14f16"
            ]
        ]
    },
    {
        "id": "2b145f461964c772",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "stop in",
        "links": [
            "04e878f15944feae"
        ],
        "x": 565,
        "y": 480,
        "wires": [
            [
                "f63f9f0a655fbf96"
            ]
        ]
    },
    {
        "id": "6c2ffeef3327d3a4",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2400,
        "y": 2100,
        "wires": [
            [
                "ef7905a3730fcfbd"
            ]
        ]
    },
    {
        "id": "2e060408b35f0861",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "All Indicators Arr",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage');\n// var Allindicators = global.get('allIndicators', 'varstorage');\nglobal.set('APIresults', {}, 'varstorage');\n\nvar allIndicators = [];\nvar intervalDone = [];\nvar seqsIndicators={};\nfor (var seq in Allconfig.sequences) {\n    for (var pos in Allconfig.sequences[seq].position) {\n        if (Allconfig.sequences[seq].position[pos].enable === true && Allconfig.sequences[seq].enable === true) {\n            var name = Allconfig.sequences[seq].position[pos].name;\n            var interval = Allconfig.sequences[seq].position[pos].interval;\n            var newIndicator={};\n            newIndicator.period = Allconfig.sequences[seq].position[pos].period;\n            newIndicator.indicator = Allconfig.sequences[seq].position[pos].indicator;\n            newIndicator.name = Allconfig.sequences[seq].position[pos].name;\n            newIndicator.interval = Allconfig.sequences[seq].position[pos].interval;\n            seqsIndicators[name]=newIndicator;\n        }\n    }\n}\nvar n = 1;\nvar arrIdone=[];\n\nfor (var indicators in seqsIndicators){\n    var SQinterval=seqsIndicators[indicators].interval;\n    var SQname=seqsIndicators[indicators].name;\n    var Idone = SQinterval + \"_\" + n;\n    var newInterval={};\n    if (allIndicators.length == 0) {\n        newInterval = {};\n        newInterval[Idone] = {};\n        newInterval[Idone][SQname] = {};\n        newInterval[Idone][SQname] = seqsIndicators[indicators];\n        allIndicators.push(newInterval);\n        // intervalDone.push(Idone);\n    }\n    for (var i = 0; i < allIndicators.length; i++) {\n        var arrPos={};\n        \n        arrPos=allIndicators[i];\n        \n        // if (!intervalDone.includes(Idone)) {\n        if (!arrPos.hasOwnProperty(Idone)) {\n            newInterval = {};\n            Idone = SQinterval + \"_\" + n;\n            newInterval[Idone] = {};\n            newInterval[Idone][SQname] = {};\n            newInterval[Idone][SQname] = seqsIndicators[indicators];\n            allIndicators.push(newInterval);\n            intervalDone.push(Idone);\n            n++;\n        }\n        if (arrPos.hasOwnProperty(Idone)) {\n        // if (intervalDone.includes(Idone)){\n            arrIdone.push(Idone);\n            // n++;\n            var arrLength = Object.keys(arrPos[Idone]).length;\n            // if (arrLength < 6) {\n                // arrPos[Idone][SQname] = seqsIndicators[indicators];\n            // }\n            // else if (Object.keys(arrPos[Idone]).length == 6){\n            //     var newInterval = {};\n            //     newInterval[Idone] = {};\n            //     newInterval[Idone][SQname] = {};\n            //     newInterval[Idone][SQname] = seqsIndicators[indicators];\n            //     allIndicators.push(newInterval);\n            //     intervalDone.push(Idone);\n            //     n++;\n            // }\n        }\n    }\n}\n\nglobal.set('allIndicators', allIndicators, 'varstorage');\nmsg.payload={};\nmsg.payload.allindicators = allIndicators;\nmsg.payload.seqsIndicators = seqsIndicators;\nmsg.payload.intervalDone = intervalDone;\nmsg.payload.arrPos = arrIdone;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3040,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "ef7905a3730fcfbd",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "Save all indicators new",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage');\nvar Allsequences = global.get('Allsequences', 'varstorage');\n// var Allindicators = global.get('allIndicators', 'varstorage');\nglobal.set('APIresults', {}, 'varstorage');\nvar strategy=global.set('strategy');\n\nvar allIndicators={};\nvar seqsIndicators={}\nfor (var str in Allsequences) {\n    for (var seq in Allsequences[str].sequences) {\n        for (var pos in Allsequences[str].sequences[seq].position) {\n            if (JSON.stringify(Allconfig[str].sequences)!='{}'){\n                if (Allsequences[str].sequences[seq].position[pos].enable === true && Allsequences[str].sequences[seq].enable === true) {\n                    var interval = Allsequences[str].sequences[seq].position[pos].interval;\n                    var indicator = Allsequences[str].sequences[seq].position[pos].indicator;\n                    var period = Allsequences[str].sequences[seq].position[pos].period;\n                    var name = indicator+\"-\"+period;\n                    var newIndicator = {};\n                    newIndicator.period = period;\n                    newIndicator.indicator = indicator;\n                    newIndicator.name = name;\n                    newIndicator.interval = interval;\n                    seqsIndicators[indicator+\"-\"+period+\"-\"+interval] = newIndicator;\n                }\n            }\n        }\n    }\n    for (var trends in Allsequences[str].config.trend) {\n        if (Allsequences[str].config.trend[trends].enable === true && trends.charAt(0)=='t') {\n            var intervalT = Allsequences[str].config.trend[trends].interval;\n            var indicatorT = Allsequences[str].config.trend[trends].indicator;\n            var periodT = Allsequences[str].config.trend[trends].period;\n            var nameT = indicatorT+\"-\"+periodT;\n\n            var newIndicatorT = {};\n            newIndicatorT.period = periodT;\n            newIndicatorT.indicator = indicatorT;\n            newIndicatorT.name = nameT;\n            newIndicatorT.interval = intervalT;\n            seqsIndicators[nameT] = newIndicatorT;\n        }\n    }\n}\n\nfor (var indicators in seqsIndicators) {\n    var SEQinterval = seqsIndicators[indicators].interval;\n    var SEQname = seqsIndicators[indicators].name;\n    if (!allIndicators.hasOwnProperty(SEQinterval+\"_1\")) allIndicators[SEQinterval+\"_1\"] = {};\n    if (!allIndicators[SEQinterval+\"_1\"].hasOwnProperty(SEQname)) {\n        if (Object.keys(allIndicators[SEQinterval+\"_1\"]).length < 8){\n            allIndicators[SEQinterval+\"_1\"][SEQname] = seqsIndicators[indicators];\n        }\n        else if (!allIndicators.hasOwnProperty(SEQinterval+\"_2\") || Object.keys(allIndicators[SEQinterval + \"_2\"]).length < 8){\n            if (!allIndicators.hasOwnProperty(SEQinterval + \"_2\")) allIndicators[SEQinterval + \"_2\"] = {};\n            allIndicators[SEQinterval + \"_2\"][SEQname] = seqsIndicators[indicators];\n        }\n        else if (!allIndicators.hasOwnProperty(SEQinterval + \"_3\") || Object.keys(allIndicators[SEQinterval + \"_3\"]).length < 8) {\n            if (!allIndicators.hasOwnProperty(SEQinterval + \"_3\")) allIndicators[SEQinterval + \"_3\"] = {};\n            allIndicators[SEQinterval + \"_3\"][SEQname] = seqsIndicators[indicators];\n        }\n    }\n}\n\n\nglobal.set('allIndicators', allIndicators, 'varstorage');\nmsg.payload={};\nmsg.payload.seqsIndicators = seqsIndicators;\nmsg.payload.allIndicators = allIndicators;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2820,
        "y": 2180,
        "wires": [
            [
                "244e96acf89a17cb"
            ]
        ]
    },
    {
        "id": "d21f3d6d355db668",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "All Indicators obj",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage');\n// var Allindicators = global.get('allIndicators', 'varstorage');\nglobal.set('APIresults', {}, 'varstorage');\n\nvar allIndicators = {};\nvar intervalDone = [];\nvar seqsIndicators={};\nfor (var seq in Allconfig.sequences) {\n    for (var pos in Allconfig.sequences[seq].position) {\n        if (Allconfig.sequences[seq].position[pos].enable === true && Allconfig.sequences[seq].enable === true) {\n            var name = Allconfig.sequences[seq].position[pos].name;\n            var interval = Allconfig.sequences[seq].position[pos].interval;\n            var newIndicator={};\n            newIndicator.period = Allconfig.sequences[seq].position[pos].period;\n            newIndicator.indicator = Allconfig.sequences[seq].position[pos].indicator;\n            newIndicator.name = Allconfig.sequences[seq].position[pos].name;\n            newIndicator.interval = Allconfig.sequences[seq].position[pos].interval;\n            seqsIndicators[name]=newIndicator;\n        }\n    }\n}\nvar n = 1;\nvar arrIdone=[];\n\nfor (var indicators in seqsIndicators){\n    var SQinterval=seqsIndicators[indicators].interval;\n    var SQname=seqsIndicators[indicators].name;\n    var Idone = SQinterval + \"_\" + 1;\n    if (JSON.stringify(allIndicators == '{}')){\n        allIndicators[Idone] = {};\n        allIndicators[Idone][SQname] = {};\n        allIndicators[Idone][SQname] = seqsIndicators[indicators];\n    }\n    // if (!allIndicators.hasOwnProperty(Idone)) {\n    //     allIndicators[Idone] = {};\n    //     allIndicators[Idone][SQname] = {};\n    //     allIndicators[Idone][SQname] = seqsIndicators[indicators];\n    // }\n    if (allIndicators.hasOwnProperty(Idone)) {\n        var arrLength = Object.keys(allIndicators[Idone]).length;\n        if (arrLength < 6) {\n            allIndicators[Idone][SQname] = {};\n            allIndicators[Idone][SQname] = seqsIndicators[indicators];\n        }\n        // else if (arrLength == 6){\n        //     Idone = SQinterval + \"_\" + 2;\n        //     var newInterval = {};\n        //     allIndicators[Idone] = {};\n        //     allIndicators[Idone][SQname] = {};\n        //     allIndicators[Idone][SQname] = seqsIndicators[indicators];\n        // }\n    }\n}\n\nglobal.set('allIndicators', allIndicators, 'varstorage');\nmsg.payload={};\nmsg.payload.allindicators = allIndicators;\nmsg.payload.seqsIndicators = seqsIndicators;\nmsg.payload.intervalDone = intervalDone;\nmsg.payload.arrPos = arrIdone;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3040,
        "y": 2380,
        "wires": [
            []
        ]
    },
    {
        "id": "146dbedb3fda3fc0",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 78",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3820,
        "y": 520,
        "wires": []
    },
    {
        "id": "57c23c28cc408927",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "red led",
        "links": [
            "2e1ad3b0b49a9752",
            "9ed873756f742729"
        ],
        "x": 915,
        "y": 360,
        "wires": [
            [
                "06fe7bbc477852cb"
            ]
        ]
    },
    {
        "id": "79124743d04fb950",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 80",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3500,
        "y": 1160,
        "wires": []
    },
    {
        "id": "62f11894f52d73d0",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "send blank",
        "func": "var Allindicators = global.get('allIndicators', 'varstorage');\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar requestId = global.set('requestId') || 0;\n\nmsg.payload={};\nif (JSON.stringify(Allconfig.sequences)!='{}'){\n    for (var seqs in Allconfig.sequences){\n        for (var pos in Allconfig.sequences[seqs].position){\n            msg.payload.sequences={};\n            msg.payload.sequences[seqs]={};\n            msg.payload.sequences[seqs].position = {};\n            msg.payload.sequences[seqs].position[pos] = {};\n            msg.payload.sequences[seqs].position[pos].value = 0;\n        }\n    }\n}\nrequestId++;\nglobal.set('requestId', requestId);\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 540,
        "wires": [
            [
                "6bd296d382b447d2",
                "1736989a2d54f2a9"
            ]
        ]
    },
    {
        "id": "4d397e149444b9bd",
        "type": "mqtt out",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 1190,
        "y": 540,
        "wires": []
    },
    {
        "id": "6bd296d382b447d2",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 87",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 460,
        "wires": []
    },
    {
        "id": "1736989a2d54f2a9",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1060,
        "y": 540,
        "wires": [
            [
                "4d397e149444b9bd"
            ]
        ]
    },
    {
        "id": "7ea838dbd4ab6c93",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "Strategy 2",
        "group": "3099eb616e7a700f",
        "order": 10,
        "width": "3",
        "height": 2,
        "passthru": false,
        "label": "Strategy 2",
        "tooltip": "",
        "color": "white",
        "bgcolor": "",
        "className": "",
        "icon": "fa-edit fa-2x",
        "payload": "strategy2",
        "payloadType": "str",
        "topic": "configuration",
        "topicType": "str",
        "x": 670,
        "y": 680,
        "wires": [
            [
                "76763110a6b7c8c7",
                "b59a652b37aa249d"
            ]
        ]
    },
    {
        "id": "b59a652b37aa249d",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "Load Strategy",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') ||{};\nvar Allsequences = global.get('Allsequences', 'varstorage') || {};\nvar generalConfig = global.get('generalConfig');\nvar strategy = msg.payload;\nglobal.set('strategy',strategy);\n\nif (!Allsequences.hasOwnProperty(msg.payload)) {\n    Allsequences[strategy] = {};\n    Allconfig.sequences = {};\n    Allconfig.config = {};\n    generalConfig={};\n\n}else {\n    Allconfig=Allsequences[strategy];\n    generalConfig=Allsequences[strategy].config;\n}\n\n// Allsequences[msg.payload]=Allconfig;\nglobal.set('Allsequences', Allsequences, 'varstorage');\nglobal.set('generalConfig', generalConfig);\nglobal.set('Allconfig', Allconfig, 'varstorage');\nmsg.payload=strategy;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 720,
        "wires": [
            [
                "04e878f15944feae",
                "3f04b4e6b5278c3b"
            ]
        ]
    },
    {
        "id": "b1d6ad469823d4a8",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "LOAD strategy",
        "func": "var strategy=global.get('strategy');\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nvar currentSequence = global.get('currentSequence') || {};\nvar Allsequences = global.get('Allsequences', 'varstorage') || {};\n\nif (Allsequences[strategy].hasOwnProperty('config') &&\n    JSON.stringify(Allsequences[strategy].config)!='{}') {\n    Allconfig = Allsequences[strategy];\n    msg.debug = \"Strategy: \" + strategy.slice(-1);\n    msg.payload = Allsequences[strategy].config;\n\n\n    global.set('Allconfig', Allconfig,'varstorage', );\n\n    // global.set('strategy', strategy);\n\n    return [msg,null];\n}\nelse {\n    Allconfig={};\n    msg.payload=-1;\n    return [null,msg];\n}\n\n\n\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2980,
        "y": 280,
        "wires": [
            [
                "9e95948ef96ca91d",
                "74362c938491fe14"
            ],
            [
                "47f2e59602a26290",
                "e89f6918c037815a"
            ]
        ]
    },
    {
        "id": "9e95948ef96ca91d",
        "type": "delay",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3210,
        "y": 280,
        "wires": [
            [
                "a66a77618891779b"
            ]
        ]
    },
    {
        "id": "a66a77618891779b",
        "type": "split",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 3370,
        "y": 280,
        "wires": [
            [
                "9dde3968fe474e12",
                "380155e9e84effd2"
            ]
        ]
    },
    {
        "id": "9dde3968fe474e12",
        "type": "switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "tradePC",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "trend",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "symbol",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "exchange",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 3530,
        "y": 280,
        "wires": [
            [
                "b1708c951d8560b1"
            ],
            [
                "45dc88cec1d5ee92",
                "1a62339331dd71e7"
            ],
            [
                "86a241fb3bd67757"
            ],
            [
                "f636a26e10c3f6d6"
            ]
        ]
    },
    {
        "id": "538acc126bbeed93",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "strategy IN",
        "links": [
            "04e878f15944feae"
        ],
        "x": 2805,
        "y": 280,
        "wires": [
            [
                "b1d6ad469823d4a8"
            ]
        ]
    },
    {
        "id": "04e878f15944feae",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "configuration",
        "mode": "link",
        "links": [
            "2b145f461964c772",
            "538acc126bbeed93",
            "c1b7d76432246a5f"
        ],
        "x": 1045,
        "y": 720,
        "wires": []
    },
    {
        "id": "14d5d10ffaa6dedd",
        "type": "split",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 2970,
        "y": 640,
        "wires": [
            [
                "94b26aa68cb13d62"
            ]
        ]
    },
    {
        "id": "94b26aa68cb13d62",
        "type": "switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "N_takeProfit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "N_tradeSize",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "N_stopLoss",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "E_takeProfit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "E_tradeSize",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "E_stopLoss",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "W_takeProfit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "W_tradeSize",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "W_stopLoss",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 9,
        "x": 3130,
        "y": 640,
        "wires": [
            [
                "4547efe64774664a"
            ],
            [
                "9b1059f719cc3e93"
            ],
            [
                "edac9dd108f38d78"
            ],
            [
                "2f250e7a67028044"
            ],
            [
                "256982793430338a"
            ],
            [
                "51fbef1a15ede279"
            ],
            [
                "eaccdcfe0acb627b"
            ],
            [
                "8e75fbb055b1e038"
            ],
            [
                "8a1c096991f1e0b3"
            ]
        ]
    },
    {
        "id": "0346eed1c5a5eb69",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Extreme Take Profit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.E_takeProfit",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4260,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "9e8752e7446dc165",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Extreme Trade Size",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.E_tradeSize",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4260,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "cc6f19bf153a8a57",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Extreme Stop Loss",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.E_stopLoss",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4250,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "e9f8b0b3460a0bca",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved WeakTake Profit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.W_takeProfit",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4250,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "f8da4df198b7bb20",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Weak Trade Size",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.W_tradeSize",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4250,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "9a16e3e43e77570c",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Weak Stop Loss",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.W_stopLoss",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4250,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "cc6fd21d4f2c32d2",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Neutral Take Profit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.N_takeProfit",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4250,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "a95fc30b8875c62a",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Neutral Trade Size",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.N_tradeSize",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4250,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "b3b37e97db0d206a",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Neutral Stop Loss",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.tradePC.N_stopLoss",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 4250,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "b1708c951d8560b1",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "tradePC OUT",
        "mode": "link",
        "links": [
            "dc824c6c2e7b393e",
            "9a123c40190a192f"
        ],
        "x": 3685,
        "y": 240,
        "wires": []
    },
    {
        "id": "dc824c6c2e7b393e",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "display tradePC in",
        "links": [
            "b1708c951d8560b1"
        ],
        "x": 2805,
        "y": 640,
        "wires": [
            [
                "14d5d10ffaa6dedd"
            ]
        ]
    },
    {
        "id": "88a608ca0bb2c48a",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Exchange",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.exchange",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2750,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "d0a9bcafaa13cab4",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "Saved Coin",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "#:(varstorage)::Allconfig.config.symbol",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "57b3be651324392b",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "exchange in",
        "links": [
            "f636a26e10c3f6d6",
            "e34133c25fe943e1"
        ],
        "x": 3265,
        "y": 920,
        "wires": [
            [
                "70aa84bc0306f103"
            ]
        ]
    },
    {
        "id": "0ecf5a963ec23c43",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "symbol in",
        "links": [
            "86a241fb3bd67757",
            "e34133c25fe943e1"
        ],
        "x": 3265,
        "y": 960,
        "wires": [
            [
                "9148f8db895b948a"
            ]
        ]
    },
    {
        "id": "f636a26e10c3f6d6",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "Exchange OUT",
        "mode": "link",
        "links": [
            "57b3be651324392b"
        ],
        "x": 3675,
        "y": 360,
        "wires": []
    },
    {
        "id": "86a241fb3bd67757",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "symbol OUT",
        "mode": "link",
        "links": [
            "0ecf5a963ec23c43"
        ],
        "x": 3675,
        "y": 320,
        "wires": []
    },
    {
        "id": "45dc88cec1d5ee92",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "trend OUT",
        "mode": "link",
        "links": [
            "da316d4c578e94a9"
        ],
        "x": 3685,
        "y": 280,
        "wires": []
    },
    {
        "id": "c665d53c6644af57",
        "type": "function",
        "z": "2b13ae4b4189cf8c",
        "name": "LOAD sequence",
        "func": "var strategy=msg.payload;\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\n// var currentSequence = global.get('currentSequence') || {};\n// var Allsequences = global.get('Allsequences', 'varstorage') || {};\n\n// if (Allsequences.hasOwnProperty(strategy)) Allconfig = Allsequences[strategy];\n// else Allconfig={};\n\nif (JSON.stringify(Allconfig.sequences) != '{}'){\n    for (var seq in Allconfig.sequences){\n        msg.payload[seq] = Allconfig.sequences[seq].enable;\n    }  \n}else {\n    for (var s=0;s<8;s++){\n        msg.payload[s]=false;\n    }\n}\n// global.set('Allconfig', 'varstorage' , Allconfig);\n\nglobal.set('strategy', strategy);\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 1200,
        "wires": [
            [
                "01aa36660d221a6a"
            ]
        ]
    },
    {
        "id": "cdc6f33b3dc12c56",
        "type": "ui_button",
        "z": "2b13ae4b4189cf8c",
        "name": "stop sequences",
        "group": "c6efbbb3df5d165b",
        "order": 12,
        "width": "8",
        "height": "1",
        "passthru": true,
        "label": "stop sequences",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-edit fa-2x",
        "payload": "false",
        "payloadType": "bool",
        "topic": "reset seqs",
        "topicType": "str",
        "x": 1840,
        "y": 1000,
        "wires": [
            [
                "0a0f9029cec26983"
            ]
        ]
    },
    {
        "id": "c1b7d76432246a5f",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "seq Switch IN",
        "links": [
            "04e878f15944feae"
        ],
        "x": 1505,
        "y": 1200,
        "wires": [
            [
                "c665d53c6644af57",
                "b2053a0ea9d06f1c"
            ]
        ]
    },
    {
        "id": "01aa36660d221a6a",
        "type": "split",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1810,
        "y": 1200,
        "wires": [
            [
                "a2437eeffedfc1f5"
            ]
        ]
    },
    {
        "id": "a2437eeffedfc1f5",
        "type": "switch",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s5",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s6",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s7",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 1930,
        "y": 1200,
        "wires": [
            [
                "9af1a4c0786ef12c"
            ],
            [
                "5c4c5c51552225b3"
            ],
            [
                "7ae74122337078d3"
            ],
            [
                "a5a55ed4e057daf7"
            ],
            [
                "edf382182747eca7"
            ],
            [
                "387a9bac6dbd8ced"
            ],
            [
                "2830c4fa00473947"
            ],
            [
                "a79f7a582a43ede6"
            ]
        ]
    },
    {
        "id": "e34133c25fe943e1",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "---- OUT",
        "mode": "link",
        "links": [
            "0ecf5a963ec23c43",
            "57b3be651324392b"
        ],
        "x": 4095,
        "y": 660,
        "wires": []
    },
    {
        "id": "3b2b18f87843152d",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3970,
        "y": 660,
        "wires": [
            [
                "e34133c25fe943e1"
            ]
        ]
    },
    {
        "id": "b22405e5a354a0d9",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "-1 OUT",
        "mode": "link",
        "links": [
            "4d1233cdcf13ca24",
            "a90b66f03e749422"
        ],
        "x": 3985,
        "y": 740,
        "wires": []
    },
    {
        "id": "084e76d7f2b41853",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "false OUT",
        "mode": "link",
        "links": [
            "0545a29fcb5ce68c"
        ],
        "x": 4095,
        "y": 700,
        "wires": []
    },
    {
        "id": "3e0206d3e777a90a",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "blank strategy IN",
        "links": [
            "47f2e59602a26290"
        ],
        "x": 3725,
        "y": 660,
        "wires": [
            [
                "3b2b18f87843152d",
                "9d79d1a702d3d8e7",
                "b22405e5a354a0d9"
            ]
        ]
    },
    {
        "id": "9d79d1a702d3d8e7",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3970,
        "y": 700,
        "wires": [
            [
                "084e76d7f2b41853"
            ]
        ]
    },
    {
        "id": "0545a29fcb5ce68c",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "stop sequences IN",
        "links": [
            "084e76d7f2b41853"
        ],
        "x": 1665,
        "y": 1000,
        "wires": [
            [
                "cdc6f33b3dc12c56"
            ]
        ]
    },
    {
        "id": "4d1233cdcf13ca24",
        "type": "link in",
        "z": "2b13ae4b4189cf8c",
        "name": "blank trades",
        "links": [
            "b22405e5a354a0d9"
        ],
        "x": 3265,
        "y": 520,
        "wires": [
            [
                "4547efe64774664a",
                "9b1059f719cc3e93",
                "edac9dd108f38d78",
                "2f250e7a67028044",
                "256982793430338a",
                "51fbef1a15ede279",
                "eaccdcfe0acb627b",
                "8e75fbb055b1e038",
                "8a1c096991f1e0b3"
            ]
        ]
    },
    {
        "id": "47f2e59602a26290",
        "type": "link out",
        "z": "2b13ae4b4189cf8c",
        "name": "blank strategy",
        "mode": "link",
        "links": [
            "3e0206d3e777a90a"
        ],
        "x": 3155,
        "y": 320,
        "wires": []
    },
    {
        "id": "e89f6918c037815a",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 89",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3280,
        "y": 340,
        "wires": []
    },
    {
        "id": "2bfd9553ae3b67a3",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 90",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3220,
        "y": 1020,
        "wires": []
    },
    {
        "id": "9593e006cfd648d4",
        "type": "config",
        "z": "2b13ae4b4189cf8c",
        "name": "Allconfig",
        "properties": [
            {
                "p": "#:(varstorage)::Allconfig",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "p": "#:(varstorage)::intervals",
                "pt": "global",
                "to": "1m,5m,15m,30m,1h,2h",
                "tot": "str"
            }
        ],
        "active": false,
        "x": 800,
        "y": 80,
        "wires": []
    },
    {
        "id": "d2d6c25560845cec",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 91",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3700,
        "y": 1020,
        "wires": []
    },
    {
        "id": "093178246147dbf7",
        "type": "config",
        "z": "2b13ae4b4189cf8c",
        "name": "Allsequences",
        "properties": [
            {
                "p": "#:(varstorage)::Allsequences",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "active": false,
        "x": 1050,
        "y": 80,
        "wires": []
    },
    {
        "id": "b2053a0ea9d06f1c",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 92",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1680,
        "y": 1140,
        "wires": []
    },
    {
        "id": "e596431484e4e58f",
        "type": "change",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "#:(varstorage)::Allsequences.undefined",
                "pt": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3610,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "8e57649f850196c3",
        "type": "inject",
        "z": "2b13ae4b4189cf8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3320,
        "y": 1380,
        "wires": [
            [
                "e596431484e4e58f"
            ]
        ]
    },
    {
        "id": "43d870dc986e74f5",
        "type": "config",
        "z": "2b13ae4b4189cf8c",
        "name": "strategy",
        "properties": [
            {
                "p": "strategy",
                "pt": "global",
                "to": "strategy2",
                "tot": "str"
            }
        ],
        "active": false,
        "x": 1060,
        "y": 140,
        "wires": []
    },
    {
        "id": "3f04b4e6b5278c3b",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 93",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "background",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1160,
        "y": 680,
        "wires": []
    },
    {
        "id": "1a62339331dd71e7",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 94",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3720,
        "y": 180,
        "wires": []
    },
    {
        "id": "74362c938491fe14",
        "type": "ui_text",
        "z": "2b13ae4b4189cf8c",
        "group": "c6efbbb3df5d165b",
        "order": 1,
        "width": 8,
        "height": 1,
        "name": "strategy",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "row-center",
        "className": "",
        "x": 3200,
        "y": 220,
        "wires": []
    },
    {
        "id": "380155e9e84effd2",
        "type": "debug",
        "z": "2b13ae4b4189cf8c",
        "name": "debug 95",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3520,
        "y": 220,
        "wires": []
    },
    {
        "id": "98d2739c10d02680",
        "type": "mqtt out",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 670,
        "y": 340,
        "wires": []
    },
    {
        "id": "7d7087fdc5b72e34",
        "type": "mqtt out",
        "z": "419e8a7f494d3e4a",
        "name": "Telemetry OUT",
        "topic": "v1/devices/me/telemetry",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 2200,
        "y": 900,
        "wires": []
    },
    {
        "id": "2fd03381963a2854",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 300,
        "wires": []
    },
    {
        "id": "bbc155e325cf308c",
        "type": "mqtt in",
        "z": "419e8a7f494d3e4a",
        "name": "RPC replies",
        "topic": "v1/devices/me/rpc/response/+",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "9ba9f83744bf70d8",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1030,
        "y": 420,
        "wires": [
            [
                "70521fcff495ab9e"
            ]
        ]
    },
    {
        "id": "977dfddafa11455b",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar results = global.get('results');\n\nmsg.payload={};\nmsg.payload.method=\"tradePrep\";\nmsg.payload.params={};\nmsg.payload.params.sequence = results.sequence;\n\n// msg.payload.params.tradesize = Allconfig.config.;\nmsg.payload.params.leverage = 3;\nmsg.payload.params.limit = 10000;\nvar requestId=3;\nmsg.topic = \"v1/devices/me/rpc/request/\"+requestId;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 340,
        "wires": [
            [
                "98d2739c10d02680",
                "2fd03381963a2854"
            ]
        ]
    },
    {
        "id": "8b2e819d0968a751",
        "type": "inject",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 340,
        "wires": [
            [
                "977dfddafa11455b"
            ]
        ]
    },
    {
        "id": "70521fcff495ab9e",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "method?",
        "property": "payload.method",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "tradePrep",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "tradeExec",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1220,
        "y": 420,
        "wires": [
            [
                "2c4a7cc2407cfa75"
            ],
            [
                "e90219156e494409"
            ]
        ]
    },
    {
        "id": "dc6de5c71da57601",
        "type": "inject",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 360,
        "y": 900,
        "wires": [
            [
                "274a0d97bad76a7f"
            ]
        ]
    },
    {
        "id": "274a0d97bad76a7f",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Prepare API request",
        "func": "var Allindicators = global.get('allIndicators', 'varstorage');\nvar Allconfig = global.get('Allconfig', 'varstorage');\nvar token = global.get('token', 'varstorage');\n\n\n// var indicator=\"ema\";\n\n// // var admintoken=global.get(\"adminToken\");\n// // var token = \"bearer \"+admintoken;\n// // var token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbHVlIjoiNjFhMjRlZjY0MjI0NmNlM2IwMzI4MTA0IiwiaWF0IjoxNjYxNDU1ODkwLCJleHAiOjMzMTY1OTE5ODkwfQ.7hCpsgBITz-TfTumaqHIUpvTOrK0rYfhRR4E2ipneZk\";\n// // var exchange = \"binance\";\n// // var symbol= \"BTC/USDT\";\n// // var interval = \"1h\";\n// var chart = \"heikinashi\";\n// var token = params.token;\n// var exchange = params.exchange;\n// var symbol = params.symbol;\n// var interval = \"1m\";\n\nmsg.payload={};\n\n\n\nvar m=0;\nfor (var intervals in Allindicators){\n    msg.payload[m]={};\n    msg.payload[m].secret = token;\n    msg.payload[m].construct = {};\n    msg.payload[m].construct.chart = \"heikinashi\";\n    // msg.payload[m].construct.backtrack=1;\n    msg.payload[m].construct.exchange = Allconfig.config.exchange;\n    msg.payload[m].construct.symbol = Allconfig.config.symbol;\n    msg.payload[m].construct.interval = intervals.split(\"_\")[0];\n    msg.payload[m].construct.indicators = [];\n    var n = 0;\n    for (var indicators in Allindicators[intervals]){\n        msg.payload[m].construct.indicators[n]={};\n        msg.payload[m].construct.indicators[n].id = indicators.split(\"-\")[0] +\"-\"+ indicators.split(\"-\")[1];\n        msg.payload[m].construct.indicators[n].indicator = Allindicators[intervals][indicators].indicator.toLowerCase();\n        msg.payload[m].construct.indicators[n].optInTimePeriod = Allindicators[intervals][indicators].period;\n        n++;\n    }\n    m++;\n}\n\n// msg.method=\"get\";\nmsg.url=\"https://api.taapi.io/bulk\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 900,
        "wires": [
            [
                "f70d9ca29b72ac07"
            ]
        ]
    },
    {
        "id": "9fd6fd907c5dedaf",
        "type": "trigger",
        "z": "419e8a7f494d3e4a",
        "name": "EMA interval",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "-20",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "stop",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 430,
        "y": 840,
        "wires": [
            [
                "274a0d97bad76a7f"
            ]
        ]
    },
    {
        "id": "f70d9ca29b72ac07",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 850,
        "y": 900,
        "wires": [
            [
                "479c5f8aa4336a72",
                "13502297ef631348"
            ]
        ]
    },
    {
        "id": "cccf51fcabdfeb5b",
        "type": "link in",
        "z": "419e8a7f494d3e4a",
        "name": "START API",
        "links": [
            "334d5c224684b0ca"
        ],
        "x": 245,
        "y": 840,
        "wires": [
            [
                "9fd6fd907c5dedaf"
            ]
        ]
    },
    {
        "id": "806a3b3c01ddd0a9",
        "type": "http request",
        "z": "419e8a7f494d3e4a",
        "name": "POST",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "query",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1230,
        "y": 900,
        "wires": [
            [
                "f4ca541d11819f34",
                "f8f8aa3fd44752e0",
                "72c947a19a4719ea"
            ]
        ]
    },
    {
        "id": "ec7813059c504e35",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "function 9",
        "func": "var Allindicators = global.get('allIndicators', 'varstorage');\n\nmsg.count=Object.keys(Allindicators).length;\nmsg.payload.interval=msg.intervals;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "bf014e01d1585294",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1690,
        "y": 900,
        "wires": [
            [
                "db71d8b23ad84b5b",
                "dda6d6d28c754e69"
            ]
        ]
    },
    {
        "id": "db71d8b23ad84b5b",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Get Values",
        "func": "var APIresults = global.get('APIresults', 'varstorage') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage');\nvar Allsequences = global.get('Allsequences', 'varstorage');\nvar allIndicators = global.get('allIndicators', 'varstorage');\n\nvar id,value,interval;\nvar msg3={};\nmsg3.payload={};\n\n// var APIresults={};\nfor (var msgs in msg.payload){\n// var n=0;\n    for (var indicators of msg.payload[msgs].data) {\n        if (indicators.id != undefined || indicators.result.value != undefined){\n            // for (var indicators in msg.payaload.data[msgs]) {\n            // id = msg.payload[msgs].data[n].id;\n            var id = indicators.id;\n            var value = indicators.result.value;\n            // value = msg.payload[msgs].data[n].result.value;\n                // interval=msg.payload[msgs].interval;\n\n            APIresults[id] = {};\n            APIresults[id].period = parseInt(id.split(\"-\")[1]);\n            APIresults[id].name = id;\n            APIresults[id].value = parseFloat(value);//.toFixed(4);\n                // global.set('APIresults', APIresults, 'varstorage');\n            // msg.payload.id = id + ' ' + msg.payload.id;\n            // msg.payload.value = value + ' ' + msg.payload.value;\n            \n        }\n    }\n}\n// msg.payload.APIresults = APIresults;\n\n// return msg;\nif (JSON.stringify(APIresults)!='{}'){\n    var SEQresults = {};\n    var TRENDresults = {};\n\n    for (var str in Allsequences){\n        SEQresults[str]={};\n        Allconfig=Allsequences[str];\n        for (var seqs in Allconfig.sequences){\n            SEQresults[str][seqs] = {};\n            for (var pos in Allconfig.sequences[seqs].position) {\n                if (Allconfig.sequences[seqs].position[pos].enable === true && Allconfig.sequences[seqs].enable === true) {\n                    var newValue;\n                    var period = Allconfig.sequences[seqs].position[pos].period;\n                    var indicator = Allconfig.sequences[seqs].position[pos].indicator + \"-\"+period;\n                    var interval = Allconfig.sequences[seqs].position[pos].interval;\n                    var oldValue = (Allconfig.sequences[seqs].position[pos].hasOwnProperty('value'))?Allconfig.sequences[seqs].position[pos].value:0;\n                    // var newValue = (APIresults[indicator].name == indicator) ? APIresults[indicator].value : oldValue;\n                    if (APIresults[indicator].name == indicator){\n                        newValue = APIresults[indicator].value;\n                    }else newValue==oldValue;\n                    \n                    // msg3.payload[indicator]=APIresults[indicator];\n                    // var newValue = APIresults[indicator].value;\n\n                    // if ((!Allconfig.sequences[seqs].position[pos].hasOwnProperty('value') || oldValue == newValue || isNaN(newValue))\n                    if (oldValue == newValue || oldValue==0){\n                        if (Allconfig.sequences[seqs].enable == true) {\n                            Allconfig.sequences[seqs].position[pos].update = false;\n                            if (!msg3.payload.hasOwnProperty(seqs)) msg3.payload[seqs] = {};\n                            if (!msg3.payload[seqs].hasOwnProperty(pos)) msg3.payload[seqs][pos] = {};\n                            msg3.payload[seqs][pos].update = false;\n                            msg3.payload[seqs][pos].newValue = newValue;\n                            msg3.payload[seqs][pos].oldValue = oldValue;\n                        }\n                    } else {\n                        Allconfig.sequences[seqs].position[pos].value = newValue;\n\n                        Allconfig.sequences[seqs].position[pos].update = true;\n                        if (!msg3.payload.hasOwnProperty(seqs)) msg3.payload[seqs] = {};\n                        if (!msg3.payload[seqs].hasOwnProperty(pos)) msg3.payload[seqs][pos] = {};\n                        msg3.payload[seqs][pos].update = true;\n                        msg3.payload[seqs][pos].newValue = newValue;\n                        msg3.payload[seqs][pos].oldValue = oldValue;\n                    }\n                    Allconfig.sequences[seqs].position[pos].value = newValue;\n                    SEQresults[str][seqs][indicator]={};\n                    SEQresults[str][seqs][indicator].value = newValue;\n                    SEQresults[str][seqs][indicator].interval = interval;\n                    SEQresults[str][seqs][indicator].period = Allconfig.sequences[seqs].position[pos].period;\n                }\n            }\n        }\n    \n        TRENDresults[str]={};\n        for (var trends in Allconfig.config.trend){\n            if (trends.charAt(0)=='t'){\n                var periodT = Allconfig.config.trend[trends].period;\n                var indicatorT = Allconfig.config.trend[trends].indicator+\"-\"+periodT;\n                var intervalT = Allconfig.config.trend[trends].interval;\n                var oldValueT = (Allconfig.config.trend[trends].hasOwnProperty('value')) ? Allconfig.config.trend[trends].value : 0;\n                var newValueT = (APIresults[indicatorT].name== indicatorT) ? APIresults[indicatorT].value : oldValueT;\n                // var newValueT = APIresults[indicatorT].value ;\n                // if (!Allconfig.config.trend[trends].hasOwnProperty('value') || newValueT == oldValueT || isNaN(newValueT)) {\n                if (newValueT == oldValueT || oldValueT==0) {\n                    Allconfig.config.trend[trends].update = false;\n                    if (!msg3.payload.hasOwnProperty(trends)) msg3.payload[trends] = {};\n                    msg3.payload[trends].update = false;\n                    msg3.payload[trends].newValue = newValueT;\n                    msg3.payload[trends].oldValue = oldValueT;\n                }else {\n                    Allconfig.config.trend[trends].value = newValueT;\n                    Allconfig.config.trend[trends].update = true;\n                    if (!msg3.payload.hasOwnProperty(trends)) msg3.payload[trends]= {};\n                    msg3.payload[trends].update = true;\n                    msg3.payload[trends].newValue = newValueT;\n                    msg3.payload[trends].oldValue = oldValueT;\n                }\n                Allconfig.config.trend[trends].value = newValueT;\n                msg3.payload.indicator= indicatorT;\n                msg3.payload.API=APIresults[indicatorT].name;\n                if (APIresults[indicatorT].name==indicatorT){\n                    \n                    Allconfig.config.trend[trends].update = true; \n                    Allconfig.config.trend[trends].value=APIresults[indicatorT].value;\n                    if (trends == \"t1\" || trends == \"t2\") {\n                        if (!TRENDresults[str].hasOwnProperty(\"trend1\")) TRENDresults[str].trend1 = {};\n                        var tr1 = (trends == \"t1\")?\"A\":\"B\";\n                        TRENDresults[str].trend1[tr1] = {};\n                        TRENDresults[str].trend1[tr1].value = APIresults[indicatorT].value;\n                        TRENDresults[str].trend1[tr1].period = Allconfig.config.trend[trends].period;\n                    }\n                    if (trends == \"t3\" || trends == \"t4\") {\n                        if (!TRENDresults[str].hasOwnProperty(\"trend2\")) TRENDresults[str].trend2 = {};\n                        var tr2 = (trends == \"t3\") ? \"A\" : \"B\";\n                        TRENDresults[str].trend2[tr2] = {};\n                        TRENDresults[str].trend2[tr2].value = APIresults[indicatorT].value;\n                        TRENDresults[str].trend2[tr2].period = Allconfig.config.trend[trends].period;\n                    }\n\n                }else{\n                    Allconfig.config.trend[trends].update = false; \n                    msg3.payload=msg3.payload+ \" Indicator: \"+indicatorT+\" not updated. \"\n                } \n            }  \n        }\n    }\n    global.set('Allconfig', Allconfig, 'varstorage');\n    global.set('APIresults', APIresults, 'varstorage');\n    global.set('TRENDresults', TRENDresults, 'varstorage');\n    global.set('SEQresults', SEQresults, 'varstorage');\n    \n    msg.payload = SEQresults;\n    var msg1 = {};\n    msg1.payload = TRENDresults;\n    var msg2={};\n    msg2.payload = Allconfig;\n\n    return [msg1,msg2,msg,msg3];\n} else return null;\n//else {\n        \n//         global.set('APIresults', APIresults, 'varstorage');\n// }",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1890,
        "y": 880,
        "wires": [
            [
                "ed918bd1ac221be6",
                "eecee666264ed957"
            ],
            [
                "7d7087fdc5b72e34",
                "31cc2da2435352e3",
                "d7550ee603eb2987"
            ],
            [
                "fc5cbd30eb85338e",
                "1327803701fa1ea3"
            ],
            []
        ]
    },
    {
        "id": "c63a3ff9c4a044ca",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 3150,
        "y": 440,
        "wires": [
            [
                "e3d4eb0c4cdfc8f1"
            ]
        ]
    },
    {
        "id": "ed918bd1ac221be6",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "TREND API OUT",
        "mode": "link",
        "links": [
            "da316d4c578e94a9",
            "c5fc3e8c37af6d36"
        ],
        "x": 2055,
        "y": 800,
        "wires": []
    },
    {
        "id": "adf9839a408acb68",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 2170,
        "y": 1120,
        "wires": [
            [
                "4f97caf1d854554f"
            ]
        ]
    },
    {
        "id": "fc5cbd30eb85338e",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "Results API OUT",
        "mode": "link",
        "links": [
            "da316d4c578e94a9",
            "d49bc07d1c732fd8",
            "265671e0b4074fe6",
            "fec7ce77d3b8ea7d",
            "c5fc3e8c37af6d36"
        ],
        "x": 2055,
        "y": 980,
        "wires": []
    },
    {
        "id": "e3d4eb0c4cdfc8f1",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "trend1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "trend2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3310,
        "y": 440,
        "wires": [
            [
                "0e0a91148f07b64b"
            ],
            [
                "41dca1ce565596a4"
            ]
        ]
    },
    {
        "id": "4f97caf1d854554f",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 1120,
        "wires": [
            [
                "78f07ba6ab6319b3"
            ]
        ]
    },
    {
        "id": "78f07ba6ab6319b3",
        "type": "sort",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 1120,
        "wires": [
            [
                "4b56657cf7a6543c"
            ]
        ]
    },
    {
        "id": "4b56657cf7a6543c",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s5",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s6",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s7",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 2590,
        "y": 1120,
        "wires": [
            [
                "531b2ab126bc6d04"
            ],
            [
                "574472286cb6672f"
            ],
            [
                "3897b2a6b83e2bac"
            ],
            [
                "f927f1b7a42a27b7"
            ],
            [
                "77591fb7e033df64"
            ],
            [
                "532e0bdd09ab85d7"
            ],
            [
                "b81c4a145b8ea49d"
            ],
            [
                "6bfacf16c7647698"
            ]
        ]
    },
    {
        "id": "531b2ab126bc6d04",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1040,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "574472286cb6672f",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1080,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "3897b2a6b83e2bac",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1120,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "f927f1b7a42a27b7",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1160,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "0e0a91148f07b64b",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Trend calculator 1",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\n// msg.payload=msg.payload.period.toString();\n\nvar indicatorArr = [];\nvar n = 0;\nfor (var indicators in msg.payload) {\n    indicatorArr[n] = msg.payload[indicators].value;\n    n++\n}\n// var msg1={};\n// msg1.payload={};\n\nif (indicatorArr[0]<indicatorArr[1]) {\n    msg.payload =\"fa-caret-square-o-down fa-3x\";\n    Allconfig.config.trend.status1=\"DOWN\";\n    // return [null,msg];\n}else if (indicatorArr[0]>indicatorArr[1]){\n    msg.payload =\"fa-caret-square-o-up fa-3x\";\n    Allconfig.config.trend.status1 = \"UP\";\n    // return [msg,null];\n}else{\n    msg.payload = \"fa-minus-square fa-3x\";\n    Allconfig.config.trend.status1 = \"EQUAL\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3530,
        "y": 400,
        "wires": [
            [
                "cef3ed021324ff88"
            ]
        ]
    },
    {
        "id": "41dca1ce565596a4",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Trend calculator 2",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\n// msg.payload=msg.payload.period.toString();\n\nvar indicatorArr = [];\nvar n = 0;\nfor (var indicators in msg.payload) {\n    indicatorArr[n] =msg.payload[indicators].value;\n    n++\n}\nvar msg1={};\nmsg1.payload={};\n\nif (indicatorArr[0]<indicatorArr[1]) {\n    msg.payload =\"fa-caret-square-o-down fa-3x\";\n    Allconfig.config.trend.status2=\"DOWN\";\n    // return [null,msg];\n}else if (indicatorArr[0]>indicatorArr[1]){\n    msg.payload =\"fa-caret-square-o-up fa-3x\";\n    Allconfig.config.trend.status2 = \"UP\";\n    // return [msg,null];\n}else{\n    msg.payload=\"fa-minus-square fa-3x\";\n    Allconfig.config.trend.status2 = \"EQUAL\";\n}\nmsg.t1 = indicatorArr[0];\nmsg.t2 = indicatorArr[1];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3530,
        "y": 460,
        "wires": [
            [
                "ab4160077ba4db70"
            ]
        ]
    },
    {
        "id": "8a73ea9227e7688d",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "COMPARE",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\n// msg.payload=msg.payload.period.toString();\n\nvar indicatorArr=[];\nvar n=0;\nfor (var indicators in msg.payload){\n    var interval=msg.payload[indicators].interval;\n    indicatorArr[n]=indicators+\"-\"+interval;\n    n++;\n}\nvar result= indicatorArr.toString();\nvar seq,trade;\nif (msg.topic == \"test\") {\n    trade=msg.payload;\n    msg.result = {};\n    msg.result.trade = trade;\n    global.set('results', msg.result);\n    return msg;\n}\n    \nelse if (Allconfig.sequences[msg.topic].string==result && Allconfig.sequences[msg.topic].enable==true) {\n    trade = Allconfig.sequences[msg.topic].Trade;\n    msg.result = {};\n    msg.result.string = result;\n    msg.result.trade=trade;\n    msg.result.sequence = msg.topic;\n    msg.payload = parseInt(msg.result.sequence.charAt(1));\n\n    global.set('results', msg.result);\n    \n    return msg;\n} else if (Allconfig.sequences[msg.topic].enable == true){\n    var msg1={};\n    msg1.result = \"No Luck: \"+result;\n    return [null,msg1];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 1120,
        "wires": [
            [
                "718e8a7db5967f4b",
                "cbfd7a8b434eeff3",
                "3735bfb4873abac7"
            ],
            [
                "ccabcded5b11f0f0",
                "1a66352e9d71b73c"
            ]
        ]
    },
    {
        "id": "789da3a490a4546e",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 47",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3120,
        "y": 1060,
        "wires": []
    },
    {
        "id": "a59070a7bbe4a751",
        "type": "ui_button",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "group": "3099eb616e7a700f",
        "order": 9,
        "width": 8,
        "height": 2,
        "passthru": false,
        "label": "TEST SSCR",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "buy",
        "payloadType": "str",
        "topic": "test",
        "topicType": "str",
        "x": 3230,
        "y": 1220,
        "wires": [
            [
                "8a73ea9227e7688d"
            ]
        ]
    },
    {
        "id": "718e8a7db5967f4b",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "BINGO",
        "mode": "link",
        "links": [
            "db19773c4cac3820"
        ],
        "x": 3415,
        "y": 1040,
        "wires": []
    },
    {
        "id": "cbfd7a8b434eeff3",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 48",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "result",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3440,
        "y": 980,
        "wires": []
    },
    {
        "id": "ccabcded5b11f0f0",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "RESULT",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "result",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3440,
        "y": 1160,
        "wires": []
    },
    {
        "id": "1a66352e9d71b73c",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "RESULTS OUT",
        "mode": "link",
        "links": [],
        "x": 3415,
        "y": 1120,
        "wires": []
    },
    {
        "id": "533726dba75e7d5c",
        "type": "exec",
        "z": "419e8a7f494d3e4a",
        "command": "py C:\\Pscripts\\clickTradeButtons.py",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "TradeSetup",
        "x": 650,
        "y": 1120,
        "wires": [
            [
                "ff621550a3d5a628"
            ],
            [
                "ff621550a3d5a628"
            ],
            [
                "ff621550a3d5a628"
            ]
        ]
    },
    {
        "id": "bab4a587d3ccd603",
        "type": "inject",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": " buy",
        "payloadType": "str",
        "x": 350,
        "y": 1120,
        "wires": [
            [
                "533726dba75e7d5c"
            ]
        ]
    },
    {
        "id": "ff621550a3d5a628",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 50",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 1120,
        "wires": []
    },
    {
        "id": "fa1a315fed357a1c",
        "type": "mqtt out",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 3890,
        "y": 1120,
        "wires": []
    },
    {
        "id": "4030c3612ff02f60",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3860,
        "y": 1080,
        "wires": []
    },
    {
        "id": "3735bfb4873abac7",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar requestId = global.set('requestId') || 0;\n\nvar seq = msg.payload;\nvar TradeType = Allconfig.sequences['s' +seq].TradeType;\n\nvar trade = Allconfig.sequences['s' +seq].Trade;\nvar leverage = Allconfig.sequences['s' +seq].leverage;\nvar status1 = Allconfig.config.trend.status1;\nvar status2 = Allconfig.config.trend.status2;\nvar trend;\nvar tT;\n\nif (TradeType == 'weak') tT = 'W';\nelse if (TradeType == 'extreme') tT = 'E';\nelse if (TradeType == 'neutral') tT = 'N';\n\nif (status1 == 'UP' && status2 == 'UP') trend = 'UP';\nif (status1 == 'DOWN' && status2 == 'DOWN') trend = 'DOWN';\nif ((status1 == 'UP' && status2 == 'DOWN') || (status2 == 'UP' && status1 == 'DOWN')) trend = 'NEUTRAL';\n\nif ((trade=='buy' && TradeType=='weak' && trend=='DOWN') ||\n   (trade == 'buy' && TradeType == 'extreme' && trend == 'UP') ||\n   (trade == 'buy' && TradeType == 'neutral' && trend == 'NEUTRAL') ||\n   (trade == 'sell' && TradeType == 'weak' && trend == 'UP') ||\n   (trade == 'sell' && TradeType == 'extreme' && trend == 'DOWN') ||\n   (trade == 'sell' && TradeType == 'neutral' && trend == 'NEUTRAL')){\n\n    msg.payload = {};\n    msg.payload.method = \"tradePrep\";\n    msg.payload.params = {};\n    msg.payload.params.sequence = seq;\n\n   msg.payload.params['tradeSizePC'] = Allconfig.config.tradePC[tT + '_tradeSize']\n   msg.payload.params['takeProfitPC'] = Allconfig.config.tradePC[tT + '_takeProfit']\n   msg.payload.params['stopLossPC'] = Allconfig.config.tradePC[tT + '_stopLoss'];\n    \n    msg.payload.params.leverage = leverage;\n    msg.payload.params.trade = trade;\n    msg.payload.params.tradeType = TradeType;\n    msg.payload.params.strategy = \"LIVE\";\n    requestId++;\n\n   var msg1={};\n   msg1.payload = msg.payload.method + \"- \" + TradeType + \" - trade: \" + trade +\" - seq:\"+seq;\n  msg1.result=msg1.payload;\n  global.set('requestId', requestId);\n    msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n    return [msg1,msg];\n  }\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3500,
        "y": 1080,
        "wires": [
            [
                "dd2efe121d825564",
                "dc2672aa6200f716"
            ],
            [
                "2eda0625e3178fa3"
            ]
        ]
    },
    {
        "id": "3eb386f565c90f2c",
        "type": "mqtt in",
        "z": "419e8a7f494d3e4a",
        "name": "RPC requests",
        "topic": "v1/devices/me/rpc/request/+",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "9ba9f83744bf70d8",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2690,
        "y": 2000,
        "wires": [
            [
                "2c8da0840ebf0d59",
                "0afa5dfdb376a45e"
            ]
        ]
    },
    {
        "id": "2c8da0840ebf0d59",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "tradeDone?",
        "property": "payload.params.done",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2911.25,
        "y": 1998.75,
        "wires": [
            [
                "37ef0e163b7d184d"
            ],
            [
                "c8f0979eb4182f71"
            ]
        ]
    },
    {
        "id": "409f3a6b3df851aa",
        "type": "inject",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 3250,
        "y": 980,
        "wires": [
            [
                "3735bfb4873abac7"
            ]
        ]
    },
    {
        "id": "30eca7c794d149a9",
        "type": "file",
        "z": "419e8a7f494d3e4a",
        "name": "LOGS",
        "filename": "log.txt",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 1170,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "dabcdd1e7db0a782",
        "type": "link in",
        "z": "419e8a7f494d3e4a",
        "name": "LOGS IN",
        "links": [
            "b5163ea2bc6d1dcc",
            "be1ecc0b79d4bdfe",
            "a118c53424bee7f3",
            "3d76226d54be4eb3",
            "2d434252f2bfde5d",
            "9df166375ac4d555",
            "825670f8a9989249",
            "d4b382e97552068f",
            "dd2efe121d825564",
            "4839d2f5c8d1ed38",
            "1f12170b0c8cb781"
        ],
        "x": 845,
        "y": 580,
        "wires": [
            [
                "d18b5294bf2458d1"
            ]
        ]
    },
    {
        "id": "d18b5294bf2458d1",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Date IN",
        "func": "var date = new Date().toUTCString();\n// var fdate = date.getDate();\n// var formated = date.toString()\nmsg.payload = date + \": \" + msg.payload; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 580,
        "wires": [
            [
                "30eca7c794d149a9",
                "5082abfefc594269"
            ]
        ]
    },
    {
        "id": "2c4a7cc2407cfa75",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade Preparation sent and received",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 400,
        "wires": [
            [
                "2d434252f2bfde5d"
            ]
        ]
    },
    {
        "id": "2d434252f2bfde5d",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep response",
        "mode": "link",
        "links": [
            "dabcdd1e7db0a782"
        ],
        "x": 1565,
        "y": 420,
        "wires": []
    },
    {
        "id": "e90219156e494409",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "tradeExec",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade Execution sent and received",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 440,
        "wires": [
            [
                "2d434252f2bfde5d"
            ]
        ]
    },
    {
        "id": "5082abfefc594269",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "BS logs",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1160,
        "y": 540,
        "wires": []
    },
    {
        "id": "37ef0e163b7d184d",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Trade successfull logs",
        "func": "msg.payload = msg.payload.params.name + \" has traded successfully with sequence \" + msg.payload.params.sequence + \" with a total of \" + msg.payload.params.total;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3160,
        "y": 2000,
        "wires": [
            [
                "9df166375ac4d555",
                "aca96c3fdb2074d5"
            ]
        ]
    },
    {
        "id": "c8f0979eb4182f71",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Trade successfull logs",
        "func": "msg.payload = msg.payload.params.name + \" has not being able to trade with sequence \" + msg.payload.params.sequence + \" with a total of \" + msg.payload.params.total;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3160,
        "y": 2040,
        "wires": [
            [
                "9df166375ac4d555",
                "aca96c3fdb2074d5"
            ]
        ]
    },
    {
        "id": "9df166375ac4d555",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "tradeDone OUT",
        "mode": "link",
        "links": [
            "4e282bc829617461",
            "dabcdd1e7db0a782",
            "96bac7a4cc1346eb",
            "405a5a8b996e535f"
        ],
        "x": 3375,
        "y": 2000,
        "wires": []
    },
    {
        "id": "a4585430aaba0486",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 60",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2900,
        "y": 1860,
        "wires": []
    },
    {
        "id": "b5cb6fb729bc9cce",
        "type": "config",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "properties": [
            {
                "p": "#:(varstorage)::APIresults",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "p": "#:(varstorage)::TRENDresults",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "p": "#:(varstorage)::SEQresults",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "active": true,
        "x": 610,
        "y": 60,
        "wires": []
    },
    {
        "id": "31cc2da2435352e3",
        "type": "trigger",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2180,
        "y": 860,
        "wires": [
            [
                "e24a491f1d795a0b"
            ]
        ]
    },
    {
        "id": "e24a491f1d795a0b",
        "type": "ui_led",
        "z": "419e8a7f494d3e4a",
        "order": 3,
        "group": "3099eb616e7a700f",
        "width": 2,
        "height": 2,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#b3b2b2",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#f0dc05",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 2330,
        "y": 860,
        "wires": []
    },
    {
        "id": "77591fb7e033df64",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1200,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "532e0bdd09ab85d7",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1240,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "b81c4a145b8ea49d",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1280,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "6bfacf16c7647698",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1320,
        "wires": [
            [
                "10da24dd451332ec"
            ]
        ]
    },
    {
        "id": "55476b0a6aaa72a1",
        "type": "delay",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": ".5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2990,
        "y": 1120,
        "wires": [
            [
                "8a73ea9227e7688d",
                "789da3a490a4546e"
            ]
        ]
    },
    {
        "id": "cc83a7f118ef1f69",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "check API indicators",
        "func": "var APIresults = global.get('APIresults', 'varstorage') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage');\n\nmsg.payload={};\n\nfor (var seqs in Allconfig.sequences){\n    for (var pos in Allconfig.sequences[seqs].position[pos]){\n        var indicator = Allconfig.sequences[seqs].position[pos].name;\n        if ((!Allconfig.sequences[seqs].position[pos].hasOwnProperty('value') || Allconfig.sequences[seqs].position[pos].value == APIresults[indicator].value || isNaN(APIresults[indicator].value))\n        && Allconfig.sequences[seqs].enable==true) {\n            Allconfig.sequences[seqs].position[pos].update = false;\n            if (!msg.payload.hasOwnProperty(seqs)) msg.payload[seqs] = {};\n            if (!msg.payload[seqs].hasOwnProperty(pos)) msg.payload[seqs][pos] = {};\n            msg.payload[seqs][pos].update = false;\n            msg.payload[seqs][pos].newValue = APIresults[indicator].value;\n            msg.payload[seqs][pos].oldValue = Allconfig.sequences[seqs].position[pos].value;\n        } else {\n            Allconfig.sequences[seqs].position[pos].update = true;\n            if (!msg.payload.hasOwnProperty(seqs)) msg.payload[seqs] = {};\n            if (!msg.payload[seqs].hasOwnProperty(pos)) msg.payload[seqs][pos] = {};\n            msg.payload[seqs][pos].update = true;\n            msg.payload[seqs][pos].newValue = APIresults[indicator].value;\n            msg.payload[seqs][pos].oldValue = APIresults[indicator].value;\n        }\n    }\n}\nfor (var trends in Allconfig.config.trend){\n    if (trends.charAt(0)=='t'){\n        var tIndicator=Allconfig.config.trend[trends].name;\n        if (!Allconfig.config.trend[trends].hasOwnProperty('value') || Allconfig.config.trend[trends].value == APIresults[tIndicator].value || isNaN(APIresults[tIndicator].value)){\n            Allconfig.config.trend[trends].update=false;\n            if (!msg.payload.hasOwnProperty(trends))msg.payload[trends]={};\n            msg.payload[trends].update=false;\n            msg.payload[trends].newValue = APIresults[tIndicator].value;\n            msg.payload[trends].oldValue = Allconfig.config.trend[trends].value;\n        }else {\n            Allconfig.config.trend[trends].update=true;\n            if (!msg.payload.hasOwnProperty(trends)) msg.payload.trends = {};\n            msg.payload[trends].update = true;\n            msg.payload[trends].newValue = APIresults[tIndicator].value;\n            msg.payload[trends].oldValue = Allconfig.config.trend[trends].value;\n        }\n    }\n}\n//do the same for trends\nglobal.set('Allconfig', Allconfig, 'varstorage');\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "1f3cb4ee83c01ec7",
        "type": "remote-access",
        "z": "419e8a7f494d3e4a",
        "confignode": "d933c6ba082a2a01",
        "name": "",
        "verbose": 0,
        "x": 1300,
        "y": 120,
        "wires": [
            [
                "f24f9dd9187620db"
            ]
        ]
    },
    {
        "id": "f24f9dd9187620db",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 55",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 120,
        "wires": []
    },
    {
        "id": "cef3ed021324ff88",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "TREND 1",
        "mode": "link",
        "links": [
            "0276840b28b2ee36"
        ],
        "x": 3655,
        "y": 400,
        "wires": []
    },
    {
        "id": "ab4160077ba4db70",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "TREND 2",
        "mode": "link",
        "links": [
            "9e80880989d50b07"
        ],
        "x": 3665,
        "y": 460,
        "wires": []
    },
    {
        "id": "13502297ef631348",
        "type": "delay",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1040,
        "y": 900,
        "wires": [
            [
                "4383ecd87f1a0660",
                "806a3b3c01ddd0a9"
            ]
        ]
    },
    {
        "id": "d7550ee603eb2987",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 64",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2280,
        "y": 800,
        "wires": []
    },
    {
        "id": "26a31b47972234a9",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 65",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1860,
        "y": 960,
        "wires": []
    },
    {
        "id": "f4ca541d11819f34",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 66",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1460,
        "y": 1080,
        "wires": []
    },
    {
        "id": "9d705f170d8213f5",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 67",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1240,
        "y": 1000,
        "wires": []
    },
    {
        "id": "4331fefed267c3be",
        "type": "json",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1530,
        "y": 900,
        "wires": [
            [
                "26a31b47972234a9",
                "bf014e01d1585294"
            ]
        ]
    },
    {
        "id": "0578c9036c8dd417",
        "type": "trigger",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "3",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 940,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "4383ecd87f1a0660",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 71",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1180,
        "y": 820,
        "wires": []
    },
    {
        "id": "83b6f51a226be26d",
        "type": "trigger",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1560,
        "y": 1020,
        "wires": [
            [
                "4f86347cbc8d666c",
                "1fa82899590f375c"
            ]
        ]
    },
    {
        "id": "4f86347cbc8d666c",
        "type": "ui_led",
        "z": "419e8a7f494d3e4a",
        "order": 2,
        "group": "3099eb616e7a700f",
        "width": 2,
        "height": 2,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#b3b2b2",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#2005f0",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "led api",
        "x": 1730,
        "y": 1060,
        "wires": []
    },
    {
        "id": "2e1ad3b0b49a9752",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "API response",
        "mode": "link",
        "links": [
            "57c23c28cc408927",
            "be19712b76a1e834"
        ],
        "x": 1685,
        "y": 960,
        "wires": []
    },
    {
        "id": "72c947a19a4719ea",
        "type": "trigger",
        "z": "419e8a7f494d3e4a",
        "name": "timeout",
        "op1": "start",
        "op2": "stop",
        "op1type": "str",
        "op2type": "str",
        "duration": "70",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1540,
        "y": 960,
        "wires": [
            [
                "2e1ad3b0b49a9752"
            ]
        ]
    },
    {
        "id": "f352803694aee4a0",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "red",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 820,
        "wires": [
            [
                "fa8fbcbfbcf03f28",
                "c03591d169b73cda"
            ]
        ]
    },
    {
        "id": "fa8fbcbfbcf03f28",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "API problem",
        "mode": "link",
        "links": [
            "0723102403f1ad8c"
        ],
        "x": 1645,
        "y": 820,
        "wires": []
    },
    {
        "id": "1fa82899590f375c",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "white",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "white",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1730,
        "y": 1020,
        "wires": [
            [
                "f513da32c4895922"
            ]
        ]
    },
    {
        "id": "f513da32c4895922",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "API problem",
        "mode": "link",
        "links": [
            "0723102403f1ad8c"
        ],
        "x": 1845,
        "y": 1020,
        "wires": []
    },
    {
        "id": "f8f8aa3fd44752e0",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "504",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1390,
        "y": 900,
        "wires": [
            [
                "f352803694aee4a0",
                "f523d1e327b69810"
            ],
            [
                "4331fefed267c3be",
                "83b6f51a226be26d",
                "72c947a19a4719ea"
            ]
        ]
    },
    {
        "id": "f523d1e327b69810",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 72",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1560,
        "y": 860,
        "wires": []
    },
    {
        "id": "be19712b76a1e834",
        "type": "link in",
        "z": "419e8a7f494d3e4a",
        "name": "timeout IN",
        "links": [
            "2e1ad3b0b49a9752",
            "334d5c224684b0ca"
        ],
        "x": 1425,
        "y": 820,
        "wires": [
            [
                "f352803694aee4a0"
            ]
        ]
    },
    {
        "id": "dd2efe121d825564",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "BINGO",
        "mode": "link",
        "links": [
            "038e2b6cf04a54a2",
            "8e03a8f3b958223c",
            "dabcdd1e7db0a782"
        ],
        "x": 3635,
        "y": 1040,
        "wires": []
    },
    {
        "id": "2eda0625e3178fa3",
        "type": "trigger",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "140",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "start",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 3690,
        "y": 1120,
        "wires": [
            [
                "4030c3612ff02f60",
                "fa1a315fed357a1c"
            ]
        ]
    },
    {
        "id": "4e282bc829617461",
        "type": "link in",
        "z": "419e8a7f494d3e4a",
        "name": "Reset IN mqtt",
        "links": [
            "9df166375ac4d555"
        ],
        "x": 3455,
        "y": 1260,
        "wires": [
            [
                "b6b952878f83996f"
            ]
        ]
    },
    {
        "id": "b6b952878f83996f",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "start again",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3530,
        "y": 1200,
        "wires": [
            [
                "2eda0625e3178fa3"
            ]
        ]
    },
    {
        "id": "479c5f8aa4336a72",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 76",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 700,
        "wires": []
    },
    {
        "id": "30a5d51a8c8c4247",
        "type": "link in",
        "z": "419e8a7f494d3e4a",
        "name": "queue IN",
        "links": [
            "334d5c224684b0ca"
        ],
        "x": 615,
        "y": 820,
        "wires": [
            [
                "bb7d4de528556e4e"
            ]
        ]
    },
    {
        "id": "bb7d4de528556e4e",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 820,
        "wires": [
            [
                "13502297ef631348"
            ]
        ]
    },
    {
        "id": "5bb75dd86b8edd9a",
        "type": "inject",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 560,
        "y": 760,
        "wires": [
            [
                "bb7d4de528556e4e"
            ]
        ]
    },
    {
        "id": "dda6d6d28c754e69",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 77",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1880,
        "y": 820,
        "wires": []
    },
    {
        "id": "c03591d169b73cda",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "ERROR 504",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ERROR - API request timeout 504",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 780,
        "wires": [
            [
                "ce94f5246c9a099c"
            ]
        ]
    },
    {
        "id": "ce94f5246c9a099c",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "API error",
        "mode": "link",
        "links": [
            "346766ca645d515c"
        ],
        "x": 1855,
        "y": 740,
        "wires": []
    },
    {
        "id": "dc2672aa6200f716",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 79",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3660,
        "y": 1000,
        "wires": []
    },
    {
        "id": "d85e439855a64a2c",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "function 10",
        "func": "msg.intervals = msg.payload.construct.interval;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1250,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "3399bac0bd499ea9",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 81",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3040,
        "y": 1020,
        "wires": []
    },
    {
        "id": "9e66f89f7c261ea0",
        "type": "mqtt out",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "topic": "v1/devices/me/rpc/reponse/",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 3180,
        "y": 1880,
        "wires": []
    },
    {
        "id": "aca96c3fdb2074d5",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 86",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3360,
        "y": 1960,
        "wires": []
    },
    {
        "id": "0afa5dfdb376a45e",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "function 22",
        "func": "msg.topic=msg.topic.split(\"/\")[4]+\"/response/\"+msg.topic.split(\"/\")[5];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2910,
        "y": 1920,
        "wires": [
            [
                "a4585430aaba0486"
            ]
        ]
    },
    {
        "id": "8e555a0225bdc3a1",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 2170,
        "y": 1500,
        "wires": [
            [
                "f9b9ab9f297ed5be"
            ]
        ]
    },
    {
        "id": "f9b9ab9f297ed5be",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 1500,
        "wires": [
            [
                "1607da66235a8ebe"
            ]
        ]
    },
    {
        "id": "1607da66235a8ebe",
        "type": "sort",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 1500,
        "wires": [
            [
                "dc2762dac53684ac"
            ]
        ]
    },
    {
        "id": "dc2762dac53684ac",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s5",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s6",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s7",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 2590,
        "y": 1500,
        "wires": [
            [
                "afd35f2461c19cdb"
            ],
            [
                "71aff61f826c5ec5"
            ],
            [
                "f5277c10308777a6"
            ],
            [
                "3ea64afe1d4f9666"
            ],
            [
                "832e028184bf4547"
            ],
            [
                "652cd7629c7041b5"
            ],
            [
                "5897622c8ac6629c"
            ],
            [
                "dfe54171f93e08e3"
            ]
        ]
    },
    {
        "id": "afd35f2461c19cdb",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1420,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "71aff61f826c5ec5",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1460,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "f5277c10308777a6",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1500,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "3ea64afe1d4f9666",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1540,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "9d44acb2101ff063",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "COMPARE",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\n// msg.payload=msg.payload.period.toString();\n\nvar indicatorArr=[];\nvar n=0;\nfor (var indicators in msg.payload){\n    var interval=msg.payload[indicators].interval;\n    indicatorArr[n]=indicators+\"-\"+interval;\n    n++;\n}\nvar result= indicatorArr.toString();\nvar seq,trade;\nif (msg.topic == \"test\") {\n    trade=msg.payload;\n    msg.result = {};\n    msg.result.trade = trade;\n    global.set('results', msg.result);\n    return msg;\n}\n    \nelse if (Allconfig.sequences[msg.topic].string==result && Allconfig.sequences[msg.topic].enable==true) {\n    trade = Allconfig.sequences[msg.topic].Trade;\n    msg.result = {};\n    msg.result.string = result;\n    msg.result.trade=trade;\n    msg.result.sequence = msg.topic;\n    msg.payload = parseInt(msg.result.sequence.charAt(1));\n\n    global.set('results', msg.result);\n    \n    return msg;\n} else if (Allconfig.sequences[msg.topic].enable == true){\n    var msg1={};\n    msg1.result = \"No Luck: \"+result;\n    return [null,msg1];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 1500,
        "wires": [
            [
                "def34a1d8693541f",
                "594514d4a6a106ac",
                "6bbee5b51da699c5"
            ],
            [
                "9ae4ef968c06546e",
                "56ca7745339ba8a7"
            ]
        ]
    },
    {
        "id": "09dc3d2316c52118",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 96",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3120,
        "y": 1440,
        "wires": []
    },
    {
        "id": "191209c15ca24d29",
        "type": "ui_button",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "group": "3099eb616e7a700f",
        "order": 9,
        "width": 8,
        "height": 2,
        "passthru": false,
        "label": "TEST SSCR",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "buy",
        "payloadType": "str",
        "topic": "test",
        "topicType": "str",
        "x": 3230,
        "y": 1600,
        "wires": [
            [
                "9d44acb2101ff063"
            ]
        ]
    },
    {
        "id": "def34a1d8693541f",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "BINGO",
        "mode": "link",
        "links": [
            "db19773c4cac3820"
        ],
        "x": 3415,
        "y": 1420,
        "wires": []
    },
    {
        "id": "594514d4a6a106ac",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 97",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "result",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3440,
        "y": 1360,
        "wires": []
    },
    {
        "id": "9ae4ef968c06546e",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "RESULT",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "result",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3440,
        "y": 1540,
        "wires": []
    },
    {
        "id": "56ca7745339ba8a7",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "RESULTS OUT",
        "mode": "link",
        "links": [],
        "x": 3415,
        "y": 1500,
        "wires": []
    },
    {
        "id": "8a6fecc87625469d",
        "type": "mqtt out",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0fa44620b240ee1b",
        "x": 3870,
        "y": 1500,
        "wires": []
    },
    {
        "id": "94e75cd6b294e099",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3860,
        "y": 1460,
        "wires": []
    },
    {
        "id": "6bbee5b51da699c5",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "tradePrep",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar requestId = global.set('requestId') || 0;\n\nvar seq = msg.payload;\nvar TradeType = Allconfig.sequences['s' +seq].TradeType;\n\nvar trade = Allconfig.sequences['s' +seq].Trade;\nvar leverage = Allconfig.sequences['s' +seq].leverage;\nvar status1 = Allconfig.config.trend.status1;\nvar status2 = Allconfig.config.trend.status2;\nvar trend;\nvar tT;\n\nif (TradeType == 'weak') tT = 'W';\nelse if (TradeType == 'extreme') tT = 'E';\nelse if (TradeType == 'neutral') tT = 'N';\n\nif (status1 == 'UP' && status2 == 'UP') trend = 'UP';\nif (status1 == 'DOWN' && status2 == 'DOWN') trend = 'DOWN';\nif ((status1 == 'UP' && status2 == 'DOWN') || (status2 == 'UP' && status1 == 'DOWN')) trend = 'NEUTRAL';\n\nif ((trade=='buy' && TradeType=='weak' && trend=='DOWN') ||\n   (trade == 'buy' && TradeType == 'extreme' && trend == 'UP') ||\n   (trade == 'buy' && TradeType == 'neutral' && trend == 'NEUTRAL') ||\n   (trade == 'sell' && TradeType == 'weak' && trend == 'UP') ||\n   (trade == 'sell' && TradeType == 'extreme' && trend == 'DOWN') ||\n   (trade == 'sell' && TradeType == 'neutral' && trend == 'NEUTRAL')){\n\n    msg.payload = {};\n    msg.payload.method = \"tradePrep\";\n    msg.payload.params = {};\n    msg.payload.params.sequence = seq;\n\n   msg.payload.params['tradeSizePC'] = Allconfig.config.tradePC[tT + '_tradeSize']\n   msg.payload.params['takeProfitPC'] = Allconfig.config.tradePC[tT + '_takeProfit']\n   msg.payload.params['stopLossPC'] = Allconfig.config.tradePC[tT + '_stopLoss'];\n    \n    msg.payload.params.leverage = leverage;\n    msg.payload.params.trade = trade;\n    msg.payload.params.tradeType=TradeType;\n    msg.payload.params.strategy = \"DEMO\";\n\n    requestId++;\n\n   var msg1={};\n   msg1.payload = msg.payload.method + \"- \" + TradeType + \" - trade: \" + trade +\" - seq:\"+seq;\n  msg1.result=msg1.payload;\n  global.set('requestId', requestId);\n    msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n    return [msg1,msg];\n  }\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3500,
        "y": 1460,
        "wires": [
            [
                "4839d2f5c8d1ed38",
                "5406333aea4b27c0"
            ],
            [
                "abe8124520cd0831"
            ]
        ]
    },
    {
        "id": "c92f17a1ab5211e9",
        "type": "inject",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 3250,
        "y": 1360,
        "wires": [
            [
                "6bbee5b51da699c5"
            ]
        ]
    },
    {
        "id": "832e028184bf4547",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1580,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "652cd7629c7041b5",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1620,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "5897622c8ac6629c",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1660,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "dfe54171f93e08e3",
        "type": "join",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2770,
        "y": 1700,
        "wires": [
            [
                "ce04d7809f58d3cf"
            ]
        ]
    },
    {
        "id": "1102bd7e5254bfe7",
        "type": "delay",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": ".5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2990,
        "y": 1500,
        "wires": [
            [
                "9d44acb2101ff063",
                "09dc3d2316c52118"
            ]
        ]
    },
    {
        "id": "4839d2f5c8d1ed38",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "BINGO",
        "mode": "link",
        "links": [
            "038e2b6cf04a54a2",
            "8e03a8f3b958223c",
            "dabcdd1e7db0a782"
        ],
        "x": 3635,
        "y": 1420,
        "wires": []
    },
    {
        "id": "abe8124520cd0831",
        "type": "trigger",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "140",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "start",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 3690,
        "y": 1500,
        "wires": [
            [
                "94e75cd6b294e099",
                "8a6fecc87625469d"
            ]
        ]
    },
    {
        "id": "96bac7a4cc1346eb",
        "type": "link in",
        "z": "419e8a7f494d3e4a",
        "name": "Reset IN mqtt",
        "links": [
            "9df166375ac4d555"
        ],
        "x": 3455,
        "y": 1640,
        "wires": [
            [
                "e3d0f10a161dae04"
            ]
        ]
    },
    {
        "id": "e3d0f10a161dae04",
        "type": "change",
        "z": "419e8a7f494d3e4a",
        "name": "start again",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3530,
        "y": 1580,
        "wires": [
            [
                "abe8124520cd0831"
            ]
        ]
    },
    {
        "id": "5406333aea4b27c0",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 98",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3660,
        "y": 1340,
        "wires": []
    },
    {
        "id": "68359ae5afaf9013",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 99",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3040,
        "y": 1400,
        "wires": []
    },
    {
        "id": "1327803701fa1ea3",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1950,
        "y": 1260,
        "wires": [
            [
                "9ad2cf98c3cb2cc7"
            ]
        ]
    },
    {
        "id": "dd6ee65c80e8ae76",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 2450,
        "y": 360,
        "wires": [
            [
                "b91e6c17b49228e3"
            ]
        ]
    },
    {
        "id": "b91e6c17b49228e3",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "trend1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "trend2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2610,
        "y": 360,
        "wires": [
            [
                "bf9943b86ffbeb2a"
            ],
            [
                "8fe3cf26601486ca"
            ]
        ]
    },
    {
        "id": "bf9943b86ffbeb2a",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Trend calculator 1",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar Allsequences = global.get('Allsequences', 'varstorage') || {};\nvar strategy=msg.topic;\n// msg.payload=msg.payload.period.toString();\n\n\n// var msg1={};\n// msg1.payload={};\n\nfor (var t=1;t<=2;t++){\n    var indicatorArr = [];\n    var n = 0;\n    for (var indicators in msg.payload[\"trend\"+t]) {\n        indicatorArr[n] = msg.payload[indicators].value;\n        n++;\n    }\n    if (indicatorArr[0]<indicatorArr[1]) {\n        msg.payload =\"fa-caret-square-o-down fa-3x\";\n        Allsequences[strategy].config.trend['status'+t]=\"DOWN\";\n        // return [null,msg];\n    }else if (indicatorArr[0]>indicatorArr[1]){\n        msg.payload =\"fa-caret-square-o-up fa-3x\";\n        Allsequences[strategy].config.trend['status' + t] = \"UP\";\n        // return [msg,null];\n    }else{\n        msg.payload = \"fa-minus-square fa-3x\";\n        Allsequences[strategy].config.trend['status' + t] = \"EQUAL\";\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2830,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "8fe3cf26601486ca",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "Trend calculator 2",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\n// msg.payload=msg.payload.period.toString();\n\nvar indicatorArr = [];\nvar n = 0;\nfor (var indicators in msg.payload) {\n    indicatorArr[n] =msg.payload[indicators].value;\n    n++\n}\nvar msg1={};\nmsg1.payload={};\n\nif (indicatorArr[0]<indicatorArr[1]) {\n    msg.payload =\"fa-caret-square-o-down fa-3x\";\n    Allconfig.config.trend.status2=\"DOWN\";\n    // return [null,msg];\n}else if (indicatorArr[0]>indicatorArr[1]){\n    msg.payload =\"fa-caret-square-o-up fa-3x\";\n    Allconfig.config.trend.status2 = \"UP\";\n    // return [msg,null];\n}else{\n    msg.payload=\"fa-minus-square fa-3x\";\n    Allconfig.config.trend.status2 = \"EQUAL\";\n}\nmsg.t1 = indicatorArr[0];\nmsg.t2 = indicatorArr[1];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2830,
        "y": 380,
        "wires": [
            [
                "7d8736425af9420c"
            ]
        ]
    },
    {
        "id": "7d8736425af9420c",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "TREND 2",
        "mode": "link",
        "links": [
            "9e80880989d50b07"
        ],
        "x": 3015,
        "y": 380,
        "wires": []
    },
    {
        "id": "26a95236dbaabc0f",
        "type": "split",
        "z": "419e8a7f494d3e4a",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 2150,
        "y": 460,
        "wires": [
            [
                "9255bda28ecb7abd"
            ]
        ]
    },
    {
        "id": "9255bda28ecb7abd",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "strategy",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "strategy1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "strategy2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2300,
        "y": 460,
        "wires": [
            [
                "6307aee0a0103e97"
            ],
            [
                "1b2dca47def09ab8"
            ]
        ]
    },
    {
        "id": "9ad2cf98c3cb2cc7",
        "type": "switch",
        "z": "419e8a7f494d3e4a",
        "name": "strategy",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "strategy1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "strategy2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2120,
        "y": 1260,
        "wires": [
            [
                "adf9839a408acb68"
            ],
            [
                "8e555a0225bdc3a1"
            ]
        ]
    },
    {
        "id": "6307aee0a0103e97",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "strategy1",
        "func": "var Allcontfig = global.get('Allconfig', 'varstorage') || {};\nvar Allsequences = global.get('Allsequences', 'varstorage') || {};\nvar strategy=msg.topic;\nvar strSelected=global.get('strategy');\n\nvar msg1={};\nvar msg2={};\n\nvar indicatorArr = [];\nvar icon = {};\n\nfor (var  s= 0; s < 2; s++) {\n    icon[s]=[];\n    for (var t = 0; t < 2; t++) {\n        var n = 0;\n        for (var indicators in msg.payload[\"trend\"+(t+1)]) {\n            indicatorArr[n] = msg.payload[\"trend\" + (t + 1)][indicators].value;\n            n++;\n        }\n        if (indicatorArr[0]<indicatorArr[1]) {\n            icon[t] =\"fa-caret-square-o-down fa-3x\";\n            Allsequences[s].config.trend['status' + (t + 1)]=\"DOWN\";\n            // return [null,msg];\n        }else if (indicatorArr[0]>indicatorArr[1]){\n            icon[t]=\"fa-caret-square-o-up fa-3x\";\n            Allsequences[s].config.trend['status' + (t + 1)] = \"UP\";\n            // return [msg,null];\n        }else{\n            icon[t] = \"fa-minus-square fa-3x\";\n            Allsequences[s].config.trend['status' + (t + 1)] = \"EQUAL\";\n        }\n    }\n}\nmsg.payload = (strSelected == 'strategy1') ? icon['0'][0] : icon['1'][0];\nmsg1.payload = (strSelected == 'strategy1') ? icon['0'][0] : icon['1'][0];\nreturn [msg,msg1];\n// msg.payload.indicatorArr = indicatorArr;\n// msg.payload.icon=icon;\n// return msg;\n\n// msg1.payload=icon[0];\n// msg2.payload=icon[1];\n// return [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2500,
        "y": 420,
        "wires": [
            [
                "7c1f6968c0a1163a"
            ],
            [
                "25809c2ebedf4308"
            ]
        ]
    },
    {
        "id": "7c1f6968c0a1163a",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 101",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2770,
        "y": 400,
        "wires": []
    },
    {
        "id": "25809c2ebedf4308",
        "type": "debug",
        "z": "419e8a7f494d3e4a",
        "name": "debug 102",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2790,
        "y": 460,
        "wires": []
    },
    {
        "id": "1b2dca47def09ab8",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "strategy2",
        "func": "var Allconfig = global.get('Allconfig', 'varstorage') || {};\nvar Allsequences = global.get('Allsequences', 'varstorage') || {};\nvar strategy=msg.topic;\n\nvar msg1={};\nvar msg2={};\n\nvar indicatorArr = [];\nvar icon = [];\nfor (var t=0;t<2;t++){\n    var n = 0;\n    for (var indicators in msg.payload[\"trend\"+(t+1)]) {\n        indicatorArr[n] = msg.payload[\"trend\" + (t + 1)][indicators].value;\n        n++;\n    }\n    if (indicatorArr[0]<indicatorArr[1]) {\n        icon[t] =\"fa-caret-square-o-down fa-3x\";\n        Allsequences[strategy].config.trend['status' + (t + 1)]=\"DOWN\";\n        // return [null,msg];\n    }else if (indicatorArr[0]>indicatorArr[1]){\n        icon[t]=\"fa-caret-square-o-up fa-3x\";\n        Allsequences[strategy].config.trend['status' + (t + 1)] = \"UP\";\n        // return [msg,null];\n    }else{\n        icon[t] = \"fa-minus-square fa-3x\";\n        Allsequences[strategy].config.trend['status' + (t + 1)] = \"EQUAL\";\n    }\n}\nmsg.payload.indicatorArr = indicatorArr;\nmsg.payload.icon=icon;\nreturn msg;\n\n// msg1.payload=icon[0];\n// msg2.payload=icon[1];\n// return [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2500,
        "y": 500,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "eecee666264ed957",
        "type": "function",
        "z": "419e8a7f494d3e4a",
        "name": "strategy1",
        "func": "var Allcontfig = global.get('Allconfig', 'varstorage') || {};\nvar Allsequences = global.get('Allsequences', 'varstorage') || {};\nvar strategy=msg.topic;\nvar strSelected=global.get('strategy');\n\nvar msg1={};\nvar msg2={};\n\nvar indicatorArr = [];\nvar icon = {};\n\nfor (var  s in msg.payload) {\n    icon[s]={};\n    var status=1;\n    for (var t in msg.payload[s]) {\n        var n = 0;\n        for (var indicators in msg.payload[s][t]) {\n            indicatorArr[n] = msg.payload[s][t][indicators].value;\n            n++;\n        }\n        if (indicatorArr[0]<indicatorArr[1]) {\n            icon[s][t] =\"fa-caret-square-o-down fa-3x\";\n            Allsequences[s].config.trend['status' + status]=\"DOWN\";\n            // return [null,msg];\n        }else if (indicatorArr[0]>indicatorArr[1]){\n            icon[s][t]=\"fa-caret-square-o-up fa-3x\";\n            Allsequences[s].config.trend['status' + status] = \"UP\";\n            // return [msg,null];\n        }else{\n            icon[s][t] = \"fa-minus-square fa-3x\";\n            Allsequences[s].config.trend['status' + status] = \"EQUAL\";\n        }\n        status++;\n    }\n}\nmsg.payload = (strSelected == 'strategy1') ? icon['strategy1']['trend1'] : icon['strategy2']['trend1'];\nmsg1.payload = (strSelected == 'strategy2') ? icon['strategy2']['trend1'] : icon['strategy2']['trend2'];\nreturn [msg,msg1];\n// msg.payload.indicatorArr = indicatorArr;\n// msg.payload.icon=icon;\n// return msg;\n\n// msg1.payload=icon[0];\n// msg2.payload=icon[1];\n// return [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2120,
        "y": 720,
        "wires": [
            [
                "6bdbb99d43ed9701"
            ],
            [
                "2d3fe3f9b665c803"
            ]
        ]
    },
    {
        "id": "6bdbb99d43ed9701",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "TREND 1",
        "mode": "link",
        "links": [
            "0276840b28b2ee36"
        ],
        "x": 2305,
        "y": 700,
        "wires": []
    },
    {
        "id": "2d3fe3f9b665c803",
        "type": "link out",
        "z": "419e8a7f494d3e4a",
        "name": "TREND 2",
        "mode": "link",
        "links": [
            "9e80880989d50b07"
        ],
        "x": 2305,
        "y": 740,
        "wires": []
    },
    {
        "id": "c58602aabab1b6ae",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "seq IN",
        "links": [
            "bf6d4b74a12b25c9",
            "87c1099cd41be3d4",
            "ce73dd1bba42695f"
        ],
        "x": 435,
        "y": 500,
        "wires": [
            [
                "dd874ecb06790454",
                "ca1f7a5702ad999f",
                "2c8d9455865b37ab",
                "1e9c1c9457c3c201"
            ]
        ]
    },
    {
        "id": "dd874ecb06790454",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "",
        "group": "2a64f463fa5315e7",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Extreme",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[0]}}",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "s_extreme",
        "topicType": "str",
        "x": 630,
        "y": 500,
        "wires": [
            [
                "d88d2bc69ffa0513"
            ]
        ]
    },
    {
        "id": "ca1f7a5702ad999f",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "",
        "group": "2a64f463fa5315e7",
        "order": 3,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Neutral",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[1]}}",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "s_neutral",
        "topicType": "str",
        "x": 630,
        "y": 540,
        "wires": [
            [
                "d88d2bc69ffa0513"
            ]
        ]
    },
    {
        "id": "2c8d9455865b37ab",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "",
        "group": "2a64f463fa5315e7",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Weak",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.seqBackground[2]}}",
        "className": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "s_weak",
        "topicType": "str",
        "x": 620,
        "y": 580,
        "wires": [
            [
                "d88d2bc69ffa0513"
            ]
        ]
    },
    {
        "id": "ec983c83d0816976",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "Load sequence",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1400,
        "y": 380,
        "wires": []
    },
    {
        "id": "cdc05f85f6457830",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "load seq OUT",
        "mode": "link",
        "links": [
            "010e39dec951f3f9",
            "6e439102468fc1d0",
            "b93cf2b857905ff4",
            "e00c4eba244b7990"
        ],
        "x": 1075,
        "y": 440,
        "wires": []
    },
    {
        "id": "ae59d709c615f880",
        "type": "delay",
        "z": "b3151d5c41739308",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 500,
        "wires": [
            [
                "589164a22de2a431"
            ]
        ]
    },
    {
        "id": "0282468df0e3e2c4",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "073356e9ad872f62",
        "order": 5,
        "width": 6,
        "height": 1,
        "name": "Sequence",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "row-center",
        "className": "",
        "x": 1200,
        "y": 340,
        "wires": []
    },
    {
        "id": "589164a22de2a431",
        "type": "split",
        "z": "b3151d5c41739308",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1260,
        "y": 500,
        "wires": [
            [
                "d6e8f1fdb2cd2953",
                "ec983c83d0816976"
            ]
        ]
    },
    {
        "id": "153336ce46d113ed",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 340,
        "wires": [
            [
                "0282468df0e3e2c4"
            ]
        ]
    },
    {
        "id": "d6e8f1fdb2cd2953",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "enable",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Tolerance1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Tolerance2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "leverage",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "PC-stopLoss",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "PC-takeProfit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "PC-tradeSize",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 1420,
        "y": 500,
        "wires": [
            [
                "bf1d21b5c2e6593d"
            ],
            [
                "9b86911737091472"
            ],
            [
                "8479ea1aaa000b7f"
            ],
            [
                "bd3272f2f1b98fd2"
            ],
            [
                "99286b9cf3e59158"
            ],
            [
                "4d131e96a32bb8bf"
            ],
            [
                "202d4892d960f0e2"
            ]
        ]
    },
    {
        "id": "9a3e470a7c8269aa",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "Sequences ON",
        "links": [
            "fcbb923f2023bbc7",
            "4fa322b2210c4b65"
        ],
        "x": 915,
        "y": 340,
        "wires": [
            [
                "153336ce46d113ed"
            ]
        ]
    },
    {
        "id": "bf1d21b5c2e6593d",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "SEQ ENABLE OUT",
        "mode": "link",
        "links": [
            "47917a97a95fe36a",
            "6e439102468fc1d0"
        ],
        "x": 1575,
        "y": 420,
        "wires": []
    },
    {
        "id": "9b86911737091472",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "Tolerance1 OUT",
        "mode": "link",
        "links": [
            "8f1d0be163dd9d0c",
            "9b42ada7bdc9f57b"
        ],
        "x": 1575,
        "y": 460,
        "wires": []
    },
    {
        "id": "8479ea1aaa000b7f",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "Tolerance 2 OUT",
        "mode": "link",
        "links": [
            "44204a9e53c23b7b",
            "2426e497412b5532"
        ],
        "x": 1575,
        "y": 500,
        "wires": []
    },
    {
        "id": "bd3272f2f1b98fd2",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "leverage OUT",
        "mode": "link",
        "links": [
            "4441998eccfcbd47",
            "848f06fbb8dc2b1e"
        ],
        "x": 1575,
        "y": 540,
        "wires": []
    },
    {
        "id": "99286b9cf3e59158",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "stopLoss OUT",
        "mode": "link",
        "links": [
            "dd0884f2ef471255"
        ],
        "x": 1575,
        "y": 580,
        "wires": []
    },
    {
        "id": "3d250517b6916b9e",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "1",
        "group": "2a64f463fa5315e7",
        "order": 18,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "1{{msg.payload.s1[0]}}",
        "tooltip": "",
        "color": "{{msg.colour[0]}}",
        "bgcolor": "{{msg.pBackground.s1[0]}}",
        "className": "pos",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "p1-s1",
        "topicType": "str",
        "x": 630,
        "y": 1000,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "90c7669cfaf20400",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "2",
        "group": "2a64f463fa5315e7",
        "order": 19,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "2{{msg.payload.s1[1]}}",
        "tooltip": "",
        "color": "{{msg.colour[1]}}",
        "bgcolor": "{{msg.pBackground.s1[1]}}",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "p2-s1",
        "topicType": "str",
        "x": 630,
        "y": 1040,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "8237ba0acf3e6255",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "3",
        "group": "2a64f463fa5315e7",
        "order": 20,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "3{{msg.payload.s1[2]}}",
        "tooltip": "",
        "color": "{{msg.colour[2]}}",
        "bgcolor": "{{msg.pBackground.s1[2]}}",
        "className": "",
        "icon": "",
        "payload": "3",
        "payloadType": "str",
        "topic": "p3-s1",
        "topicType": "str",
        "x": 630,
        "y": 1080,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "3e9b494c140c28f4",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "4",
        "group": "2a64f463fa5315e7",
        "order": 21,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "4{{msg.payload.s1[3]}}",
        "tooltip": "",
        "color": "{{msg.colour[3]}}",
        "bgcolor": "{{msg.pBackground.s1[3]}}",
        "className": "",
        "icon": "",
        "payload": "4",
        "payloadType": "str",
        "topic": "p4-s1",
        "topicType": "str",
        "x": 630,
        "y": 1120,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "52f5a91567544f79",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "5",
        "group": "2a64f463fa5315e7",
        "order": 22,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "5{{msg.payload.s1[4]}}",
        "tooltip": "",
        "color": "{{msg.colour[4]}}",
        "bgcolor": "{{msg.pBackground.s1[4]}}",
        "className": "",
        "icon": "",
        "payload": "5",
        "payloadType": "str",
        "topic": "p5-s1",
        "topicType": "str",
        "x": 630,
        "y": 1160,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "a9f25e8d9ffa600d",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "6",
        "group": "2a64f463fa5315e7",
        "order": 23,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "6{{msg.payload.s1[5]}}",
        "tooltip": "",
        "color": "{{msg.colour[5]}}",
        "bgcolor": "{{msg.pBackground.s1[5]}}",
        "className": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "p6-s1",
        "topicType": "str",
        "x": 630,
        "y": 1200,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "c7389ca0d5b79d0c",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "7",
        "group": "2a64f463fa5315e7",
        "order": 24,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "7{{msg.payload.s1[6]}}",
        "tooltip": "",
        "color": "{{msg.colour[6]}}",
        "bgcolor": "{{msg.pBackground.s1[6]}}",
        "className": "",
        "icon": "",
        "payload": "7",
        "payloadType": "str",
        "topic": "p7-s1",
        "topicType": "str",
        "x": 630,
        "y": 1240,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "c98ce4a35933c133",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "8",
        "group": "2a64f463fa5315e7",
        "order": 25,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "8{{msg.payload.s1[7]}}",
        "tooltip": "",
        "color": "{{msg.colour[7]}}",
        "bgcolor": "{{msg.pBackground.s1[7]}}",
        "className": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "p8-s1",
        "topicType": "str",
        "x": 630,
        "y": 1280,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "ede2eb0c6d2cac18",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "9",
        "group": "2a64f463fa5315e7",
        "order": 26,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "9{{msg.payload.s1[8]}}",
        "tooltip": "",
        "color": "{{msg.colour[8]}}",
        "bgcolor": "{{msg.pBackground.s1[8]}}",
        "className": "",
        "icon": "",
        "payload": "9",
        "payloadType": "str",
        "topic": "p9-s1",
        "topicType": "str",
        "x": 630,
        "y": 1320,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "921c0afcd8fb4cd1",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "10",
        "group": "2a64f463fa5315e7",
        "order": 27,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "10{{msg.payload.s1[9]}}",
        "tooltip": "",
        "color": "{{msg.colour[9]}}",
        "bgcolor": "{{msg.pBackground.s1[9]}}",
        "className": "",
        "icon": "",
        "payload": "10",
        "payloadType": "str",
        "topic": "p10-s1",
        "topicType": "str",
        "x": 630,
        "y": 1360,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "b73f2dac6ab3b9d5",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "11",
        "group": "2a64f463fa5315e7",
        "order": 28,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "11{{msg.payload.s1[10]}}",
        "tooltip": "",
        "color": "{{msg.colour[10]}}",
        "bgcolor": "{{msg.pBackground.s1[10]}}",
        "className": "",
        "icon": "",
        "payload": "11",
        "payloadType": "str",
        "topic": "p11-s1",
        "topicType": "str",
        "x": 630,
        "y": 1400,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "8248d574ba446776",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "12",
        "group": "2a64f463fa5315e7",
        "order": 29,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "12{{msg.payload.s1[11]}}",
        "tooltip": "",
        "color": "{{msg.colour[11]}}",
        "bgcolor": "{{msg.pBackground.s1[11]}}",
        "className": "",
        "icon": "",
        "payload": "12",
        "payloadType": "str",
        "topic": "p12-s1",
        "topicType": "str",
        "x": 630,
        "y": 1440,
        "wires": [
            [
                "c57a45e295f1d024"
            ]
        ]
    },
    {
        "id": "121509e10c7d009d",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "94c03f237562a85d",
        "order": 2,
        "width": "5",
        "height": 1,
        "name": "Position",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "col-center",
        "className": "",
        "x": 1360,
        "y": 740,
        "wires": []
    },
    {
        "id": "ab574c0afbd98285",
        "type": "delay",
        "z": "b3151d5c41739308",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1410,
        "y": 900,
        "wires": [
            [
                "e700b513bdb366f8"
            ]
        ]
    },
    {
        "id": "24e88acecb13f03e",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "Value",
        "func": "var seq = global.get('seqSelected');\nvar strategy = global.get('strategy');\nvar pos = global.get('position');\nvar currentSequence = global.get('currentSequence') || {};\n\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nif (Allconfig.hasOwnProperty('sequences')) {\n    if (Allconfig.sequences.hasOwnProperty(seq)) {\n        if (Allconfig.sequences[seq].hasOwnProperty('position')) {\n            if (Allconfig.sequences[seq].position.hasOwnProperty(pos)){\n                if (Allconfig.sequences[seq].position.hasOwnProperty(pos)){\n                    if (Allconfig.sequences[seq].position[pos].hasOwnProperty('value')) msg.payload = Allconfig.sequences[seq].position[pos].value;\n                }else msg.payload = \"\";\n            }\n        }\n    }\n}\nelse msg.payload=\"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 940,
        "wires": [
            [
                "cdcd409f4d85cf31",
                "f17b88057669fa59"
            ]
        ]
    },
    {
        "id": "27639a1f8950cdf6",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "Load positions",
        "func": "var currentSequence = global.get('currentSequence') || {};\n// var currentStrategy = global.get('currentStrategy') || {};\nvar seqSelected = global.get('seqSelected');\nvar position = global.get('position');\n// var strategy = global.get('strategy');\n\n\n\n// var currentStrategy = global.get('currentStrategy', 'varstorage') || {};\n\nvar msg1={};\n\nif (JSON.stringify(currentSequence) != '{}') {\n    msg.payload = {};\n    if (currentSequence.hasOwnProperty(\"seqs\"))\n    for (var s in currentSequence.seqs) {\n        if (currentSequence.seqs[s].hasOwnProperty('positions')) {\n            msg.payload[s] = [];\n            for (var CSpos in currentSequence.seqs[s].positions) {\n                var CSposition = parseInt(CSpos.substring(1)) - 1;\n                msg.payload[s][CSposition] = \"<p>\" + currentSequence.seqs[s].positions[CSpos].name + \"</p>\";\n                // msg1.tBackground=\"\";\n            }\n        }\n    }\n}else msg.payload=\"\";\nreturn msg;\n// if (msg.topic.split(\"-\")[1].charAt(1)==\"1\") msg.tBackground=\n\n\n// return [msg,msg1];\n// }\n// else {\n//     msg.payload=msg.payload.s2;\n//     return [msg1,msg];\n// }",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 1000,
        "wires": [
            [
                "b8e96933809bbeb3",
                "b16e31cb0388847e",
                "ffe878d217158af8"
            ]
        ]
    },
    {
        "id": "b0ba5c693946a97f",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": " ",
        "payload": " ",
        "payloadType": "str",
        "x": 1150,
        "y": 700,
        "wires": [
            [
                "121509e10c7d009d"
            ]
        ]
    },
    {
        "id": "38872d22af29f368",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 780,
        "wires": [
            [
                "121509e10c7d009d"
            ]
        ]
    },
    {
        "id": "8f8a2fd498c93f99",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "position IN",
        "links": [
            "80c80d0ccb3bc1af",
            "495275a871d7eabe"
        ],
        "x": 1195,
        "y": 740,
        "wires": [
            [
                "121509e10c7d009d"
            ]
        ]
    },
    {
        "id": "0c8a78a603718356",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "load position IN",
        "links": [
            "80c80d0ccb3bc1af",
            "495275a871d7eabe"
        ],
        "x": 1315,
        "y": 820,
        "wires": [
            [
                "ab574c0afbd98285"
            ]
        ]
    },
    {
        "id": "e700b513bdb366f8",
        "type": "split",
        "z": "b3151d5c41739308",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1610,
        "y": 880,
        "wires": [
            [
                "a98c60c58923a653"
            ]
        ]
    },
    {
        "id": "cdcd409f4d85cf31",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "Value OUT",
        "mode": "link",
        "links": [
            "474037e5e2a1ac63",
            "7b9a4729ee70e67c",
            "8f32e90ff5627310",
            "dd130e326f37eb40",
            "b93cf2b857905ff4",
            "128790358590033f",
            "86a515e9487a90df",
            "e00c4eba244b7990",
            "0ff6260a11f41af1"
        ],
        "x": 1545,
        "y": 940,
        "wires": []
    },
    {
        "id": "f17b88057669fa59",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 103",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1560,
        "y": 1000,
        "wires": []
    },
    {
        "id": "fec7ce77d3b8ea7d",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "display position",
        "links": [
            "a8900e6dc3502429",
            "0104c52d6e612698",
            "fc5cbd30eb85338e",
            "bf6d4b74a12b25c9",
            "87c1099cd41be3d4",
            "ce73dd1bba42695f",
            "277e15850b022d5b",
            "961df1b86e0b156c",
            "d3fd5f808728d9f6",
            "b4bdee22e30f5201",
            "b6efe2839032d271",
            "85955bc1070ca49b"
        ],
        "x": 135,
        "y": 1000,
        "wires": [
            [
                "27639a1f8950cdf6"
            ]
        ]
    },
    {
        "id": "b16e31cb0388847e",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "sequence load",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 880,
        "wires": []
    },
    {
        "id": "010e39dec951f3f9",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank indicator",
        "links": [
            "254cf2182dfdf193",
            "fcbb923f2023bbc7",
            "cdc05f85f6457830",
            "4fa322b2210c4b65"
        ],
        "x": 1025,
        "y": 780,
        "wires": [
            [
                "38872d22af29f368"
            ]
        ]
    },
    {
        "id": "a98c60c58923a653",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "enable",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "period",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "indicator",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "interval",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1750,
        "y": 880,
        "wires": [
            [
                "700279c4694c18b0"
            ],
            [
                "57db0c23711b760b"
            ],
            [
                "c3f727a060cb6116"
            ],
            [
                "b3e9cfdfdbd9b52f"
            ]
        ]
    },
    {
        "id": "700279c4694c18b0",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "ENABLE OUT",
        "mode": "link",
        "links": [
            "c10ea73396d735bf"
        ],
        "x": 1905,
        "y": 800,
        "wires": []
    },
    {
        "id": "57db0c23711b760b",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "indicatorN OUT",
        "mode": "link",
        "links": [
            "67243951c825c345"
        ],
        "x": 1905,
        "y": 840,
        "wires": []
    },
    {
        "id": "c3f727a060cb6116",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "indicator OUT",
        "mode": "link",
        "links": [
            "770677a9ecf6dd72"
        ],
        "x": 1905,
        "y": 880,
        "wires": []
    },
    {
        "id": "b3e9cfdfdbd9b52f",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "interval OUT",
        "mode": "link",
        "links": [
            "892170f61ea1098e"
        ],
        "x": 1905,
        "y": 920,
        "wires": []
    },
    {
        "id": "02b843fe9302a541",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "INTERVAL",
        "label": "Interval",
        "tooltip": "",
        "place": "Select option",
        "group": "94c03f237562a85d",
        "order": 6,
        "width": 4,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "",
                "value": "1m",
                "type": "str"
            },
            {
                "label": "",
                "value": "5m",
                "type": "str"
            },
            {
                "label": "",
                "value": "15m",
                "type": "str"
            },
            {
                "label": "",
                "value": "30m",
                "type": "str"
            },
            {
                "label": "",
                "value": "1h",
                "type": "str"
            },
            {
                "label": "",
                "value": "2h",
                "type": "str"
            },
            {
                "label": "",
                "value": "4h",
                "type": "str"
            },
            {
                "label": "",
                "value": "12h",
                "type": "str"
            },
            {
                "label": "",
                "value": "1d",
                "type": "str"
            },
            {
                "label": "",
                "value": "1w",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "interval",
        "topicType": "str",
        "className": "",
        "x": 2510,
        "y": 1080,
        "wires": [
            [
                "64d2883983e5018b"
            ]
        ]
    },
    {
        "id": "61e0f8b7674273f3",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "Indicator",
        "label": "Ind",
        "tooltip": "",
        "place": "Select option",
        "group": "94c03f237562a85d",
        "order": 4,
        "width": "4",
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "",
                "value": "EMA",
                "type": "str"
            },
            {
                "label": "",
                "value": "TEMA",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "indicator",
        "topicType": "str",
        "className": "",
        "x": 2520,
        "y": 1040,
        "wires": [
            [
                "64d2883983e5018b"
            ]
        ]
    },
    {
        "id": "64d2883983e5018b",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "SAVE indicator",
        "func": "var position = global.get('position');\nvar indicator=global.get('indicator') || {};\n\n// indicator={};\nindicator[msg.topic] = msg.payload;\n\nmsg.topic = position;\n// var ind=(indicator.indicator==\"EMA\")?\"E-\":\"T-\";\n// msg.payload = ind+indicator.period;\nglobal.set('position', position);\nglobal.set('indicator', indicator);\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2740,
        "y": 1040,
        "wires": [
            [
                "9bb4eae475982415"
            ]
        ]
    },
    {
        "id": "67243951c825c345",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "perio IN",
        "links": [
            "af74eddf94d2fe97",
            "23eadfd842378395",
            "a235be1fc9245481",
            "57db0c23711b760b"
        ],
        "x": 2325,
        "y": 1000,
        "wires": [
            [
                "c1818a1e278f2e44"
            ]
        ]
    },
    {
        "id": "770677a9ecf6dd72",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "indicator IN",
        "links": [
            "bc4e5d02b957eac1",
            "42b38c9329870464",
            "980f2c3b3727b936",
            "c3f727a060cb6116"
        ],
        "x": 2365,
        "y": 1040,
        "wires": [
            [
                "61e0f8b7674273f3"
            ]
        ]
    },
    {
        "id": "892170f61ea1098e",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "interval IN",
        "links": [
            "35d0edce16bf6f20",
            "42b38c9329870464",
            "91d1eb88a70337c7",
            "b3e9cfdfdbd9b52f"
        ],
        "x": 2365,
        "y": 1080,
        "wires": [
            [
                "02b843fe9302a541"
            ]
        ]
    },
    {
        "id": "9bb4eae475982415",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 104",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2980,
        "y": 1040,
        "wires": []
    },
    {
        "id": "c1818a1e278f2e44",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "name": "Period",
        "label": "Period",
        "tooltip": "",
        "group": "94c03f237562a85d",
        "order": 3,
        "width": "3",
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "period",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 2530,
        "y": 1000,
        "wires": [
            [
                "64d2883983e5018b"
            ]
        ]
    },
    {
        "id": "42b38c9329870464",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "---- OUT indicator",
        "mode": "link",
        "links": [
            "770677a9ecf6dd72",
            "892170f61ea1098e"
        ],
        "x": 2905,
        "y": 1220,
        "wires": []
    },
    {
        "id": "00147e56e3ef8f59",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2780,
        "y": 1220,
        "wires": [
            [
                "42b38c9329870464"
            ]
        ]
    },
    {
        "id": "b93cf2b857905ff4",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank position",
        "links": [
            "40096b73ffc42de0",
            "254cf2182dfdf193",
            "80c80d0ccb3bc1af",
            "fcbb923f2023bbc7",
            "0104c52d6e612698",
            "15954779ec36f19d",
            "6a7f085f10982e2d",
            "cdc05f85f6457830",
            "cdcd409f4d85cf31",
            "495275a871d7eabe",
            "9d857761a1a12966",
            "4fa322b2210c4b65",
            "bd51cb24ec743680",
            "50b0a5cef5f56c1d",
            "277e15850b022d5b",
            "0760b56662d35783",
            "b6efe2839032d271",
            "85955bc1070ca49b"
        ],
        "x": 2605,
        "y": 1220,
        "wires": [
            [
                "b39b71f842c1fbbb"
            ]
        ]
    },
    {
        "id": "26144452591b8064",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "-1",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2790,
        "y": 1260,
        "wires": [
            [
                "af74eddf94d2fe97"
            ]
        ]
    },
    {
        "id": "af74eddf94d2fe97",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "-1 OUT",
        "mode": "link",
        "links": [
            "67243951c825c345"
        ],
        "x": 2915,
        "y": 1260,
        "wires": []
    },
    {
        "id": "1182af32d3c8aa0c",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 2580,
        "y": 1180,
        "wires": [
            [
                "b39b71f842c1fbbb",
                "7d39769e07408d8a"
            ]
        ]
    },
    {
        "id": "7d39769e07408d8a",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "Blank position OUT",
        "mode": "link",
        "links": [
            "1632746d0ff25c35",
            "c10ea73396d735bf"
        ],
        "x": 2735,
        "y": 1180,
        "wires": []
    },
    {
        "id": "c8f44bfa6405961f",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "SAVE Allconfig",
        "func": "\nvar currentStrategy = global.get('currentStrategy') || {};\n\n\n// msg.topic = 'SAVE';\n\nif (msg.topic.charAt(0)=='t'){\n    if (!currentStrategy.hasOwnProperty('trend')) currentStrategy.trend = {};\n    // if (!currentStrategy.trend.hasOwnProperty(msg.topic)) currentStrategy.trend[msg.topic]= {};\n    global.set('currentStrategy', currentStrategy); \n    msg.debug=\"Trend indicator \"+msg.payload;\n    msg.payload=currentStrategy.trend[msg.topic];\n    global.set('position',msg.topic);\n    var msg1={};\n    // if (Allconfig.hasOwnProperty('config')) {\n    //     if (Allconfig.config.hasOwnProperty('trend')) {\n    //         if (Allconfig.config.trend.hasOwnProperty(msg.topic)) {\n    //             if (Allconfig.config.trend[msg.topic].hasOwnProperty('value')) msg1.payload=Allconfig.config.trend[msg.topic].value;\n    //         }else msg1.payload=\"\";\n    //     }\n    // }\n    return msg;\n}\nelse {\n    currentStrategy[msg.topic]=msg.payload;\n    global.set('currentStrategy', currentStrategy); \n    // return [null,null];\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2880,
        "y": 520,
        "wires": [
            [
                "495275a871d7eabe"
            ]
        ]
    },
    {
        "id": "b7df73cb04fc585a",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 105",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2990,
        "y": 20,
        "wires": []
    },
    {
        "id": "92a266cbb866afaa",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "",
        "label": "Exchange",
        "tooltip": "",
        "place": "Select option",
        "group": "0a79132aa188a0eb",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "binance",
                "value": "binance",
                "type": "str"
            },
            {
                "label": "binancefutures",
                "value": "binancefutures",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "exchange",
        "topicType": "str",
        "className": "",
        "x": 2620,
        "y": 480,
        "wires": [
            [
                "c8f44bfa6405961f"
            ]
        ]
    },
    {
        "id": "b97140a9e9a1c153",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "",
        "label": "Coin/market",
        "tooltip": "",
        "place": "Select option",
        "group": "0a79132aa188a0eb",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "----",
                "type": "str"
            },
            {
                "label": "Bitcoin to USDT",
                "value": "BTC/USDT",
                "type": "str"
            },
            {
                "label": "Litecoin to Bitcoin",
                "value": "LTC/BTC",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "symbol",
        "topicType": "str",
        "className": "",
        "x": 2610,
        "y": 520,
        "wires": [
            [
                "c8f44bfa6405961f"
            ]
        ]
    },
    {
        "id": "1a9e497a6edaba2b",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "TREND 1A",
        "group": "0a79132aa188a0eb",
        "order": 5,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 1A{{msg.payload[0]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[0]}}",
        "className": "",
        "icon": "",
        "payload": "1A",
        "payloadType": "str",
        "topic": "t1",
        "topicType": "str",
        "x": 2610,
        "y": 560,
        "wires": [
            [
                "c8f44bfa6405961f"
            ]
        ]
    },
    {
        "id": "265dfc9651c1d649",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "TREND 1B",
        "group": "0a79132aa188a0eb",
        "order": 6,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 1B<br />{{msg.payload[1]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[1]}}",
        "className": "",
        "icon": "",
        "payload": "1B",
        "payloadType": "str",
        "topic": "t2",
        "topicType": "str",
        "x": 2610,
        "y": 600,
        "wires": [
            [
                "c8f44bfa6405961f"
            ]
        ]
    },
    {
        "id": "1bd887d38c21ca69",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "TREND 2B",
        "group": "0a79132aa188a0eb",
        "order": 8,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 2B<br />{{msg.payload[3]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[3]}}",
        "className": "",
        "icon": "",
        "payload": "2B",
        "payloadType": "str",
        "topic": "t4",
        "topicType": "str",
        "x": 2610,
        "y": 680,
        "wires": [
            [
                "c8f44bfa6405961f"
            ]
        ]
    },
    {
        "id": "911fb49779faf598",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "TREND 2A",
        "group": "0a79132aa188a0eb",
        "order": 7,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "TREND 2A<br />{{msg.payload[2]}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.tBackground[2]}}",
        "className": "",
        "icon": "",
        "payload": "2A",
        "payloadType": "str",
        "topic": "t3",
        "topicType": "str",
        "x": 2610,
        "y": 640,
        "wires": [
            [
                "c8f44bfa6405961f"
            ]
        ]
    },
    {
        "id": "495275a871d7eabe",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "Trend out",
        "mode": "link",
        "links": [
            "0c8a78a603718356",
            "0ff6260a11f41af1",
            "6e6873126c31881b",
            "7b9a4729ee70e67c",
            "8f8a2fd498c93f99",
            "af64399249eb4cc0",
            "b93cf2b857905ff4",
            "dd130e326f37eb40",
            "e00c4eba244b7990"
        ],
        "x": 3045,
        "y": 520,
        "wires": []
    },
    {
        "id": "3a0b904dc1e7faca",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "Trends",
        "func": "var currentStrategy = global.get('currentStrategy') || {};\n// var Allconfig = global.get('Allconfig', 'varstorage') || {};\n// var position = global.get('position');\nvar strategy = global.get('strategy');\n\n\nmsg.payload=[];\n// var n=0;\n// for (var pos in currentSequence.position){\n\nfor (var pos=0;pos<4;pos++){\n    if (JSON.stringify(currentStrategy)!='{}')\n        if (currentStrategy.trend.hasOwnProperty('t' + (pos + 1))) msg.payload[pos] = \"<p>\" + currentStrategy.trend['t' + (pos + 1)].name + \"</p>\";\n    else msg.payload[pos] = \"\";\n\n    // if (Allconfig.config.hasOwnProperty('trend')){\n    //     if (Allconfig.config.trend.hasOwnProperty('t' + (pos + 1))){\n    //         // msg.payload[pos] = \"<p>\" + msg.payload[pos] + \"</p>\"\n    //         if (Allconfig.config.trend['t' + (pos + 1)].hasOwnProperty(\"value\")) msg.payload[pos] = \"<p>\" + msg.payload[pos] + \"</p>\" + \"<p>\" + Allconfig.config.trend['t' + (pos + 1)].value.toFixed(1)+\"</p>\";\n    //     }\n    // }\n    \n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2410,
        "y": 640,
        "wires": [
            [
                "8387ff90f0b6bae7"
            ]
        ]
    },
    {
        "id": "c5fc3e8c37af6d36",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "display trend",
        "links": [
            "277e15850b022d5b",
            "4fa322b2210c4b65",
            "7acd0dbc752cfd9f",
            "961df1b86e0b156c",
            "ed918bd1ac221be6",
            "fc5cbd30eb85338e",
            "d3cf769639302b9c",
            "85955bc1070ca49b",
            "bd51cb24ec743680"
        ],
        "x": 2285,
        "y": 640,
        "wires": [
            [
                "3a0b904dc1e7faca"
            ]
        ]
    },
    {
        "id": "02f2d60d320fb50c",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "token",
        "payload": "#:(varstorage)::token",
        "payloadType": "global",
        "x": 2137.142822265625,
        "y": 132.85714721679688,
        "wires": [
            [
                "f9c2070decd60363"
            ]
        ]
    },
    {
        "id": "f9c2070decd60363",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "name": "",
        "label": "TOKEN",
        "tooltip": "",
        "group": "4f19c8f4c8df9ba0",
        "order": 14,
        "width": "10",
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "token",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 2317.142822265625,
        "y": 132.85714721679688,
        "wires": [
            [
                "721c6f32b29393e0"
            ]
        ]
    },
    {
        "id": "721c6f32b29393e0",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(varstorage)::token",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2537.142822265625,
        "y": 132.85714721679688,
        "wires": [
            []
        ]
    },
    {
        "id": "8863509f84634d10",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "All sequences Dropdown",
        "func": "var ALLsequences = global.get('ALLsequences', 'varstorage') || {};\n\nmsg.options = [];\nmsg.options.push(\"----\");\nfor (var x in ALLsequences) msg.options.push(x);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 220,
        "wires": [
            [
                "2538c77a9dda8639"
            ]
        ]
    },
    {
        "id": "2538c77a9dda8639",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "",
        "label": "sequences",
        "tooltip": "",
        "place": "Select option",
        "group": "2a64f463fa5315e7",
        "order": 6,
        "width": 9,
        "height": 1,
        "passthru": false,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "5408bea6df23d16b"
            ]
        ]
    },
    {
        "id": "7e1f612442e25359",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "name": "Seq Name",
        "label": "Seq Name",
        "tooltip": "",
        "group": "2a64f463fa5315e7",
        "order": 9,
        "width": "7",
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 990,
        "y": 280,
        "wires": [
            [
                "5408bea6df23d16b",
                "978cdfa5068712dc"
            ]
        ]
    },
    {
        "id": "e3548aba1dc03997",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "load seq",
        "group": "2a64f463fa5315e7",
        "order": 7,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "LOAD",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "topicType": "str",
        "x": 580,
        "y": 340,
        "wires": [
            [
                "a850df19de1e8277"
            ]
        ]
    },
    {
        "id": "81018cead1391d31",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "",
        "group": "2a64f463fa5315e7",
        "order": 44,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "SAVE",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-save fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE SEQUENCE",
        "topicType": "str",
        "x": 1150,
        "y": 1460,
        "wires": [
            [
                "ea7284612a872598"
            ]
        ]
    },
    {
        "id": "ea7284612a872598",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "SAVE currentSequence",
        "func": "var seqSelected = global.get('seqSelected');\nvar currentSequence = global.get('currentSequence') || {};\nvar currentStrategy = global.get('currentStrategy') || {};\nvar generalSequence = global.get('generalSequence') || {};\nvar ALLsequences = global.get('ALLsequences', 'varstorage') ||{};\nvar seqName=global.get('seqName');\n\n\nif (seqName==\"\")currentSequence.enable=false;\n// else if (currentSequence.leverage == -1 || currentSequence[\"PC-takeProfit\"] != -1 || currentSequence[\"PC-stopLoss\"] != -1 || currentSequence[\"PC-tradeSize\"] != -1 || JSON.stringify(currentSequence) == '{}') currentSequence.enable = false;\nelse if (currentSequence.leverage == -1 || currentSequence[\"PC-tradeSize\"] != -1 || JSON.stringify(currentSequence) == '{}') currentSequence.enable = false;\nelse if (!currentSequence.hasOwnProperty('leverage') || !currentSequence.hasOwnProperty('PC-tradeSize') ) currentSequence.enable=false;\nelse if (seqName==\"\") currentSequence.enable=false;\nelse currentSequence.enable = true;\n\nfor (var seqs in currentSequence.seqs){\n    for (var positions in currentSequence.seqs[seqs].positions) {\n        if (currentSequence.seqs[seqs].positions[positions].enable === false ) currentSequence.enable = false;\n        else currentSequence.enable=true;\n    }\n}\nif (seqName == \"blank\") currentSequence.enable = true;\n\nif (currentSequence.enable===false){\n    msg.debug= \"Check sequence configuration\";\n    msg.payload=false;\n}else{\n    \n    for (var s in currentSequence.seqs){\n        currentSequence.seqs[s].string = \"\";\n        for (var pos in currentSequence.seqs[s].positions){\n            currentSequence.seqs[s].string = currentSequence.seqs[s].string+\",\"+currentSequence.seqs[s].positions[pos].name;\n            currentSequence.seqs[s].positions[pos].value=0;\n        }\n        currentSequence.seqs[s].string = currentSequence.seqs[s].string.substring(1);\n    }\n    if (!ALLsequences.hasOwnProperty(seqName)) ALLsequences[seqName] = {};\n    ALLsequences[seqName] = currentSequence;\n    ALLsequences[seqName].name = seqName;\n    if (!currentStrategy.hasOwnProperty('trades')) currentStrategy.trades = {};\n    currentStrategy.trades[seqSelected]=seqName;\n    // var n=0;\n    // for (seqs in ALLsequences){\n    //     if (ALLsequences[seqs].name != Object.keys(ALLsequences[n])) delete ALLsequences[seqs];\n    //     n++;\n    // }\n    // currentStrategy.trades[seqSelected].name=seqName;\n    msg.payload = true;\n    msg.debug=\"Sequence Saved\";\n    // msg.string1 = ALLsequences[seqName].sequences.s1.string;\n    // msg.string2 = ALLsequences[seqName].sequences.s2.string;\n    // currentSequence={};\n}\nmsg.topic = 'SAVE';\nglobal.set('currentStrategy', currentStrategy); \nglobal.set('currentSequence', currentSequence); \nglobal.set('ALLsequences', ALLsequences, 'varstorage');\nreturn msg;\n   ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 1460,
        "wires": [
            [
                "cbf63e41cb4192ba",
                "4a0cb0a7aec7887b",
                "d3fd5f808728d9f6"
            ]
        ]
    },
    {
        "id": "cbf63e41cb4192ba",
        "type": "ui_switch",
        "z": "b3151d5c41739308",
        "name": "Enable",
        "label": "",
        "tooltip": "",
        "group": "2a64f463fa5315e7",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "enable",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-check fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-exclamation-circle fa-2x",
        "offcolor": "red",
        "animate": true,
        "className": "",
        "x": 1540,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "6e439102468fc1d0",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "seq enable",
        "links": [
            "0f1424c607638e32",
            "254cf2182dfdf193",
            "0ad33f38eaa81674",
            "cdc05f85f6457830",
            "bf1d21b5c2e6593d",
            "964caecef2f7b5a8"
        ],
        "x": 1405,
        "y": 1520,
        "wires": [
            [
                "cbf63e41cb4192ba"
            ]
        ]
    },
    {
        "id": "36b6cacb1552102b",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "2a64f463fa5315e7",
        "order": 45,
        "width": 12,
        "height": 1,
        "name": "Done Sequence",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "col-center",
        "className": "",
        "x": 2000,
        "y": 1380,
        "wires": []
    },
    {
        "id": "79a4e20abda5f3e8",
        "type": "delay",
        "z": "b3151d5c41739308",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1600,
        "y": 1320,
        "wires": [
            [
                "fa2eac032bea4ebd"
            ]
        ]
    },
    {
        "id": "fa2eac032bea4ebd",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1770,
        "y": 1320,
        "wires": [
            [
                "36b6cacb1552102b"
            ]
        ]
    },
    {
        "id": "99f01ea7a0156d63",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "Delete",
        "group": "2a64f463fa5315e7",
        "order": 43,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-trash-o fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE GENERAL",
        "topicType": "str",
        "x": 1150,
        "y": 1580,
        "wires": [
            [
                "fbef0252bb9ce20a"
            ]
        ]
    },
    {
        "id": "fbef0252bb9ce20a",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "delete seq",
        "func": "var seqSelected = global.get('seqSelected');\nvar ALLsequences = global.get('ALLsequences', 'varstorage') || {};\n// var currentSequence = global.get('currentSequence') || {};\nvar seqName = global.get('seqName');\n\n\ndelete ALLsequences[seqName];\nglobal.set('currentSequence', {});\nglobal.set('ALLsequences', ALLsequences, 'varstorage');\nmsg.debug = \"sequence \" + seqName +\" deleted\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1370,
        "y": 1580,
        "wires": [
            [
                "0760b56662d35783"
            ]
        ]
    },
    {
        "id": "799665a6a9b226cc",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "main",
        "payload": "",
        "payloadType": "date",
        "x": 1840,
        "y": 200,
        "wires": [
            [
                "4e968a7c43ccf788"
            ]
        ]
    },
    {
        "id": "4e968a7c43ccf788",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "function 24",
        "func": "var currentStrategy = global.get('currentStrategy') || {};\nvar position = global.get('position');\nvar seq = global.get('seqSelected');\nvar s=msg.payload;\n\nvar button=msg.topic;\n\nvar msg1={};\nmsg1.payload={};\nmsg1.seqBackground = [];\nmsg1.tBackground = [];\nmsg1.pBackground = {};\n\nmsg.payload = {};\nmsg.payload.group = {};\nmsg.payload.group.show = [];\nmsg.payload.group.hide = [];\n\nvar msg2 = {};\nmsg2.payload={};\nmsg2.tBackground = [];\n\nvar selectedColour = \"rgb(180,180,220)\";\n\nfunction seqBlank(){\n    for (var seqs in currentStrategy.trades){\n        msg1.seqBackground[parseInt(seqs.charAt(1))]=\"\";\n        msg1.payload=\"clear sequences\";\n    }\n    \n}\n\n\nif (button.charAt(0)=='s'){\n    msg1.seqBackground[s-1] = selectedColour;\n    msg1.payload=\"sequence selected\";\n    \n    \n}\n\nif (button.charAt(0) == 't') {\n  \n    msg2.tBackground[parseInt(button.substring(1)) - 1] = selectedColour;\n    msg2.payload=\"selected trend\";\n\n}\nif (button.charAt(0) == 'p') {\n   \n    var sequence = button.split(\"-\")[1];\n    msg1.pBackground[sequence]=[];\n    msg1.pBackground[sequence][parseInt(button.substring(1)) - 1] = selectedColour;\n    msg1.seqBackground[sequence][parseInt(seq.substring(1)) - 1] = selectedColour;\n    msg1.payload = \"selected position\";\n    msg1.topic = button;\n\n}\nif (button== 'LOADstr') {\n    seqBlank();\n}\n\nif (JSON.stringify(msg2.payload) != '{}') return [msg, null, msg2];\nelse if (JSON.stringify(msg1.payload) != '{}') return [msg, msg1];\nelse return msg;\n",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2070,
        "y": 260,
        "wires": [
            [
                "70767f332b096104",
                "edf7b3ed9c30c536"
            ],
            [
                "ce73dd1bba42695f",
                "652c8fa63bd41fac"
            ],
            [
                "7acd0dbc752cfd9f",
                "6b4678d1a8d24ff5"
            ]
        ]
    },
    {
        "id": "e00c4eba244b7990",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "UI Control IN",
        "links": [
            "652b11ed71686a9d",
            "76763110a6b7c8c7",
            "a084081bcdc9572b",
            "9bbec11fb99ebbb5",
            "1df386e97c06c88d",
            "5c0b9c057abb55f8",
            "80c80d0ccb3bc1af",
            "40096b73ffc42de0",
            "6a7f085f10982e2d",
            "254cf2182dfdf193",
            "cdc05f85f6457830",
            "cdcd409f4d85cf31",
            "495275a871d7eabe",
            "50b0a5cef5f56c1d",
            "0cdc7916235a39d0",
            "d3cf769639302b9c"
        ],
        "x": 1915,
        "y": 260,
        "wires": [
            [
                "4e968a7c43ccf788"
            ]
        ]
    },
    {
        "id": "70767f332b096104",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "ui control",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2260,
        "y": 180,
        "wires": []
    },
    {
        "id": "edf7b3ed9c30c536",
        "type": "ui_ui_control",
        "z": "b3151d5c41739308",
        "name": "",
        "events": "all",
        "x": 2260,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "ce73dd1bba42695f",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "CONTROL OUT",
        "mode": "link",
        "links": [
            "0cc82787a530c61d",
            "c58602aabab1b6ae",
            "d49bc07d1c732fd8",
            "da316d4c578e94a9",
            "fec7ce77d3b8ea7d"
        ],
        "x": 2235,
        "y": 260,
        "wires": []
    },
    {
        "id": "7acd0dbc752cfd9f",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "CONTROL OUT trend",
        "mode": "link",
        "links": [
            "da316d4c578e94a9",
            "c5fc3e8c37af6d36"
        ],
        "x": 2205,
        "y": 340,
        "wires": []
    },
    {
        "id": "6b4678d1a8d24ff5",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "button selection UI",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2430,
        "y": 300,
        "wires": []
    },
    {
        "id": "f0d8037117cd43bb",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "",
        "group": "0a79132aa188a0eb",
        "order": 12,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "SAVE",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-save fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE GENERAL",
        "topicType": "str",
        "x": 2630,
        "y": 740,
        "wires": [
            [
                "5789f8a2ca61d9c8"
            ]
        ]
    },
    {
        "id": "5789f8a2ca61d9c8",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "SAVE strateg",
        "func": "var position = global.get('position');\nvar seqSelected = global.get('seqSelected');\nvar strategyName = global.get('strategyName');\n// var strategy = global.get('strategy');\nvar currentStrategy = global.get('currentStrategy') || {};\nvar ALLsequences = global.get('ALLsequences', 'varstorage') || {};\nvar ALLstrategies = global.get('ALLstrategies', 'varstorage') ||{};\n\nmsg.topic = 'SAVE';\n\n\n\nif (currentStrategy.exchange==\"----\" || currentStrategy.symbol==\"----\" || !currentStrategy.hasOwnProperty(\"trend\") ||\n!currentStrategy.trend.hasOwnProperty(\"t1\") || !currentStrategy.trend.hasOwnProperty(\"t2\") ||\n!currentStrategy.trend.hasOwnProperty(\"t3\") || !currentStrategy.trend.hasOwnProperty(\"t4\")){\nmsg.debug=\"Trade not ready, check configuration\";\n}else {   \n    // var n=0;\n    for (var str in ALLstrategies) if (ALLstrategies[str] == undefined) delete ALLstrategies[str];\n    // }\n        // // if (Object.keys(ALLstrategies)[n] == currentStrategy.name) ALLstrategies[currentStrategy.name] = currentStrategy;\n        // if (Object.keys(ALLstrategies)[n] != ALLstrategies[str].name){\n        //     var oldname = Object.keys(ALLstrategies)[n];\n        //     var oldStrategy = ALLstrategies[str];\n        //     delete ALLstrategies[str];\n        //     oldStrategy.name=oldName;\n        //     ALLstrategies[oldname]=oldStrategy;\n            \n        // } \n        // n++;\n    // }\n    if (currentStrategy.name == strategyName) ALLstrategies[strategyName] = currentStrategy;\n    ALLstrategies[strategyName].name = strategyName;\n    // ALLstrategies[strategyName] = currentStrategy;\n    // ALLsequences=ALLstrategies[strategyName];\n    global.set('ALLstrategies', ALLstrategies, 'varstorage');\n    // global.set('ALLsequences', ALLsequences, 'varstorage');\n    // global.set('position',\"\");\n    // global.set('seqSelected', \"\");\n    // global.set('currentStrategy', {});\n    msg.debug=\"Ready to Trade\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2850,
        "y": 740,
        "wires": [
            [
                "4fa322b2210c4b65",
                "0cfac209dbb3b5da",
                "f6ab4d975b9f494d"
            ]
        ]
    },
    {
        "id": "0e9b074e67881dcc",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "0a79132aa188a0eb",
        "order": 11,
        "width": 8,
        "height": 1,
        "name": "Done strategy",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "row-spread",
        "className": "",
        "x": 3440,
        "y": 740,
        "wires": []
    },
    {
        "id": "3034f3b0d3bf2652",
        "type": "delay",
        "z": "b3151d5c41739308",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3140,
        "y": 780,
        "wires": [
            [
                "77dcda171da78b07"
            ]
        ]
    },
    {
        "id": "4fa322b2210c4b65",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "Save strategy",
        "mode": "link",
        "links": [
            "010e39dec951f3f9",
            "28a99cd26643a66d",
            "7b9a4729ee70e67c",
            "8a65db67747ee1a5",
            "9a3e470a7c8269aa",
            "b93cf2b857905ff4",
            "bcd9fd91736e454a",
            "c5fc3e8c37af6d36",
            "d6d2995cad3bf4c1",
            "da316d4c578e94a9",
            "db221904c507e18b",
            "b7245aea6bdc36f1",
            "0e0de3a28ef68b22"
        ],
        "x": 3035,
        "y": 700,
        "wires": []
    },
    {
        "id": "0cfac209dbb3b5da",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 110",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3090,
        "y": 660,
        "wires": []
    },
    {
        "id": "77dcda171da78b07",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3290,
        "y": 780,
        "wires": [
            [
                "0e9b074e67881dcc"
            ]
        ]
    },
    {
        "id": "b458f8cfe6a43935",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "",
        "label": "Strategies",
        "tooltip": "",
        "place": "Select option",
        "group": "0a79132aa188a0eb",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 3220,
        "y": 260,
        "wires": [
            [
                "c353d5cd3d242a66"
            ]
        ]
    },
    {
        "id": "1925bd93caa3e47a",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "name": "Strategy Name",
        "label": "Strategy Name",
        "tooltip": "",
        "group": "0a79132aa188a0eb",
        "order": 3,
        "width": "6",
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": "500",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 3000,
        "y": 320,
        "wires": [
            [
                "0ca7bfd5978caf63",
                "6cc6de4240c42df3"
            ]
        ]
    },
    {
        "id": "988f9aa9366f92a2",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "load",
        "group": "0a79132aa188a0eb",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "LOAD",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "topicType": "str",
        "x": 2650,
        "y": 360,
        "wires": [
            [
                "5e69d5e9a75e18c4"
            ]
        ]
    },
    {
        "id": "487eb6bcf193bde7",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "Delete",
        "group": "0a79132aa188a0eb",
        "order": 13,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-trash-o fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE GENERAL",
        "topicType": "str",
        "x": 2630,
        "y": 840,
        "wires": [
            [
                "724bc203a024e6fd"
            ]
        ]
    },
    {
        "id": "724bc203a024e6fd",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "delete strategy",
        "func": "var strategyName = global.get('strategyName');\nvar ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\nvar currentStrategy = global.get('currentStrategy') || {};\n\ndelete ALLstrategies[strategyName];\n\nglobal.set('currentSequence', {});\nglobal.set('currentStrategy', {});\nglobal.set('ALLstrategies', ALLstrategies, 'varstorage');\n\nmsg.debug = \"sequence \" + strategyName+\" deleted\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2860,
        "y": 840,
        "wires": [
            [
                "bd51cb24ec743680",
                "f6ab4d975b9f494d"
            ]
        ]
    },
    {
        "id": "bd51cb24ec743680",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "delete strategy OUT",
        "mode": "link",
        "links": [
            "0e0de3a28ef68b22",
            "1beae4e10c2207ba",
            "21d7db3109f88a5c",
            "7b9a4729ee70e67c",
            "96e3c3d86e4c7f87",
            "ae41c1d377e3fe55",
            "b7245aea6bdc36f1",
            "b93cf2b857905ff4",
            "c5fc3e8c37af6d36",
            "db221904c507e18b",
            "e9626ab7886e80bd"
        ],
        "x": 3045,
        "y": 840,
        "wires": []
    },
    {
        "id": "50b0a5cef5f56c1d",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "Value OUT",
        "mode": "link",
        "links": [
            "0ff6260a11f41af1",
            "b93cf2b857905ff4",
            "e00c4eba244b7990"
        ],
        "x": 1285,
        "y": 960,
        "wires": []
    },
    {
        "id": "43470bf0808cc353",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "SAVE Position",
        "func": "var seqSelected = global.get('seqSelected');\nvar position = global.get('position');\nvar currentSequence = global.get('currentSequence') || {};\nvar indicator=global.get('indicator') || {};\nvar currentStrategy = global.get('currentStrategy') || {};\n\nvar tPosition;\nif (position.charAt(0) == 't')tPosition=msg.payload;\n\n\n\nif (indicator.indicator==\"----\" || indicator.interval==\"----\" || indicator.period==-1) {\n    indicator.enable=false;\n    msg.payload=false;\n    msg.debug = \"Check configuration\";\n    return [msg, null];\n}else {\n    indicator.enable = true;\n\n    if (position.charAt(0)=='p'){\n        var seq=position.split(\"-\")[1];\n        var pos = position.split(\"-\")[0];\n        if (!currentSequence.seqs[seq].hasOwnProperty(\"positions\")) {\n            currentSequence.seqs[seq].positions = {};\n            currentSequence.seqs[seq].positions[pos] = {};\n        }\n        currentSequence.seqs[seq].positions[pos] = indicator;\n        currentSequence.seqs[seq].positions[pos].name = indicator.indicator + \"-\" + indicator.period + \"-\" + indicator.interval;\n        global.set('currentSequence', currentSequence);\n    }\n    else if (position.charAt(0)=='t'){\n        if (!currentStrategy.hasOwnProperty('trend')) currentStrategy.trend = {};\n        if (!currentStrategy.trend.hasOwnProperty(msg.topic)) currentStrategy.trend[position] = {};\n        currentStrategy.trend[position]=indicator;\n        currentStrategy.trend[position].name=indicator.indicator+\"-\"+indicator.period+\"-\"+indicator.interval;\n        global.set('currentStrategy', currentStrategy);\n    }\n    msg.topic = position;\n    msg.debug = \"SAVED OK\";\n    indicator = {};\n    msg.payload=true;\n    global.set('indicator', indicator);\n    return [msg,msg];\n} \n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2460,
        "y": 1540,
        "wires": [
            [
                "be99f355d16acf8c",
                "2b6a15fa963e91b0"
            ],
            [
                "961df1b86e0b156c",
                "2a5f59ba62a7d871"
            ]
        ]
    },
    {
        "id": "be99f355d16acf8c",
        "type": "ui_switch",
        "z": "b3151d5c41739308",
        "name": "Enable",
        "label": "",
        "tooltip": "",
        "group": "94c03f237562a85d",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "enable",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-check fa-2x",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-exclamation-circle fa-2x",
        "offcolor": "red",
        "animate": true,
        "className": "",
        "x": 2660,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "961df1b86e0b156c",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "SAVE indicator OUT",
        "mode": "link",
        "links": [
            "c5fc3e8c37af6d36",
            "d49bc07d1c732fd8",
            "da316d4c578e94a9",
            "fec7ce77d3b8ea7d"
        ],
        "x": 2585,
        "y": 1580,
        "wires": []
    },
    {
        "id": "c10ea73396d735bf",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "ENABLE IN",
        "links": [
            "c79f3f6a24c1f01c",
            "6b57055825854c37",
            "7f1ee79fa60d919c",
            "0104c52d6e612698",
            "a05fb717791fe384",
            "700279c4694c18b0",
            "7d39769e07408d8a",
            "277e15850b022d5b"
        ],
        "x": 2515,
        "y": 1420,
        "wires": [
            [
                "be99f355d16acf8c"
            ]
        ]
    },
    {
        "id": "7a6753c1c819dc9a",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2490,
        "y": 1360,
        "wires": [
            [
                "be99f355d16acf8c"
            ]
        ]
    },
    {
        "id": "d7a5dcf59ab6738e",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "indicator debug IN",
        "links": [
            "0104c52d6e612698",
            "277e15850b022d5b"
        ],
        "x": 2665,
        "y": 1500,
        "wires": [
            [
                "2b6a15fa963e91b0"
            ]
        ]
    },
    {
        "id": "8afd9a2a988d4d1e",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "94c03f237562a85d",
        "order": 8,
        "width": "7",
        "height": 1,
        "name": "Done Indicator",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "col-center",
        "className": "",
        "x": 3080,
        "y": 1520,
        "wires": []
    },
    {
        "id": "c3e0c3efab707a72",
        "type": "delay",
        "z": "b3151d5c41739308",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2780,
        "y": 1480,
        "wires": [
            [
                "9ab12cd45beec1df"
            ]
        ]
    },
    {
        "id": "0ff6260a11f41af1",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "ENABLE IN false",
        "links": [
            "50b0a5cef5f56c1d",
            "cdcd409f4d85cf31",
            "495275a871d7eabe"
        ],
        "x": 2385,
        "y": 1360,
        "wires": [
            [
                "7a6753c1c819dc9a"
            ]
        ]
    },
    {
        "id": "9ab12cd45beec1df",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "blank",
        "rules": [
            {
                "t": "set",
                "p": "debug",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2930,
        "y": 1480,
        "wires": [
            [
                "8afd9a2a988d4d1e"
            ]
        ]
    },
    {
        "id": "c03a0c1cd4e7b1b8",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "",
        "group": "94c03f237562a85d",
        "order": 9,
        "width": "4",
        "height": 1,
        "passthru": false,
        "label": "SAVE",
        "tooltip": "",
        "color": "green",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-save fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE POSITION",
        "topicType": "str",
        "x": 2270,
        "y": 1540,
        "wires": [
            [
                "43470bf0808cc353"
            ]
        ]
    },
    {
        "id": "92759121b5a65a88",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "Delete",
        "group": "94c03f237562a85d",
        "order": 10,
        "width": "3",
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-trash-o fa-2x",
        "payload": "true",
        "payloadType": "bool",
        "topic": "SAVE GENERAL",
        "topicType": "str",
        "x": 2270,
        "y": 1700,
        "wires": [
            [
                "7c0367c58f2d892f"
            ]
        ]
    },
    {
        "id": "7c0367c58f2d892f",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "delete indicator",
        "func": "var currentSequence = global.get('currentSequence');\nvar indicator = global.get('indicator');\nvar position = global.get('position');\nvar generalConfig = global.get('generalConfig') || {};\n\nvar pos = position.split(\"-\")[0];\nvar seq = position.split(\"-\")[1];\n\nvar posNumber = position.charAt(1);\n\nif (position.charAt(0) == 'p') {\n    delete currentSequence.seqs[seq].positions[pos];\n    msg.debug = \"position \" + posNumber + \" deleted\";\n    msg.pos=pos;\n    msg.seq=seq;\n}\nelse if (position.charAt(0) == 't') {\n    delete generalConfig.trend[position];\n    msg.debug = \"trend \" + posNumber + \" deleted\";\n}\n// indicator={};\nglobal.set('currentSequence', currentSequence);\nglobal.set('indicator', {});\nmsg.payload=false;\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2500,
        "y": 1700,
        "wires": [
            [
                "277e15850b022d5b",
                "e391aac3f04bb729"
            ]
        ]
    },
    {
        "id": "277e15850b022d5b",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "delete indicator",
        "mode": "link",
        "links": [
            "d6d2995cad3bf4c1",
            "7b9a4729ee70e67c",
            "0d861cbef75ec834",
            "1632746d0ff25c35",
            "d49bc07d1c732fd8",
            "da316d4c578e94a9",
            "fec7ce77d3b8ea7d",
            "b93cf2b857905ff4",
            "c5fc3e8c37af6d36",
            "c10ea73396d735bf",
            "d7a5dcf59ab6738e",
            "7fd8a29ce045ee4d"
        ],
        "x": 2686.111083984375,
        "y": 1701.666748046875,
        "wires": []
    },
    {
        "id": "8ecd38cee99adb3f",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "---- OUT",
        "mode": "link",
        "links": [
            "0dd8b86d664f50d2",
            "d834a97db6bf8179",
            "f18ececbbb22346d"
        ],
        "x": 1775,
        "y": 1120,
        "wires": []
    },
    {
        "id": "5fe22655ad444d56",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 1120,
        "wires": [
            [
                "8ecd38cee99adb3f"
            ]
        ]
    },
    {
        "id": "6288ccf0502546a0",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 1160,
        "wires": [
            [
                "964caecef2f7b5a8"
            ]
        ]
    },
    {
        "id": "67da3560b91549f1",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "-1",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 1200,
        "wires": [
            [
                "ce4464381322c691"
            ]
        ]
    },
    {
        "id": "ce4464381322c691",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "-1 OUT",
        "mode": "link",
        "links": [
            "19db7556080bb044",
            "44204a9e53c23b7b",
            "4441998eccfcbd47",
            "848f06fbb8dc2b1e",
            "8f1d0be163dd9d0c",
            "8f3641cad5b2bbb7",
            "dd0884f2ef471255"
        ],
        "x": 1775,
        "y": 1200,
        "wires": []
    },
    {
        "id": "964caecef2f7b5a8",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "false OUT",
        "mode": "link",
        "links": [
            "47917a97a95fe36a",
            "6e439102468fc1d0"
        ],
        "x": 1775,
        "y": 1160,
        "wires": []
    },
    {
        "id": "553548c85be45c64",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": " ",
        "payload": " ",
        "payloadType": "str",
        "x": 1390,
        "y": 1180,
        "wires": [
            [
                "5fe22655ad444d56",
                "6288ccf0502546a0",
                "67da3560b91549f1",
                "9f90ab5187abce36"
            ]
        ]
    },
    {
        "id": "21d7db3109f88a5c",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank sequence",
        "links": [
            "254cf2182dfdf193",
            "fcbb923f2023bbc7",
            "15954779ec36f19d",
            "9d857761a1a12966",
            "bd51cb24ec743680",
            "0760b56662d35783",
            "b6efe2839032d271",
            "85955bc1070ca49b",
            "d3cf769639302b9c"
        ],
        "x": 1405,
        "y": 1120,
        "wires": [
            [
                "5fe22655ad444d56",
                "6288ccf0502546a0",
                "67da3560b91549f1",
                "9f90ab5187abce36"
            ]
        ]
    },
    {
        "id": "1f03652a499402bb",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "sequence debug IN",
        "links": [
            "0760b56662d35783"
        ],
        "x": 1415,
        "y": 1380,
        "wires": [
            [
                "4a0cb0a7aec7887b"
            ]
        ]
    },
    {
        "id": "0760b56662d35783",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "delete sequence OUT",
        "mode": "link",
        "links": [
            "1f03652a499402bb",
            "21d7db3109f88a5c",
            "7b9a4729ee70e67c",
            "96e3c3d86e4c7f87",
            "9a7cc937658f05d7",
            "b93cf2b857905ff4",
            "db221904c507e18b"
        ],
        "x": 1505,
        "y": 1580,
        "wires": []
    },
    {
        "id": "b7909ac9068f5ce3",
        "type": "config",
        "z": "b3151d5c41739308",
        "name": "Allconfig",
        "properties": [
            {
                "p": "#:(varstorage)::Allconfig",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "p": "#:(varstorage)::intervals",
                "pt": "global",
                "to": "1m,5m,15m,30m,1h,2h",
                "tot": "str"
            }
        ],
        "active": false,
        "x": 740,
        "y": 60,
        "wires": []
    },
    {
        "id": "652c8fa63bd41fac",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 111",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2410,
        "y": 260,
        "wires": []
    },
    {
        "id": "525777a095a7cc78",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "BRAIN 1 send",
        "group": "4f19c8f4c8df9ba0",
        "order": 3,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "<p>SEND<p/> BRAIN 1",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "brain1",
        "topicType": "str",
        "x": 600,
        "y": 2020,
        "wires": [
            [
                "549f5ebba5dd006e"
            ]
        ]
    },
    {
        "id": "8dad9417e51832a3",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "BRAIN 2 send",
        "group": "4f19c8f4c8df9ba0",
        "order": 7,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "<p>SEND<p/>BRAIN 2",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "brain2",
        "topicType": "str",
        "x": 600,
        "y": 2080,
        "wires": [
            [
                "549f5ebba5dd006e"
            ]
        ]
    },
    {
        "id": "02be8c0ce1471a17",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "API BRAIN  SEND",
        "group": "4f19c8f4c8df9ba0",
        "order": 11,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "<p>SEND<p/>API BRAIN",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "APIbrain",
        "topicType": "str",
        "x": 570,
        "y": 2140,
        "wires": [
            [
                "549f5ebba5dd006e"
            ]
        ]
    },
    {
        "id": "547397b5808c0587",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "1",
        "group": "2a64f463fa5315e7",
        "order": 31,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "1{{msg.payload.s2[0]}}",
        "tooltip": "",
        "color": "{{msg.colour[0]}}",
        "bgcolor": "{{msg.pBackground.s2[0]}}",
        "className": "pos",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "p1-s2",
        "topicType": "str",
        "x": 930,
        "y": 1020,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "c9251491f83d57bd",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "2",
        "group": "2a64f463fa5315e7",
        "order": 32,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "2{{msg.payload.s2[1]}}",
        "tooltip": "",
        "color": "{{msg.colour[1]}}",
        "bgcolor": "{{msg.pBackground.s2[1]}}",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "p2-s2",
        "topicType": "str",
        "x": 930,
        "y": 1060,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "176b9e9016201aa0",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "3",
        "group": "2a64f463fa5315e7",
        "order": 33,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "3{{msg.payload.s2[2]}}",
        "tooltip": "",
        "color": "{{msg.colour[2]}}",
        "bgcolor": "{{msg.pBackground.s2[2]}}",
        "className": "",
        "icon": "",
        "payload": "3",
        "payloadType": "str",
        "topic": "p3-s2",
        "topicType": "str",
        "x": 930,
        "y": 1100,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "859ab15a79157564",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "4",
        "group": "2a64f463fa5315e7",
        "order": 34,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "4{{msg.payload.s2[3]}}",
        "tooltip": "",
        "color": "{{msg.colour[3]}}",
        "bgcolor": "{{msg.pBackground.s2[3]}}",
        "className": "",
        "icon": "",
        "payload": "4",
        "payloadType": "str",
        "topic": "p4-s2",
        "topicType": "str",
        "x": 930,
        "y": 1140,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "142b91390a0e09fb",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "5",
        "group": "2a64f463fa5315e7",
        "order": 35,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "5{{msg.payload.s2[4]}}",
        "tooltip": "",
        "color": "{{msg.colour[4]}}",
        "bgcolor": "{{msg.pBackground.s2[4]}}",
        "className": "",
        "icon": "",
        "payload": "5",
        "payloadType": "str",
        "topic": "p5-s2",
        "topicType": "str",
        "x": 930,
        "y": 1180,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "d8b98c8bb52486cb",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "6",
        "group": "2a64f463fa5315e7",
        "order": 36,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "6{{msg.payload.s2[5]}}",
        "tooltip": "",
        "color": "{{msg.colour[5]}}",
        "bgcolor": "{{msg.pBackground.s2[5]}}",
        "className": "",
        "icon": "",
        "payload": "6",
        "payloadType": "str",
        "topic": "p6-s2",
        "topicType": "str",
        "x": 930,
        "y": 1220,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "e14301680cc7190d",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "7",
        "group": "2a64f463fa5315e7",
        "order": 37,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "7{{msg.payload.s2[6]}}",
        "tooltip": "",
        "color": "{{msg.colour[6]}}",
        "bgcolor": "{{msg.pBackground.s2[6]}}",
        "className": "",
        "icon": "",
        "payload": "7",
        "payloadType": "str",
        "topic": "p7-s2",
        "topicType": "str",
        "x": 930,
        "y": 1260,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "b8a62afd58a3d0f2",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "8",
        "group": "2a64f463fa5315e7",
        "order": 38,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "8{{msg.payload.s2[7]}}",
        "tooltip": "",
        "color": "{{msg.colour[7]}}",
        "bgcolor": "{{msg.pBackground.s2[7]}}",
        "className": "",
        "icon": "",
        "payload": "8",
        "payloadType": "str",
        "topic": "p8-s2",
        "topicType": "str",
        "x": 930,
        "y": 1300,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "701adc4257f56c0b",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "9",
        "group": "2a64f463fa5315e7",
        "order": 39,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "9{{msg.payload.s2[8]}}",
        "tooltip": "",
        "color": "{{msg.colour[8]}}",
        "bgcolor": "{{msg.pBackground.s2[8]}}",
        "className": "",
        "icon": "",
        "payload": "9",
        "payloadType": "str",
        "topic": "p9-s2",
        "topicType": "str",
        "x": 930,
        "y": 1340,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "d1eb1a5d25f91d91",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "10",
        "group": "2a64f463fa5315e7",
        "order": 40,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "10{{msg.payload.s2[9]}}",
        "tooltip": "",
        "color": "{{msg.colour[9]}}",
        "bgcolor": "{{msg.pBackground.s2[9]}}",
        "className": "",
        "icon": "",
        "payload": "10",
        "payloadType": "str",
        "topic": "p10-s2",
        "topicType": "str",
        "x": 930,
        "y": 1380,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "914960a4270bb60d",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "11",
        "group": "2a64f463fa5315e7",
        "order": 41,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "11{{msg.payload.s2[10]}}",
        "tooltip": "",
        "color": "{{msg.colour[10]}}",
        "bgcolor": "{{msg.pBackground.s2[10]}}",
        "className": "",
        "icon": "",
        "payload": "11",
        "payloadType": "str",
        "topic": "p11-s2",
        "topicType": "str",
        "x": 930,
        "y": 1420,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "b63d4acb14a7eda8",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "12",
        "group": "2a64f463fa5315e7",
        "order": 42,
        "width": 2,
        "height": 2,
        "passthru": false,
        "label": "12{{msg.payload.s2[11]}}",
        "tooltip": "",
        "color": "{{msg.colour[11]}}",
        "bgcolor": "{{msg.pBackground.s2[11]}}",
        "className": "",
        "icon": "",
        "payload": "12",
        "payloadType": "str",
        "topic": "p12-s2",
        "topicType": "str",
        "x": 930,
        "y": 1460,
        "wires": [
            [
                "acc128bfca0926b1"
            ]
        ]
    },
    {
        "id": "d6a8885679ee516e",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "2a64f463fa5315e7",
        "order": 30,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "sequence 2",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "x": 910,
        "y": 960,
        "wires": []
    },
    {
        "id": "080218b50408f447",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "2a64f463fa5315e7",
        "order": 17,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "sequence 1",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "x": 630,
        "y": 940,
        "wires": []
    },
    {
        "id": "f10a209796dcb114",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "SEQ 2 IN",
        "links": [
            "ffe878d217158af8"
        ],
        "x": 795,
        "y": 1260,
        "wires": [
            [
                "981f33a3e6c076a5"
            ]
        ]
    },
    {
        "id": "9a7cc937658f05d7",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "Seqs dropdown",
        "links": [
            "d3fd5f808728d9f6",
            "0760b56662d35783"
        ],
        "x": 605,
        "y": 220,
        "wires": [
            [
                "8863509f84634d10"
            ]
        ]
    },
    {
        "id": "d3fd5f808728d9f6",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "save seq OUT",
        "mode": "link",
        "links": [
            "9a7cc937658f05d7",
            "f18ececbbb22346d",
            "fec7ce77d3b8ea7d"
        ],
        "x": 1575,
        "y": 1460,
        "wires": []
    },
    {
        "id": "5408bea6df23d16b",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "seqName",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "a92c963d114e88d4",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "d": true,
        "name": "Take Profit",
        "label": "Take Profit",
        "tooltip": "",
        "group": "2a64f463fa5315e7",
        "order": 14,
        "width": 3,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "PC-takeProfit",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 630,
        "y": 1560,
        "wires": [
            [
                "dd11e39df2452506"
            ]
        ]
    },
    {
        "id": "d6d1acdd1a76d3ba",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "name": "Trade Size",
        "label": "Trade Size",
        "tooltip": "",
        "group": "2a64f463fa5315e7",
        "order": 12,
        "width": 3,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "PC-tradeSize",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 630,
        "y": 1600,
        "wires": [
            [
                "dd11e39df2452506"
            ]
        ]
    },
    {
        "id": "1a32bfa172b78c95",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "d": true,
        "name": "Stop Loss",
        "label": "Stop Loss",
        "tooltip": "",
        "group": "2a64f463fa5315e7",
        "order": 15,
        "width": 3,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "PC-stopLoss",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 620,
        "y": 1640,
        "wires": [
            [
                "dd11e39df2452506"
            ]
        ]
    },
    {
        "id": "8f3641cad5b2bbb7",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "takeProfit IN",
        "links": [
            "4d131e96a32bb8bf",
            "ce4464381322c691"
        ],
        "x": 455,
        "y": 1560,
        "wires": [
            [
                "a92c963d114e88d4"
            ]
        ]
    },
    {
        "id": "19db7556080bb044",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "TradeSize IN",
        "links": [
            "202d4892d960f0e2",
            "ce4464381322c691"
        ],
        "x": 455,
        "y": 1600,
        "wires": [
            [
                "d6d1acdd1a76d3ba"
            ]
        ]
    },
    {
        "id": "dd0884f2ef471255",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "StopLoss IN",
        "links": [
            "99286b9cf3e59158",
            "ce4464381322c691"
        ],
        "x": 455,
        "y": 1640,
        "wires": [
            [
                "1a32bfa172b78c95"
            ]
        ]
    },
    {
        "id": "4d131e96a32bb8bf",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "takeProfit OUT",
        "mode": "link",
        "links": [
            "8f3641cad5b2bbb7"
        ],
        "x": 1575,
        "y": 620,
        "wires": []
    },
    {
        "id": "202d4892d960f0e2",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "tradeSizeOUT",
        "mode": "link",
        "links": [
            "19db7556080bb044"
        ],
        "x": 1575,
        "y": 660,
        "wires": []
    },
    {
        "id": "688c09ecf35b5a3e",
        "type": "config",
        "z": "b3151d5c41739308",
        "name": "seqName",
        "properties": [
            {
                "p": "#:(varstorage)::seqName",
                "pt": "global",
                "to": "",
                "tot": "str"
            }
        ],
        "active": false,
        "x": 460,
        "y": 60,
        "wires": []
    },
    {
        "id": "ffe878d217158af8",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "seq 2",
        "mode": "link",
        "links": [
            "f10a209796dcb114"
        ],
        "x": 425,
        "y": 1060,
        "wires": []
    },
    {
        "id": "2a5f59ba62a7d871",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 112",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2790,
        "y": 1580,
        "wires": []
    },
    {
        "id": "a850df19de1e8277",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "Load",
        "func": "var ALLsequences = global.get('ALLsequences', 'varstorage') || {};\nvar seqName = global.get('seqName');\nvar currentStrategy = global.get('currentStrategy');\nvar currentSequence = global.get('currentSequence');\nvar seqSelected = global.get('seqSelected');\n\nmsg.payload = ALLsequences[seqName];\ncurrentStrategy.trades[seqSelected]=seqName;\n\n// if (currentStrategy.trades[seqSelected] != undefined) {\n//     currentSequence = currentStrategy.trades[seqSelected];\n// }else currentSequence=ALLsequences[seqName];\nvar msg1={};\nmsg1.payload=seqName;\nmsg1.debug=\"load \"+seqName+\" sequence\";\nglobal.set('currentSequence', msg.payload);\nglobal.set('currentStrategy', currentStrategy);\nreturn [msg1,msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 340,
        "wires": [
            [
                "7e1f612442e25359"
            ],
            [
                "ae59d709c615f880",
                "72a34d691e9c0784"
            ]
        ]
    },
    {
        "id": "9f90ab5187abce36",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": " ",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 1240,
        "wires": [
            [
                "2a5f3282a9f370ce"
            ]
        ]
    },
    {
        "id": "2a5f3282a9f370ce",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "\"\" OUT",
        "mode": "link",
        "links": [
            "3bf36cb5d84a4f1f",
            "8cbf93688d06538e"
        ],
        "x": 1775,
        "y": 1240,
        "wires": []
    },
    {
        "id": "3bf36cb5d84a4f1f",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "seq name IN",
        "links": [
            "2a5f3282a9f370ce",
            "31a8c6bab3170481"
        ],
        "x": 745,
        "y": 280,
        "wires": [
            [
                "7e1f612442e25359"
            ]
        ]
    },
    {
        "id": "386b86b21d17e9bb",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 116",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1470,
        "y": 820,
        "wires": []
    },
    {
        "id": "8d4ccef56aa9c495",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "currentStrategy.trades.extreme",
                "pt": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "f95a83ec2c3ef60b",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1340,
        "y": 1720,
        "wires": [
            [
                "8d4ccef56aa9c495"
            ]
        ]
    },
    {
        "id": "e73da69fd1ed4496",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 117",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 880,
        "wires": []
    },
    {
        "id": "76fc446fb37cb1c1",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 1760,
        "wires": [
            []
        ]
    },
    {
        "id": "27e92eb25d3e65e7",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 510,
        "y": 180,
        "wires": [
            [
                "8863509f84634d10"
            ]
        ]
    },
    {
        "id": "b4bdee22e30f5201",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "load OUT",
        "mode": "link",
        "links": [
            "f18ececbbb22346d",
            "fec7ce77d3b8ea7d"
        ],
        "x": 885,
        "y": 440,
        "wires": []
    },
    {
        "id": "e391aac3f04bb729",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 119",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2670,
        "y": 1780,
        "wires": []
    },
    {
        "id": "887e23c833dfbc75",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "load trade",
        "func": "var seq = msg.topic.split('_')[1];\nvar p = msg.payload;\nvar ALLsequences = global.get('ALLsequences', 'varstorage') || {};\nvar ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\nvar currentStrategy = global.get('currentStrategy') || {};\nvar seqSelected = global.get('seqSelected');\nvar seqName = global.get('seqName');\nvar currentSequence = global.get('currentSequence') || {};\n\n\n\nif (!currentStrategy.hasOwnProperty(\"trades\")) currentStrategy.trades = {};\n\nif (!currentStrategy.trades.hasOwnProperty(seq)) currentStrategy.trades[seq]=\"\";\nelse {\n    // if (JSON.stringify(currentStrategy.trades[seq]) != \"\" ) {\n    for (var seqs in ALLsequences){\n        if (ALLsequences[seqs].name == currentStrategy.trades[seq]) currentSequence = ALLsequences[currentStrategy.trades[seq]];\n        // else currentSequence={};\n    }\n        \n    if (!currentSequence.hasOwnProperty(\"seqs\")) currentSequence.seqs = {};\n    if (!currentSequence.hasOwnProperty(\"leverage\")) currentSequence.leverage = -1;\n    if (!currentSequence.hasOwnProperty(\"PC-tradeSize\")) currentSequence[\"PC-tradeSize\"] = -1;\n        // currentSequence.name = ALLsequences[currentStrategy].name;\n    // }\n}\n\nmsg.debug = \"Sequence: \" + seq + \" selected\";\nmsg.topic = \"s_\" + seq;\nvar msg1 = {};\nmsg.payload = currentSequence;\nmsg1.payload = p;\nmsg1.topic=msg.topic;\n\nvar msg2={};\nif (JSON.stringify(currentSequence) != \"\" || currentSequence.hasOwnProperty(\"name\")) msg2.payload = currentStrategy.trades[seq];\nelse msg2.payload=\"\";\n\n// currentSequence.enable = false;\nglobal.set('currentSequence', currentSequence);\nglobal.set('currentStrategy', currentStrategy);\n\nglobal.set('seqSelected', seq);\nglobal.set('position', \"\");\nreturn [msg,msg1,msg2];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 500,
        "wires": [
            [
                "cdc05f85f6457830",
                "ae59d709c615f880",
                "0282468df0e3e2c4"
            ],
            [
                "0cdc7916235a39d0"
            ],
            [
                "31a8c6bab3170481",
                "08dbcf406eb69003"
            ]
        ]
    },
    {
        "id": "f706af3fd480a797",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "load",
        "func": "var seqSelected = global.get('seqSelected');\nvar currentSequence = global.get('currentSequence') || {};\n\nif (msg.topic.charAt(0) == 'p') {\n    var position = msg.topic.split(\"-\")[0];\n    var sequence = msg.topic.split(\"-\")[1];\n    msg.debug = \"Seq: \" + sequence.charAt(1) + \" - Position: \" + position;\n\n    if (!currentSequence.hasOwnProperty('seqs')) currentSequence.seqs = {};\n    if (!currentSequence.seqs.hasOwnProperty(sequence)) currentSequence.seqs[sequence] = {};\n    if (!currentSequence.seqs[sequence].hasOwnProperty(\"positions\")) currentSequence.seqs[sequence].positions = {};\n    msg.payload = currentSequence.seqs[sequence].positions[position];\n    global.set('position', msg.topic);\n}\nelse if (msg.topic.charAt(0) == 'c') {\n    var position = msg.topic;\n    msg.debug = \"Compare: \" + msg.payload;\n    if (!currentSequence.hasOwnProperty('seqs')) currentSequence.seqs = {};\n    if (!currentSequence.seqs.hasOwnProperty(\"compare\")) {\n        currentSequence.seqs.compare = {};\n        currentSequence.seqs.compare[position] = {};\n    } else {\n        msg.payload = currentSequence.seqs.compare[position];\n    }\n    global.set('position', msg.topic);\n} else currentSequence[msg.topic] = msg.payload;\n\n\nglobal.set('currentSequence', currentSequence);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1170,
        "y": 900,
        "wires": [
            [
                "ab574c0afbd98285",
                "50b0a5cef5f56c1d",
                "121509e10c7d009d"
            ]
        ]
    },
    {
        "id": "dd11e39df2452506",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "current Sequence",
        "func": "var currentSequence = global.get('currentSequence') || {};\n\ncurrentSequence[msg.topic] = msg.payload;\n\n\nglobal.set('currentSequence', currentSequence);\nreturn msg;",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 1580,
        "wires": []
    },
    {
        "id": "ade69b05bbc9bea3",
        "type": "ui_text_input",
        "z": "b3151d5c41739308",
        "name": "Leverage",
        "label": "Leverage",
        "tooltip": "",
        "group": "2a64f463fa5315e7",
        "order": 11,
        "width": 3,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": "500",
        "topic": "leverage",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 640,
        "y": 1520,
        "wires": [
            [
                "dd11e39df2452506"
            ]
        ]
    },
    {
        "id": "848f06fbb8dc2b1e",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "leverage IN",
        "links": [
            "acc214b402aae351",
            "816c5911b2a98906",
            "bd3272f2f1b98fd2",
            "ce4464381322c691"
        ],
        "x": 515,
        "y": 1520,
        "wires": [
            [
                "ade69b05bbc9bea3"
            ]
        ]
    },
    {
        "id": "f18ececbbb22346d",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank dropdown seqs",
        "links": [
            "8ecd38cee99adb3f",
            "b4bdee22e30f5201",
            "d3fd5f808728d9f6"
        ],
        "x": 765,
        "y": 160,
        "wires": [
            [
                "01342819975c43a0"
            ]
        ]
    },
    {
        "id": "1e9c1c9457c3c201",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 120",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 440,
        "wires": []
    },
    {
        "id": "0cdc7916235a39d0",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "load seq OUT",
        "mode": "link",
        "links": [
            "e00c4eba244b7990"
        ],
        "x": 955,
        "y": 520,
        "wires": []
    },
    {
        "id": "08dbcf406eb69003",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 121",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 600,
        "wires": []
    },
    {
        "id": "31a8c6bab3170481",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "load name OUT",
        "mode": "link",
        "links": [
            "3bf36cb5d84a4f1f",
            "8cbf93688d06538e"
        ],
        "x": 945,
        "y": 580,
        "wires": []
    },
    {
        "id": "5e69d5e9a75e18c4",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "Load",
        "func": "var ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\nvar strategyName = global.get('strategyName');\n\nmsg.payload = ALLstrategies[strategyName];\nvar msg1={};\nmsg1.payload = ALLstrategies[strategyName].name;\nmsg.topic ='LOADstr';\nmsg.debug = \"load \" + strategyName+\" strategy\";\nglobal.set('currentStrategy',msg.payload);\nglobal.set('currentSequence',{});\nreturn [msg1,msg];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2810,
        "y": 360,
        "wires": [
            [
                "1925bd93caa3e47a"
            ],
            [
                "d3cf769639302b9c",
                "a14af4f6517e284f"
            ]
        ]
    },
    {
        "id": "d3cf769639302b9c",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "load str OUT",
        "mode": "link",
        "links": [
            "159d4707e5ed817b",
            "21d7db3109f88a5c",
            "4827cac08e121c54",
            "c5fc3e8c37af6d36",
            "e00c4eba244b7990"
        ],
        "x": 2905,
        "y": 440,
        "wires": []
    },
    {
        "id": "105b738275273652",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "exchange",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "symbol",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2430,
        "y": 500,
        "wires": [
            [
                "92a266cbb866afaa"
            ],
            [
                "b97140a9e9a1c153"
            ]
        ]
    },
    {
        "id": "4827cac08e121c54",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "exchange in",
        "links": [
            "d3cf769639302b9c"
        ],
        "x": 2135,
        "y": 500,
        "wires": [
            [
                "588da6a502cdae91"
            ]
        ]
    },
    {
        "id": "588da6a502cdae91",
        "type": "split",
        "z": "b3151d5c41739308",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 2270,
        "y": 500,
        "wires": [
            [
                "105b738275273652"
            ]
        ]
    },
    {
        "id": "8da61726ed1d1dad",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "All strategyes Dropdown",
        "func": "var ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\n\nmsg.options = [];\nmsg.options.push(\"----\");\nfor (var x in ALLstrategies) msg.options.push(x);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2970,
        "y": 260,
        "wires": [
            [
                "b458f8cfe6a43935"
            ]
        ]
    },
    {
        "id": "b7245aea6bdc36f1",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "strategies dropdown",
        "links": [
            "4fa322b2210c4b65",
            "bd51cb24ec743680"
        ],
        "x": 2765,
        "y": 260,
        "wires": [
            [
                "8da61726ed1d1dad"
            ]
        ]
    },
    {
        "id": "c353d5cd3d242a66",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "strategyName",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3450,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "159d4707e5ed817b",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "display strategy",
        "links": [
            "d3cf769639302b9c"
        ],
        "x": 2925,
        "y": 780,
        "wires": [
            [
                "f6ab4d975b9f494d"
            ]
        ]
    },
    {
        "id": "2fd4510f3e66fd1b",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "new seq",
        "group": "2a64f463fa5315e7",
        "order": 10,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "NEW",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "topicType": "str",
        "x": 520,
        "y": 680,
        "wires": [
            [
                "638ee239d4479498"
            ]
        ]
    },
    {
        "id": "b6efe2839032d271",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "New seq OUT",
        "mode": "link",
        "links": [
            "21d7db3109f88a5c",
            "b93cf2b857905ff4",
            "fec7ce77d3b8ea7d"
        ],
        "x": 955,
        "y": 680,
        "wires": []
    },
    {
        "id": "638ee239d4479498",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "currentSequence",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 680,
        "wires": [
            [
                "b6efe2839032d271"
            ]
        ]
    },
    {
        "id": "8a74a943f4b33bd1",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "new str",
        "group": "0a79132aa188a0eb",
        "order": 4,
        "width": "2",
        "height": 1,
        "passthru": false,
        "label": "NEW",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "topicType": "str",
        "x": 2860,
        "y": 140,
        "wires": [
            [
                "862ab35bce66f334"
            ]
        ]
    },
    {
        "id": "85955bc1070ca49b",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "New seq OUT",
        "mode": "link",
        "links": [
            "1beae4e10c2207ba",
            "21d7db3109f88a5c",
            "ae41c1d377e3fe55",
            "b93cf2b857905ff4",
            "c5fc3e8c37af6d36",
            "fec7ce77d3b8ea7d",
            "e9626ab7886e80bd"
        ],
        "x": 3205,
        "y": 140,
        "wires": []
    },
    {
        "id": "862ab35bce66f334",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "currentStrategy",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "currentSequence",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3040,
        "y": 140,
        "wires": [
            [
                "85955bc1070ca49b"
            ]
        ]
    },
    {
        "id": "8a94ea57f87c9246",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2470,
        "y": 440,
        "wires": [
            [
                "92a266cbb866afaa",
                "b97140a9e9a1c153"
            ]
        ]
    },
    {
        "id": "1beae4e10c2207ba",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank strategy",
        "links": [
            "85955bc1070ca49b",
            "bd51cb24ec743680"
        ],
        "x": 2325,
        "y": 440,
        "wires": [
            [
                "8a94ea57f87c9246"
            ]
        ]
    },
    {
        "id": "e1dc4c5fe5ab3cbe",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": " ",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2810,
        "y": 320,
        "wires": [
            [
                "1925bd93caa3e47a"
            ]
        ]
    },
    {
        "id": "ae41c1d377e3fe55",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank str name",
        "links": [
            "85955bc1070ca49b",
            "bd51cb24ec743680"
        ],
        "x": 2685,
        "y": 320,
        "wires": [
            [
                "e1dc4c5fe5ab3cbe"
            ]
        ]
    },
    {
        "id": "a14af4f6517e284f",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 106",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "debug",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3070,
        "y": 440,
        "wires": []
    },
    {
        "id": "01342819975c43a0",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 160,
        "wires": [
            [
                "2538c77a9dda8639"
            ]
        ]
    },
    {
        "id": "46a07e1c8fac1d0a",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "brain 1",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "4f19c8f4c8df9ba0",
        "order": 4,
        "width": "4",
        "height": "2",
        "passthru": false,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "brain1",
        "topicType": "str",
        "className": "",
        "x": 570,
        "y": 1760,
        "wires": [
            [
                "d4bc77b51a6fd1b4"
            ]
        ]
    },
    {
        "id": "67856eebba2d564a",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "All strategyes Dropdown",
        "func": "var ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\n\nmsg.options = [];\nmsg.options.push(\"----\");\nfor (var x in ALLstrategies) msg.options.push(x);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 1760,
        "wires": [
            [
                "46a07e1c8fac1d0a"
            ]
        ]
    },
    {
        "id": "0e0de3a28ef68b22",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "strategies dropdown",
        "links": [
            "4fa322b2210c4b65",
            "bd51cb24ec743680"
        ],
        "x": 155,
        "y": 1820,
        "wires": [
            [
                "67856eebba2d564a",
                "f4088edc6ec27e8b",
                "319ee95ffc9528b8"
            ]
        ]
    },
    {
        "id": "549f5ebba5dd006e",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "SEND strategy",
        "func": "var ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\nvar ALLsequences = global.get('ALLsequences', 'varstorage') || {};\nvar strategySend = global.get('strategySend');\nvar brains = global.get('brains')|| {};\nvar requestId=global.get('requestId') || 0;\nmsg.brain=msg.topic;\n\nvar str2load = strategySend[msg.brain];\nvar extreme = ALLsequences[ALLstrategies[str2load].trades.extreme];\nvar neutral = ALLsequences[ALLstrategies[str2load].trades.neutral];\nvar weak = ALLsequences[ALLstrategies[str2load].trades.weak];\n\nvar readyStrategy={};\nreadyStrategy.trend=ALLstrategies[str2load].trend;\nreadyStrategy.trades={};\nreadyStrategy.trades.extreme = extreme;\nreadyStrategy.trades.neutral = neutral;\nreadyStrategy.trades.weak = weak;\nreadyStrategy.name=ALLstrategies[str2load].name;\n\n\nmsg.payload={};\nmsg.payload.method=\"LOAD\";\nmsg.payload.params={};\nmsg.payload.params[msg.brain] = readyStrategy;\n// msg.payload.params[msg.brain].name = strategySend[msg.brain];\n\nif (!brains.hasOwnProperty(msg.topic)) brains[msg.topic] = {};\n\nbrains[msg.brain].strategy = readyStrategy;\n\nmsg.topic = \"v1/devices/me/rpc/request/\"+requestId;\nrequestId++;\nglobal.set('requestId',requestId);\nglobal.set('brains', brains);\nmsg.debug=\"strategy \"+strategySend[msg.brain]+\" sent to \"+msg.brain;\nif (msg.brain==\"APIbrain\") {\n    var p = msg.payload.params[msg.brain];\n    var n = msg.payload.params[msg.brain].name;\n    msg.payload.params={};\n    msg.payload.params=p;\n    msg.payload.params.name = n;\n    return [null, msg];\n}else return [msg, null];\nreturn msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 2080,
        "wires": [
            [
                "ccc53c0d0a722d33",
                "a53598f0d78c8de6",
                "7a771b74262b3f99",
                "c70601820605e42d"
            ],
            [
                "ccc53c0d0a722d33",
                "a53598f0d78c8de6",
                "c931401485bcbaef"
            ]
        ]
    },
    {
        "id": "c70601820605e42d",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 123",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 2020,
        "wires": []
    },
    {
        "id": "acf4549266eff898",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1740,
        "wires": [
            [
                "67856eebba2d564a",
                "f4088edc6ec27e8b",
                "319ee95ffc9528b8"
            ]
        ]
    },
    {
        "id": "a91be6b45a3f88c1",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2750,
        "y": 220,
        "wires": [
            [
                "8da61726ed1d1dad"
            ]
        ]
    },
    {
        "id": "2c81682068cb8569",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "brain 2",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "4f19c8f4c8df9ba0",
        "order": 8,
        "width": "4",
        "height": "2",
        "passthru": false,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "brain2",
        "topicType": "str",
        "className": "",
        "x": 570,
        "y": 1820,
        "wires": [
            [
                "d4bc77b51a6fd1b4"
            ]
        ]
    },
    {
        "id": "f4088edc6ec27e8b",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "All strategyes Dropdown",
        "func": "var ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\n\nmsg.options = [];\nmsg.options.push(\"----\");\nfor (var x in ALLstrategies) msg.options.push(x);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 1820,
        "wires": [
            [
                "2c81682068cb8569"
            ]
        ]
    },
    {
        "id": "1fc8550c7b8de225",
        "type": "ui_dropdown",
        "z": "b3151d5c41739308",
        "name": "API brain ",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "4f19c8f4c8df9ba0",
        "order": 12,
        "width": "4",
        "height": "2",
        "passthru": false,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "APIbrain",
        "topicType": "str",
        "className": "",
        "x": 580,
        "y": 1880,
        "wires": [
            [
                "d4bc77b51a6fd1b4"
            ]
        ]
    },
    {
        "id": "319ee95ffc9528b8",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "All strategyes Dropdown",
        "func": "var ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\n\nmsg.options = [];\nmsg.options.push(\"----\");\nfor (var x in ALLstrategies) msg.options.push(x);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 1880,
        "wires": [
            [
                "1fc8550c7b8de225"
            ]
        ]
    },
    {
        "id": "f70ba7611110488b",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 2,
        "group": "4f19c8f4c8df9ba0",
        "width": "2",
        "height": "2",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#ffbb00",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "brain1 LED",
        "x": 970,
        "y": 2300,
        "wires": []
    },
    {
        "id": "3cbaa7506e4cc2be",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "brains enable IN",
        "links": [
            "75e5717c6aa903b9"
        ],
        "x": 215,
        "y": 2400,
        "wires": [
            [
                "c69ac4bb0af8e64e"
            ]
        ]
    },
    {
        "id": "a781ef07fd78b516",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 6,
        "group": "4f19c8f4c8df9ba0",
        "width": "2",
        "height": "2",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#ffbb00",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "brain2 LED",
        "x": 970,
        "y": 2340,
        "wires": []
    },
    {
        "id": "a6dcb70379bbb231",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 10,
        "group": "4f19c8f4c8df9ba0",
        "width": "2",
        "height": "2",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#ffbb00",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "brain3 LED",
        "x": 970,
        "y": 2380,
        "wires": []
    },
    {
        "id": "3f5aff456c8a2ad3",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 1,
        "group": "4f19c8f4c8df9ba0",
        "width": "2",
        "height": "2",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "brain1 Active LED",
        "x": 990,
        "y": 2460,
        "wires": []
    },
    {
        "id": "b8c35471f5e4cedc",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 5,
        "group": "4f19c8f4c8df9ba0",
        "width": "2",
        "height": "2",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "brain2 Active LED",
        "x": 990,
        "y": 2500,
        "wires": []
    },
    {
        "id": "ae53b92028105b16",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 9,
        "group": "4f19c8f4c8df9ba0",
        "width": "2",
        "height": "2",
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "APIbrain Active LED",
        "x": 1000,
        "y": 2540,
        "wires": []
    },
    {
        "id": "7a771b74262b3f99",
        "type": "mqtt out",
        "z": "b3151d5c41739308",
        "name": "API BRAIN",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 1150,
        "y": 2080,
        "wires": []
    },
    {
        "id": "3dc210ab3202e053",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "START",
        "group": "4f19c8f4c8df9ba0",
        "order": 14,
        "width": "3",
        "height": 2,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{msg.background}}",
        "className": "",
        "icon": "fa-play fa-3x",
        "payload": "start",
        "payloadType": "str",
        "topic": "start",
        "topicType": "str",
        "x": 1360,
        "y": 2720,
        "wires": [
            [
                "56b3f4f8708cc539",
                "83460272b5fadb07",
                "0c7101e48ecbaf68"
            ]
        ]
    },
    {
        "id": "e343238714283255",
        "type": "ui_button",
        "z": "b3151d5c41739308",
        "name": "STOP",
        "group": "4f19c8f4c8df9ba0",
        "order": 15,
        "width": "3",
        "height": 2,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "white",
        "className": "",
        "icon": "fa-stop fa-3x",
        "payload": "stop",
        "payloadType": "str",
        "topic": "stop",
        "topicType": "str",
        "x": 1370,
        "y": 2800,
        "wires": [
            [
                "83460272b5fadb07",
                "f179e7c638d0c258",
                "5db2b9ecf9402ecc",
                "9e0555919928b7af",
                "a04b67c8f9c08c93"
            ]
        ]
    },
    {
        "id": "83460272b5fadb07",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 16,
        "group": "4f19c8f4c8df9ba0",
        "width": 2,
        "height": 2,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "stop",
                "valueType": "str"
            },
            {
                "color": "#008000",
                "value": "start",
                "valueType": "str"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1670,
        "y": 2760,
        "wires": []
    },
    {
        "id": "56b3f4f8708cc539",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "START OUT",
        "mode": "link",
        "links": [
            "2fbe55c8f5c8ee2b"
        ],
        "x": 1455,
        "y": 2680,
        "wires": []
    },
    {
        "id": "e8a4ec220b744a3a",
        "type": "inject",
        "z": "b3151d5c41739308",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "stop",
        "payloadType": "str",
        "x": 1370,
        "y": 2840,
        "wires": [
            [
                "83460272b5fadb07"
            ]
        ]
    },
    {
        "id": "f566c0d2dd24107f",
        "type": "trigger",
        "z": "b3151d5c41739308",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "pay",
        "op2type": "bool",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1400,
        "y": 3040,
        "wires": [
            [
                "5988e0e602f473b2"
            ]
        ]
    },
    {
        "id": "5988e0e602f473b2",
        "type": "ui_led",
        "z": "b3151d5c41739308",
        "order": 17,
        "group": "4f19c8f4c8df9ba0",
        "width": 2,
        "height": 2,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#0520f0",
                "value": "request",
                "valueType": "str"
            },
            {
                "color": "#73ff00",
                "value": "sent",
                "valueType": "str"
            },
            {
                "color": "#e6e6e6",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 1570,
        "y": 3040,
        "wires": []
    },
    {
        "id": "ccc53c0d0a722d33",
        "type": "ui_text",
        "z": "b3151d5c41739308",
        "group": "4f19c8f4c8df9ba0",
        "order": 13,
        "width": "10",
        "height": 1,
        "name": "Sent Strategies",
        "label": "",
        "format": "{{msg.debug}}",
        "layout": "col-center",
        "className": "",
        "x": 1140,
        "y": 2140,
        "wires": []
    },
    {
        "id": "c69ac4bb0af8e64e",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "enable brain1",
        "func": "var brains = msg.payload;\nmsg.payload = {};\nvar msg1={};\nmsg1.payload={};\nfor (var brain in brains){\n    var enable = brains[brain].enable;\n    var active = brains[brain].active;\n    msg.payload[brain] = (enable == \"OFF\") ? false : true;\n    msg1.payload[brain] = active;\n    msg.topic = 'enable';\n    msg1.topic = 'active';\n    \n}\nreturn [msg, msg1];\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 2400,
        "wires": [
            [
                "29b9062763594cac"
            ],
            [
                "9f3e15d8a3775b90"
            ]
        ]
    },
    {
        "id": "6d8949cb74a49b1c",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "brain1 active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "brains.LIVE.active",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2210,
        "y": 2280,
        "wires": [
            []
        ]
    },
    {
        "id": "2ffa2f4638382c8b",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "brain2 active",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "brains.brain2.active",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2190,
        "y": 2420,
        "wires": [
            []
        ]
    },
    {
        "id": "2f83fce27ef02c8f",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": " brain3 enable",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "brains.brain3.active",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2200,
        "y": 2560,
        "wires": [
            []
        ]
    },
    {
        "id": "ce855b26b356b6c4",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "enable brain2",
        "func": "var brains = global.get('brains');\nif (brains.hasOwnProperty('brain2')) {\n    var enable = brains.brain2.enable;\n    msg.payload = (enable == \"OFF\") ? false : true;\n    return msg;\n} else return null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2200,
        "y": 2360,
        "wires": [
            []
        ]
    },
    {
        "id": "6572eeee86670c94",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "enable brain3",
        "func": "var brains=global.get('brains');\nif (brains.hasOwnProperty('brain3')){\n    var enable = brains.brain3.enable;\n    msg.payload=(enable==\"OFF\")?false:true;\n    return msg;\n}else return null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2200,
        "y": 2520,
        "wires": [
            []
        ]
    },
    {
        "id": "29b9062763594cac",
        "type": "split",
        "z": "b3151d5c41739308",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 590,
        "y": 2340,
        "wires": [
            [
                "464bf28e4b727985"
            ]
        ]
    },
    {
        "id": "464bf28e4b727985",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "ENABLE",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "brain1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "brain2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "APIbrain",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 760,
        "y": 2340,
        "wires": [
            [
                "f70ba7611110488b"
            ],
            [
                "a781ef07fd78b516"
            ],
            [
                "a6dcb70379bbb231"
            ]
        ]
    },
    {
        "id": "a2965413133a0a50",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "ACTIVE",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "brain1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "brain2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "APIbrain",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 760,
        "y": 2480,
        "wires": [
            [
                "3f5aff456c8a2ad3"
            ],
            [
                "b8c35471f5e4cedc"
            ],
            [
                "ae53b92028105b16"
            ]
        ]
    },
    {
        "id": "9f3e15d8a3775b90",
        "type": "split",
        "z": "b3151d5c41739308",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 590,
        "y": 2480,
        "wires": [
            [
                "a2965413133a0a50"
            ]
        ]
    },
    {
        "id": "d4bc77b51a6fd1b4",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "strategySend",
        "func": "var brain=msg.topic;\nvar strategy=msg.payload;\nvar strategySend=global.get('strategySend') || {};\nmsg.payload={};\n\nstrategySend[brain]=strategy;\n\nglobal.set('strategySend', strategySend);\nmsg.payload = strategySend;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1820,
        "wires": [
            [
                "e05f28f672535711"
            ]
        ]
    },
    {
        "id": "e05f28f672535711",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 130",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 990,
        "y": 1820,
        "wires": []
    },
    {
        "id": "a53598f0d78c8de6",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "send strategy",
        "mode": "link",
        "links": [
            "18fb55d518b1db44",
            "685fb9241819c121"
        ],
        "x": 965,
        "y": 1980,
        "wires": []
    },
    {
        "id": "f179e7c638d0c258",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "STOP OUT",
        "mode": "link",
        "links": [
            "8388431259017ce0",
            "d43ece4321ea85d0",
            "511e4ad3642f7fa3",
            "4f7afcf00b9b060f"
        ],
        "x": 1455,
        "y": 2760,
        "wires": []
    },
    {
        "id": "0ff8d666ac2b53cb",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "API LED",
        "links": [
            "380f3279057e0739",
            "05fdac099c4dabc6",
            "bc317edf51b9be8d"
        ],
        "x": 1285,
        "y": 3040,
        "wires": [
            [
                "f566c0d2dd24107f"
            ]
        ]
    },
    {
        "id": "3224ebe008e2ed9f",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3050,
        "y": 200,
        "wires": [
            [
                "b458f8cfe6a43935"
            ]
        ]
    },
    {
        "id": "e9626ab7886e80bd",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank strategy",
        "links": [
            "85955bc1070ca49b",
            "bd51cb24ec743680"
        ],
        "x": 2905,
        "y": 200,
        "wires": [
            [
                "3224ebe008e2ed9f"
            ]
        ]
    },
    {
        "id": "72a34d691e9c0784",
        "type": "delay",
        "z": "b3151d5c41739308",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 790,
        "y": 400,
        "wires": [
            [
                "b4bdee22e30f5201"
            ]
        ]
    },
    {
        "id": "53689d535cdc8eb1",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "Send Strategy",
        "property": "brain",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "brain1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "brain2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "brain3",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1680,
        "y": 1980,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "5db2b9ecf9402ecc",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n// var params=Object.keys(msg.payload.params)[0];\n\nmsg.payload={};\nmsg.payload.params={};\n\nmsg.payload.method=\"API_LED\";\nmsg.payload.params.sent = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 2920,
        "wires": [
            [
                "0842a6fd1a7eee7a"
            ]
        ]
    },
    {
        "id": "0842a6fd1a7eee7a",
        "type": "mqtt out",
        "z": "b3151d5c41739308",
        "name": "API BRAIN",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 1910,
        "y": 2920,
        "wires": []
    },
    {
        "id": "9e0555919928b7af",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n// var params=Object.keys(msg.payload.params)[0];\n\nmsg.payload={};\nmsg.payload.params={};\n\nmsg.payload.method=\"API_LED\";\nmsg.payload.params.request = false;\n// msg.payload.params.sent = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 2880,
        "wires": [
            [
                "1e422a5673fcfbc7"
            ]
        ]
    },
    {
        "id": "1e422a5673fcfbc7",
        "type": "delay",
        "z": "b3151d5c41739308",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1720,
        "y": 2880,
        "wires": [
            [
                "0842a6fd1a7eee7a"
            ]
        ]
    },
    {
        "id": "685fb9241819c121",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "blank dropdown seqs",
        "links": [
            "a53598f0d78c8de6"
        ],
        "x": 335,
        "y": 1700,
        "wires": [
            [
                "8de650db8c0e3ec3"
            ]
        ]
    },
    {
        "id": "8de650db8c0e3ec3",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "----",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "----",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 1700,
        "wires": [
            [
                "46a07e1c8fac1d0a",
                "2c81682068cb8569",
                "1fc8550c7b8de225"
            ]
        ]
    },
    {
        "id": "0c7101e48ecbaf68",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "START",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"setAPIswitch\";\nmsg.payload.params = \"true\";\n// msg.payload.params.sent = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1600,
        "y": 2700,
        "wires": [
            [
                "aaf8bd9f980e1081",
                "36eb94f5312c02a4"
            ]
        ]
    },
    {
        "id": "aaf8bd9f980e1081",
        "type": "mqtt out",
        "z": "b3151d5c41739308",
        "name": "API BRAIN",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 1910,
        "y": 2700,
        "wires": []
    },
    {
        "id": "a04b67c8f9c08c93",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "STOP",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"setAPIswitch\";\nmsg.payload.params = \"false\";\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1570,
        "y": 2960,
        "wires": [
            [
                "0842a6fd1a7eee7a",
                "b9e2a8134f8f43e1"
            ]
        ]
    },
    {
        "id": "967d2ee495401308",
        "type": "mqtt in",
        "z": "b3151d5c41739308",
        "name": "APIbrain",
        "topic": "v1/devices/me/rpc/request/+",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "722e0f45b695f883",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 900,
        "y": 2760,
        "wires": [
            [
                "d116911b0adcac63"
            ]
        ]
    },
    {
        "id": "d116911b0adcac63",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "Switch",
        "property": "payload.method",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "setAPIswitch",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "getAPIswitch",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1050,
        "y": 2760,
        "wires": [
            [
                "e73aa2d424405051"
            ],
            [
                "e73aa2d424405051"
            ]
        ]
    },
    {
        "id": "e73aa2d424405051",
        "type": "switch",
        "z": "b3151d5c41739308",
        "name": "Switch",
        "property": "payload.params",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1210,
        "y": 2760,
        "wires": [
            [
                "3dc210ab3202e053",
                "c47a92cdded3facf"
            ],
            [
                "e343238714283255",
                "cecb857829cfea71"
            ]
        ]
    },
    {
        "id": "d18ae3a20c88a57f",
        "type": "link in",
        "z": "b3151d5c41739308",
        "name": "STOP IN",
        "links": [
            "9ed873756f742729"
        ],
        "x": 1245,
        "y": 2820,
        "wires": [
            [
                "e343238714283255"
            ]
        ]
    },
    {
        "id": "c931401485bcbaef",
        "type": "link out",
        "z": "b3151d5c41739308",
        "name": "send APIbrain OUT",
        "mode": "link",
        "links": [
            "4d91727d86ae3ff6"
        ],
        "x": 945,
        "y": 2180,
        "wires": []
    },
    {
        "id": "c47a92cdded3facf",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 188",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1390,
        "y": 2640,
        "wires": []
    },
    {
        "id": "cecb857829cfea71",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 191",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1350,
        "y": 2920,
        "wires": []
    },
    {
        "id": "b9e2a8134f8f43e1",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 192",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1770,
        "y": 2980,
        "wires": []
    },
    {
        "id": "36eb94f5312c02a4",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 193",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1730,
        "y": 2640,
        "wires": []
    },
    {
        "id": "978cdfa5068712dc",
        "type": "change",
        "z": "b3151d5c41739308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "currentSequence.name",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "6cc6de4240c42df3",
        "type": "function",
        "z": "b3151d5c41739308",
        "name": "function 26",
        "func": "var ALLstrategies = global.get('ALLstrategies', 'varstorage') || {};\nvar currentStrategy = global.get('currentStrategy') || {};\nvar oldName=currentStrategy.name;\nvar oldStrategy=ALLstrategies[oldName];\n// ALLstrategies[oldName]=ALLstrategies[msg.payload];\n// delete ALLstrategies[oldName];\nALLstrategies[oldName]=oldStrategy;\ncurrentStrategy.name=msg.payload;\n\nglobal.set('ALLstrategies', ALLstrategies, 'varstorage');\nglobal.set('currentStrategy', currentStrategy);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 320,
        "wires": [
            [
                "c353d5cd3d242a66"
            ]
        ]
    },
    {
        "id": "0ca7bfd5978caf63",
        "type": "debug",
        "z": "b3151d5c41739308",
        "name": "debug 212",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3210,
        "y": 400,
        "wires": []
    },
    {
        "id": "3f2cc19a6830c3c2",
        "type": "inject",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 500,
        "wires": [
            [
                "724beeb61729e133"
            ]
        ]
    },
    {
        "id": "2383f1e7283c2968",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "Prepare API request",
        "func": "var Allindicators = global.get('allIndicators', 'varstorage');\nvar Allconfig = global.get('Allconfig', 'varstorage');\nvar token = global.get('token', 'varstorage');\n\n\n// var indicator=\"ema\";\n\n// // var admintoken=global.get(\"adminToken\");\n// // var token = \"bearer \"+admintoken;\n// // var token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbHVlIjoiNjFhMjRlZjY0MjI0NmNlM2IwMzI4MTA0IiwiaWF0IjoxNjYxNDU1ODkwLCJleHAiOjMzMTY1OTE5ODkwfQ.7hCpsgBITz-TfTumaqHIUpvTOrK0rYfhRR4E2ipneZk\";\n// // var exchange = \"binance\";\n// // var symbol= \"BTC/USDT\";\n// // var interval = \"1h\";\n// var chart = \"heikinashi\";\n// var token = params.token;\n// var exchange = params.exchange;\n// var symbol = params.symbol;\n// var interval = \"1m\";\n\nmsg.payload={};\n\n\n\nvar m=0;\nfor (var intervals in Allindicators){\n    msg.payload[m]={};\n    msg.payload[m].secret = token;\n    msg.payload[m].construct = {};\n    msg.payload[m].construct.chart = \"heikinashi\";\n    // msg.payload[m].construct.backtrack=1;\n    msg.payload[m].construct.exchange = \"binance\";\n    msg.payload[m].construct.symbol = \"BTC/USDT\";\n    msg.payload[m].construct.interval = intervals.split(\"_\")[0];\n    msg.payload[m].construct.indicators = [];\n    var n = 0;\n    for (var indicators in Allindicators[intervals]){\n        msg.payload[m].construct.indicators[n]={};\n        msg.payload[m].construct.indicators[n].id = indicators.split(\"-\")[0] +\"-\"+ indicators.split(\"-\")[1];\n        msg.payload[m].construct.indicators[n].indicator = Allindicators[intervals][indicators].indicator.toLowerCase();\n        msg.payload[m].construct.indicators[n].optInTimePeriod = Allindicators[intervals][indicators].period;\n        n++;\n    }\n    m++;\n}\n\n// msg.method=\"get\";\nmsg.url=\"https://api.taapi.io/bulk\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 520,
        "wires": [
            [
                "71ee95a9ce27d22c"
            ]
        ]
    },
    {
        "id": "724beeb61729e133",
        "type": "trigger",
        "z": "7fb6d5e7ee213cba",
        "name": "EMA interval",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "-60",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 470,
        "y": 520,
        "wires": [
            [
                "2383f1e7283c2968"
            ]
        ]
    },
    {
        "id": "71ee95a9ce27d22c",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 870,
        "y": 520,
        "wires": [
            [
                "061cbe661fc19497"
            ]
        ]
    },
    {
        "id": "2fbe55c8f5c8ee2b",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "START API",
        "links": [
            "56b3f4f8708cc539",
            "092642e0eee31acc"
        ],
        "x": 215,
        "y": 440,
        "wires": [
            [
                "92a2a32e0cf7d27f"
            ]
        ]
    },
    {
        "id": "771aff670473b991",
        "type": "http request",
        "z": "7fb6d5e7ee213cba",
        "name": "POST",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "query",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1310,
        "y": 520,
        "wires": [
            [
                "f6fb22e8973a94de"
            ]
        ]
    },
    {
        "id": "061cbe661fc19497",
        "type": "delay",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "pauseType": "rate",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "6",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 520,
        "wires": [
            [
                "771aff670473b991"
            ]
        ]
    },
    {
        "id": "d43ece4321ea85d0",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "RESET QUEUE IN",
        "links": [
            "f179e7c638d0c258"
        ],
        "x": 745,
        "y": 400,
        "wires": [
            [
                "d0019d8c4106b717"
            ]
        ]
    },
    {
        "id": "d0019d8c4106b717",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 400,
        "wires": [
            [
                "061cbe661fc19497"
            ]
        ]
    },
    {
        "id": "6b7bbfc44e2fa89d",
        "type": "inject",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 700,
        "y": 340,
        "wires": [
            [
                "d0019d8c4106b717"
            ]
        ]
    },
    {
        "id": "d49860e5c5ea3f07",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "Save all indicators new",
        "func": "var brains = global.get('brains');\n// var Allindicators = global.get('allIndicators', 'varstorage');\nglobal.set('APIresults', {}, 'varstorage');\nvar strategy=global.set('strategy');\n\nvar allIndicators={};\nvar seqsIndicators = {};\nvar debug;\n\nfor (var brain in brains) {\n    if (brains[brain].active == true && brains[brain].enable != \"OFF\" && brains[brain].hasOwnProperty(\"strategy\")){\n        seqsIndicators[brain]={};\n        for (var trade in brains[brain].strategy.trades) {\n            for (var seqs in brains[brain].strategy.trades[trade].seqs) {\n                if (seqs.charAt(0)=='s'){\n                    \n                    for (var pos in brains[brain].strategy.trades[trade].seqs[seqs].positions) {\n                    // if (JSON.stringify(brains[str].sequences)!='{}'){\n                        if (brains[brain].strategy.trades[trade].seqs[seqs].positions[pos].enable === true && brains[brain].strategy.trades[trade].enable === true) {\n                            \n                            var interval = brains[brain].strategy.trades[trade].seqs[seqs].positions[pos].interval;\n                            var indicator = brains[brain].strategy.trades[trade].seqs[seqs].positions[pos].indicator;\n                            var period = brains[brain].strategy.trades[trade].seqs[seqs].positions[pos].period;\n                            var name = indicator+\"-\"+period+\"-\"+interval;\n                            var newIndicator = {};\n                            newIndicator.period = period;\n                            newIndicator.indicator = indicator;\n                            newIndicator.name = name;\n                            newIndicator.interval = interval;\n                            seqsIndicators[brain][indicator + \"-\" + period + \"-\" + interval] = newIndicator;\n                        }\n                    }\n                }\n            }\n        }\n        for (var trends in brains[brain].strategy.trend) {\n            if (brains[brain].strategy.trend[trends].enable === true ) {\n                var intervalT = brains[brain].strategy.trend[trends].interval;\n                var indicatorT = brains[brain].strategy.trend[trends].indicator;\n                var periodT = brains[brain].strategy.trend[trends].period;\n                var nameT = indicatorT + \"-\" + periodT;\n                var newIndicatorT = {};\n                newIndicatorT.period = periodT;\n                newIndicatorT.indicator = indicatorT;\n                newIndicatorT.name = nameT;\n                newIndicatorT.interval = intervalT;\n                debug=nameT;\n                seqsIndicators[brain][indicatorT + \"-\" + periodT + \"-\" + intervalT]= newIndicatorT;\n            }\n        }\n    }\n}\n\nfor (var brain in brains) {\n    // allIndicators[brain]={};\n    for (var indicators in seqsIndicators[brain]) {\n        var SEQinterval = seqsIndicators[brain][indicators].interval;\n        var SEQname = seqsIndicators[brain][indicators].name;\n        if (!allIndicators.hasOwnProperty(SEQinterval + \"_1\")) allIndicators[SEQinterval+\"_1\"] = {};\n        if (!allIndicators[SEQinterval+\"_1\"].hasOwnProperty(SEQname)) {\n            if (Object.keys(allIndicators[SEQinterval+\"_1\"]).length < 8){\n                allIndicators[SEQinterval+\"_1\"][SEQname] = seqsIndicators[brain][indicators];\n            }\n            else if (!allIndicators.hasOwnProperty(SEQinterval + \"_2\") || Object.keys(allIndicators[SEQinterval + \"_2\"]).length < 8){\n                if (!allIndicators.hasOwnProperty(SEQinterval + \"_2\")) allIndicators[SEQinterval + \"_2\"] = {};\n                allIndicators[SEQinterval + \"_2\"][SEQname] = seqsIndicators[brain][indicators];\n            }\n            else if (!allIndicators.hasOwnProperty(SEQinterval + \"_3\") || Object.keys(allIndicators[SEQinterval + \"_3\"]).length < 8) {\n                if (!allIndicators.hasOwnProperty(SEQinterval + \"_3\")) allIndicators[SEQinterval + \"_3\"] = {};\n                allIndicators[SEQinterval + \"_3\"][SEQname] = seqsIndicators[brain][indicators];\n            }\n            else if (!allIndicators.hasOwnProperty(SEQinterval + \"_4\") || Object.keys(allIndicators[SEQinterval + \"_4\"]).length < 8) {\n                if (!allIndicators.hasOwnProperty(SEQinterval + \"_4\")) allIndicators[SEQinterval + \"_4\"] = {};\n                allIndicators[SEQinterval + \"_4\"][SEQname] = seqsIndicators[brain][indicators];\n            }\n        }\n    }\n}\n\n\nglobal.set('allIndicators', allIndicators, 'varstorage');\nglobal.set('seqsIndicators', seqsIndicators);\nmsg.payload={};\n// msg.payload.debug=debug;\nmsg.payload.seqsIndicators = seqsIndicators;\nmsg.payload.allIndicators = allIndicators;\nvar msg1={};\nmsg1.payload = Object.keys(allIndicators).length;\n\nreturn [msg,msg1];\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 780,
        "wires": [
            [
                "e01f68caca8ea94f"
            ],
            [
                "3fa443e4bf7e81ec"
            ]
        ]
    },
    {
        "id": "4a8d6a8ccf9ea13f",
        "type": "inject",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1000,
        "y": 780,
        "wires": [
            [
                "d49860e5c5ea3f07"
            ]
        ]
    },
    {
        "id": "e01f68caca8ea94f",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 129",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1510,
        "y": 740,
        "wires": []
    },
    {
        "id": "2968d943e5e567ea",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "Brains data",
        "func": "var brains=global.get('brains')|| {};\n\n\nvar method=msg.payload.method;\nvar rvBrains=msg.payload.params.active;\n\n\nif (method=='brainStatus'){\n    for (var brain in rvBrains){\n        if (!brains.hasOwnProperty(brain)) brains[brain] = {};\n        brains[brain].active = (msg.payload.params.active[brain]==\"true\")?true:false;\n        brains[brain].enable = msg.payload.params.enable[brain];\n    }\n    \n    global.set('brains', brains);\n}\nmsg.payload=brains;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 860,
        "wires": [
            [
                "f5d2b4d714b28ee3",
                "75e5717c6aa903b9"
            ]
        ]
    },
    {
        "id": "e65696cc5206b0c5",
        "type": "mqtt in",
        "z": "7fb6d5e7ee213cba",
        "name": "brain3",
        "topic": "v1/devices/me/rpc/request/+",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "722e0f45b695f883",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 350,
        "y": 860,
        "wires": [
            [
                "2968d943e5e567ea"
            ]
        ]
    },
    {
        "id": "f5d2b4d714b28ee3",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 125",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 860,
        "wires": []
    },
    {
        "id": "75e5717c6aa903b9",
        "type": "link out",
        "z": "7fb6d5e7ee213cba",
        "name": "enable OUT",
        "mode": "link",
        "links": [
            "18fb55d518b1db44",
            "3cbaa7506e4cc2be"
        ],
        "x": 745,
        "y": 800,
        "wires": []
    },
    {
        "id": "18fb55d518b1db44",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "All indicators IN",
        "links": [
            "a53598f0d78c8de6",
            "75e5717c6aa903b9"
        ],
        "x": 1095,
        "y": 740,
        "wires": [
            [
                "d49860e5c5ea3f07"
            ]
        ]
    },
    {
        "id": "2d9d31b609ce9908",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "red",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1590,
        "y": 380,
        "wires": [
            [
                "1078f0de28d81610"
            ]
        ]
    },
    {
        "id": "2f8673198ea7b388",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "timeout IN",
        "links": [
            "9ed873756f742729",
            "334d5c224684b0ca"
        ],
        "x": 1485,
        "y": 380,
        "wires": [
            [
                "2d9d31b609ce9908"
            ]
        ]
    },
    {
        "id": "d68bc0faf7de1bf3",
        "type": "trigger",
        "z": "7fb6d5e7ee213cba",
        "name": "timeout",
        "op1": "",
        "op2": "stop",
        "op1type": "nul",
        "op2type": "str",
        "duration": "90",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1600,
        "y": 580,
        "wires": [
            [
                "9ed873756f742729"
            ]
        ]
    },
    {
        "id": "9ed873756f742729",
        "type": "link out",
        "z": "7fb6d5e7ee213cba",
        "name": "API response",
        "mode": "link",
        "links": [
            "2f8673198ea7b388",
            "57c23c28cc408927",
            "d18ae3a20c88a57f"
        ],
        "x": 1745,
        "y": 580,
        "wires": []
    },
    {
        "id": "1d552bbeea85726c",
        "type": "json",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1610,
        "y": 520,
        "wires": [
            [
                "482982bdcea31264",
                "b931db845464a9f1"
            ]
        ]
    },
    {
        "id": "482982bdcea31264",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1750,
        "y": 520,
        "wires": [
            [
                "97700cc5342fa981"
            ]
        ]
    },
    {
        "id": "1078f0de28d81610",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "ERROR 504",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ERROR - API request timeout 504",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1750,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "97700cc5342fa981",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "Get Values",
        "func": "var APIresults = global.get('APIresults', 'varstorage') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage');\nvar Allsequences = global.get('Allsequences', 'varstorage');\nvar allIndicators = global.get('allIndicators', 'varstorage');\nvar seqsIndicators = global.get('seqsIndicators');\nvar requestId = global.get('requestId') || 0;\nvar brains = global.get('brains') || 0;\n\n\nvar id,value,interval;\nvar debug;\n\nvar intervalsArr = [];\nvar n = 0;\nfor (var intervals in allIndicators) {\n    intervalsArr[n] = intervals.split(\"_\")[0];\n    n++;\n}\n\n// var APIresults={};\nfor (var msgs in msg.payload){\n// var n=0;\n    var newInterval=intervalsArr[parseInt(msgs)];\n    for (var indicators of msg.payload[msgs].data) {\n        if (indicators.id != undefined || indicators.result.value != undefined){\n            var id = indicators.id;\n            var value = indicators.result.value;\n            APIresults[id] = {};\n            APIresults[id].period = parseInt(id.split(\"-\")[1]);\n            APIresults[id].name = id;\n            APIresults[id].value = parseFloat(value);//.toFixed(4);\n            APIresults[id].interval=newInterval;\n        }\n    }\n}\nmsg.payload = {};\nmsg.payload.method = \"API\";\nmsg.payload.params = {};\nfor (var brain in seqsIndicators){\n    msg.payload.params[brain]={};\n    msg.name = {};\n    for (var ind in APIresults){\n        var name= APIresults[ind].name+\"-\"+APIresults[ind].interval;\n        if (seqsIndicators[brain].hasOwnProperty(name)) {\n            seqsIndicators[brain][name].name = name;\n            seqsIndicators[brain][name].value=APIresults[ind].value;\n        }\n        msg.name[ind]=name;\n    }\n    msg.payload.params[brain] = seqsIndicators[brain];\n}\n\nvar msg1={};\nglobal.set('seqsIndicators', seqsIndicators);\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\nmsg.APIresults = APIresults;\nrequestId++;\nglobal.set('requestId', requestId);\n\nif (brains.APIbrain.enable!=\"OFF\"){\n    msg1.payload={};\n    msg1.payload.method = \"API\";\n    msg1.payload=seqsIndicators.APIbrain;\n    msg.payload.params.APIbrain= seqsIndicators.APIbrain;\n    return [msg,msg1]\n} else return [msg,null];\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1910,
        "y": 520,
        "wires": [
            [
                "5b412ce2cf26a6cb"
            ],
            [
                "f403999d409dd72f"
            ]
        ]
    },
    {
        "id": "eeb2fcaee497f5ae",
        "type": "mqtt out",
        "z": "7fb6d5e7ee213cba",
        "name": "BRAIN 3",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 2420,
        "y": 520,
        "wires": []
    },
    {
        "id": "5b412ce2cf26a6cb",
        "type": "trigger",
        "z": "7fb6d5e7ee213cba",
        "name": "60s",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "60",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "stop",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2210,
        "y": 520,
        "wires": [
            [
                "eeb2fcaee497f5ae",
                "01aa30db93b73df0"
            ]
        ]
    },
    {
        "id": "092642e0eee31acc",
        "type": "link out",
        "z": "7fb6d5e7ee213cba",
        "name": "API OUT",
        "mode": "link",
        "links": [
            "2fbe55c8f5c8ee2b"
        ],
        "x": 2395,
        "y": 440,
        "wires": []
    },
    {
        "id": "c6b273a3b1ac7f3b",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "LED",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "sent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2570,
        "y": 360,
        "wires": [
            [
                "05fdac099c4dabc6"
            ]
        ]
    },
    {
        "id": "05fdac099c4dabc6",
        "type": "link out",
        "z": "7fb6d5e7ee213cba",
        "name": "sent OUT",
        "mode": "link",
        "links": [
            "0ff8d666ac2b53cb",
            "7d810d831b0b7af0"
        ],
        "x": 2665,
        "y": 360,
        "wires": []
    },
    {
        "id": "b931db845464a9f1",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "LED",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "request",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1770,
        "y": 460,
        "wires": [
            [
                "bc317edf51b9be8d"
            ]
        ]
    },
    {
        "id": "bc317edf51b9be8d",
        "type": "link out",
        "z": "7fb6d5e7ee213cba",
        "name": "request OUT",
        "mode": "link",
        "links": [
            "0ff8d666ac2b53cb",
            "7d810d831b0b7af0"
        ],
        "x": 1865,
        "y": 460,
        "wires": []
    },
    {
        "id": "7d810d831b0b7af0",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "LED TB",
        "links": [
            "05fdac099c4dabc6",
            "bc317edf51b9be8d"
        ],
        "x": 2105,
        "y": 760,
        "wires": [
            [
                "887d17af45f662ff"
            ]
        ]
    },
    {
        "id": "887d17af45f662ff",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\nvar params=msg.payload;\n\nmsg.payload={};\nmsg.payload.params={};\n\nmsg.payload.method=\"API_LED\";\nif (params == 'request') msg.payload.params.request = true;\nif (params == 'sent') msg.payload.params.sent = true;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2240,
        "y": 760,
        "wires": [
            [
                "577f75c5b90bad3b",
                "67c86da70e69f94a",
                "4385a8993ad5506f"
            ]
        ]
    },
    {
        "id": "577f75c5b90bad3b",
        "type": "mqtt out",
        "z": "7fb6d5e7ee213cba",
        "name": "API BRAIN",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 2750,
        "y": 760,
        "wires": []
    },
    {
        "id": "67c86da70e69f94a",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 149",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2430,
        "y": 860,
        "wires": []
    },
    {
        "id": "65d3a832bc6654ba",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "brains.undefined",
                "pt": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "f47604acecb957db",
        "type": "inject",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 800,
        "y": 1000,
        "wires": [
            [
                "65d3a832bc6654ba"
            ]
        ]
    },
    {
        "id": "cda5f69cfd25402c",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 153",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 940,
        "wires": []
    },
    {
        "id": "8388431259017ce0",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "Request to brain OUT",
        "links": [
            "f179e7c638d0c258"
        ],
        "x": 2125,
        "y": 460,
        "wires": [
            [
                "5b412ce2cf26a6cb"
            ]
        ]
    },
    {
        "id": "4385a8993ad5506f",
        "type": "trigger",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "2",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2400,
        "y": 680,
        "wires": [
            [
                "f350d351cfc4096f"
            ]
        ]
    },
    {
        "id": "f350d351cfc4096f",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\nvar params=Object.keys(msg.payload.params)[0];\n\nmsg.payload={};\nmsg.payload.params={};\n\nmsg.payload.method=\"API_LED\";\nif (params == \"request\") msg.payload.params.request = false;\nif (params == \"sent\") msg.payload.params.sent = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2580,
        "y": 680,
        "wires": [
            [
                "577f75c5b90bad3b",
                "437c213cad08afee"
            ]
        ]
    },
    {
        "id": "437c213cad08afee",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 157",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2770,
        "y": 640,
        "wires": []
    },
    {
        "id": "29d0e44a782b57f6",
        "type": "config",
        "z": "7fb6d5e7ee213cba",
        "name": "brains",
        "properties": [
            {
                "p": "brains",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "active": false,
        "x": 350,
        "y": 1180,
        "wires": []
    },
    {
        "id": "b3c46cbe1d8db643",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "Get Values",
        "func": "// var APIreceived = global.get('APIreceived', 'varstorage') || {};\nvar Allconfig3 = global.get('Allconfig3', 'varstorage');\nvar Allsequences = global.get('Allsequences', 'varstorage');\nvar allnames = global.get('allnames', 'varstorage');\n\nvar id,value,interval;\nvar msg3={};\nmsg3.payload={};\n\nvar APIreceived={};\nAPIreceived=msg.payload;\n\n\nif (JSON.stringify(APIreceived)!='{}'){\n    var SEQresults = {};\n    var TRENDresults = {};\n\n    for (var trades in Allconfig3.trades){\n        SEQresults[trades] = {};\n        for (var seqs in Allconfig3.trades[trades].seqs) {\n            SEQresults[trades][seqs]={};\n            for (var pos in Allconfig3.trades[trades].seqs[seqs].positions) {\n                if (Allconfig3.trades[trades].seqs[seqs].positions[pos].enable === true && Allconfig3.trades[trades].enable === true) {\n                    var newValue;\n                    var period = Allconfig3.trades[trades].seqs[seqs].positions[pos].period;\n                    var name = Allconfig3.trades[trades].seqs[seqs].positions[pos].name;\n                    var interval = Allconfig3.trades[trades].seqs[seqs].positions[pos].interval;\n                    var oldValue = (Allconfig3.trades[trades].seqs[seqs].positions[pos].hasOwnProperty('value')) ? Allconfig3.trades[trades].seqs[seqs].positions[pos].value:0;\n                    \n                    var newValue = (APIreceived[name].name == name) ? APIreceived[name].value : oldValue;\n                    \n                    \n                    // if (oldValue == newValue || oldValue==0){\n                    //     if (Allconfig3.trades[trades].seqs[seqs].enable == true) {\n                    //         Allconfig3.trades[trades].seqs[seqs].positions[pos].update = false;\n                    //         if (!msg3.payload.hasOwnProperty(trades)) msg3.payload[trades] = {};\n                    //         if (!msg3.payload[trades].hasOwnProperty(pos)) msg3.payload[trades][pos] = {};\n                    //         msg3.payload[trades][pos].update = false;\n                    //         msg3.payload[trades][pos].newValue = newValue;\n                    //         msg3.payload[trades][pos].oldValue = oldValue;\n                    //     }\n                    // } else {\n                    //     Allconfig3.trades[trades].seqs[seqs].positions[pos].value = newValue;\n\n                    //     Allconfig3.trades[trades].seqs[seqs].positions[pos].update = true;\n                    //     if (!msg3.payload.hasOwnProperty(trades)) msg3.payload[trades] = {};\n                    //     if (!msg3.payload[trades].hasOwnProperty(pos)) msg3.payload[trades][pos] = {};\n                    //     msg3.payload[trades][pos].update = true;\n                    //     msg3.payload[trades][pos].newValue = newValue;\n                    //     msg3.payload[trades][pos].oldValue = oldValue;\n                    // }\n                    Allconfig3.trades[trades].seqs[seqs].positions[pos].value = newValue;\n                    SEQresults[trades][seqs][name]={};\n                    SEQresults[trades][seqs][name].value = newValue;\n                    SEQresults[trades][seqs][name].interval = interval;\n                    SEQresults[trades][seqs][name].period = period;\n                }\n            }\n        }\n    }\n    \n    for (var trends in Allconfig3.trend){\n        if (trends.charAt(0)=='t'){\n            var periodT = Allconfig3.trend[trends].period;\n            var nameT = Allconfig3.trend[trends].name;\n            var intervalT = Allconfig3.trend[trends].interval;\n            var oldValueT = (Allconfig3.trend[trends].hasOwnProperty('value')) ? Allconfig3.trend[trends].value : 0;\n\n            var newValueT = (APIreceived[nameT].name== nameT) ? APIreceived[nameT].value : oldValueT;\n\n            // if (newValueT == oldValueT || oldValueT==0) {\n            //     Allconfig3.trend[trends].update = false;\n            //     if (!msg3.payload.hasOwnProperty(trends)) msg3.payload[trends] = {};\n            //     msg3.payload[trends].update = false;\n            //     msg3.payload[trends].newValue = newValueT;\n            //     msg3.payload[trends].oldValue = oldValueT;\n            // }else {\n            //     Allconfig3.trend[trends].value = newValueT;\n            //     Allconfig3.trend[trends].update = true;\n            //     if (!msg3.payload.hasOwnProperty(trends)) msg3.payload[trends]= {};\n            //     msg3.payload[trends].update = true;\n            //     msg3.payload[trends].newValue = newValueT;\n            //     msg3.payload[trends].oldValue = oldValueT;\n            // }\n            Allconfig3.trend[trends].value = newValueT;\n            // msg3.payload.name= nameT;\n            // msg3.payload.API=APIreceived[nameT].name;\n            if (APIreceived[nameT].name==nameT){\n                \n                // Allconfig3.trend[trends].update = true; \n                Allconfig3.trend[trends].value=APIreceived[nameT].value;\n                if (trends == \"t1\" || trends == \"t2\") {\n                    if (!TRENDresults.hasOwnProperty(\"trend1\")) TRENDresults.trend1 = {};\n                    var tr1 = (trends == \"t1\")?\"A\":\"B\";\n                    TRENDresults.trend1[tr1] = {};\n                    TRENDresults.trend1[tr1].value = APIreceived[nameT].value;\n                    TRENDresults.trend1[tr1].period = Allconfig3.trend[trends].period;\n                }\n                if (trends == \"t3\" || trends == \"t4\") {\n                    if (!TRENDresults.hasOwnProperty(\"trend2\")) TRENDresults.trend2 = {};\n                    var tr2 = (trends == \"t3\") ? \"A\" : \"B\";\n                    TRENDresults.trend2[tr2] = {};\n                    TRENDresults.trend2[tr2].value = APIreceived[nameT].value;\n                    TRENDresults.trend2[tr2].period = Allconfig3.trend[trends].period;\n                }\n\n            }else{\n                // Allconfig3.trend[trends].update = false; \n                // msg3.payload=msg3.payload+ \" name: \"+nameT+\" not updated. \"\n            } \n        }\n    }\n    global.set('Allconfig3', Allconfig3, 'varstorage');\n    // global.set('APIreceived', APIreceived, 'varstorage');\n    // global.set('TRENDresults', TRENDresults, 'varstorage');\n    // global.set('SEQresults', SEQresults, 'varstorage');\n    \n    msg.payload = SEQresults;\n    var msg1 = {};\n    msg1.payload = TRENDresults;\n    var msg2={};\n    msg2.payload = Allconfig3;\n\n    global.set('results',{});\n\n    return [msg1,msg2,msg,msg3];\n} //else return null;\n//else {\n        \n//         global.set('APIreceived', APIreceived, 'varstorage');\n// }",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 1500,
        "wires": [
            [
                "482fd4ed02da8e26"
            ],
            [
                "9180a918ed4ff886"
            ],
            [
                "cd38c578573479b4",
                "e31508c648deb1fe"
            ],
            [
                "b94a96b31852ef13"
            ]
        ]
    },
    {
        "id": "482fd4ed02da8e26",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "trends",
        "func": "var Allconfig3 = global.get('Allconfig3', 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\n\nvar msg1={};\nvar msg2={};\n\nvar indicatorArr = [];\nvar icon = {};\n\nicon={};\nvar status=1;\nfor (var t in msg.payload) {\n    var n = 0;\n    for (var indicators in msg.payload[t]) {\n        indicatorArr[n] = msg.payload[t][indicators].value;\n        n++;\n    }\n    if (indicatorArr[0]<indicatorArr[1]) {\n        // icon[t] =\"fa-caret-square-o-down fa-3x\";\n        Allconfig3.trend['status' + status]=\"DOWN\";\n        // return [null,msg];\n    }else if (indicatorArr[0]>indicatorArr[1]){\n        // icon[t]=\"fa-caret-square-o-up fa-3x\";\n        Allconfig3.trend['status' + status] = \"UP\";\n        // return [msg,null];\n    }else{\n        // icon[t] = \"fa-minus-square fa-3x\";\n        Allconfig3.trend['status' + status] = \"EQUAL\";\n    }\n    status++;\n};\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\n\nmsg.payload={};\nmsg.payload.method=\"trends\";\nmsg.payload.params={};\nmsg.payload.params.trend1 = Allconfig3.trend['status1'];\nmsg.payload.params.trend2 = Allconfig3.trend['status2'];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 1440,
        "wires": [
            [
                "d89c88cb3cb947e9",
                "ea91f80a967a9af0"
            ]
        ]
    },
    {
        "id": "9180a918ed4ff886",
        "type": "mqtt out",
        "z": "7fb6d5e7ee213cba",
        "name": "Telemetry OUT",
        "topic": "v1/devices/me/telemetry",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 920,
        "y": 1520,
        "wires": []
    },
    {
        "id": "cd38c578573479b4",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 890,
        "y": 1640,
        "wires": [
            [
                "32be30884be5e01b"
            ]
        ]
    },
    {
        "id": "22f4681a06f821bd",
        "type": "delay",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": ".5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1330,
        "y": 2320,
        "wires": [
            []
        ]
    },
    {
        "id": "c51c97cc944966d2",
        "type": "trigger",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "140",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "start",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1930,
        "y": 2320,
        "wires": [
            []
        ]
    },
    {
        "id": "608cd6a042889744",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "start again",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 2320,
        "wires": [
            [
                "c51c97cc944966d2"
            ]
        ]
    },
    {
        "id": "8e9856b176410208",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "Brains data",
        "func": "var brains = global.get('brains') || {};\nvar Allconfig3 = global.get('Allconfig3', 'varstorage',) || {};\n\n\nvar method = msg.payload.method;\nif (brains.APIbrain.enable != \"OFF\") {\n    if (method == \"LOAD\") {\n        Allconfig3 = msg.payload.params;\n        global.set('Allconfig3', Allconfig3, 'varstorage');\n        msg.payload = Allconfig3;\n        global.set('Allconfig3', Allconfig3, 'varstorage');\n        return [msg, null];\n    }\n    else if (method == 'API') {\n        // global.set('APIreveived', msg.payload.params.brain1, 'varstorage');\n        // msg.payload = msg.payload;\n        return [null, msg];\n    }\n} else return null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1300,
        "wires": [
            [
                "ddde2d1f66fd84b3"
            ],
            [
                "b3c46cbe1d8db643",
                "238b78d8e2833733"
            ]
        ]
    },
    {
        "id": "238b78d8e2833733",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 165",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 1300,
        "wires": []
    },
    {
        "id": "b94a96b31852ef13",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 166",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 1760,
        "wires": []
    },
    {
        "id": "f13862d719123a66",
        "type": "switch",
        "z": "7fb6d5e7ee213cba",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 1620,
        "wires": [
            [
                "05d05112b08692c5",
                "1a45574d7d074c60"
            ],
            [
                "652cd6bca16d505e",
                "aac895acee873ac1"
            ]
        ]
    },
    {
        "id": "d89c88cb3cb947e9",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 167",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 1460,
        "wires": []
    },
    {
        "id": "694ed38c5fdc5654",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1370,
        "y": 1620,
        "wires": [
            [
                "f13862d719123a66"
            ]
        ]
    },
    {
        "id": "32be30884be5e01b",
        "type": "switch",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "extreme",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "neutral",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "weak",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 970,
        "y": 1800,
        "wires": [
            [
                "c9595278f53ed4d6"
            ],
            [
                "1e660ac353fc5191"
            ],
            [
                "335a51f079b98614"
            ]
        ]
    },
    {
        "id": "4f9296c6062d65be",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1560,
        "wires": [
            [
                "f9eab4fc69de269f"
            ]
        ]
    },
    {
        "id": "8b217a52b7ca8ce9",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1600,
        "wires": [
            [
                "9b4a684dce307119"
            ]
        ]
    },
    {
        "id": "c9595278f53ed4d6",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "Extreme",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 1620,
        "wires": [
            [
                "694ed38c5fdc5654"
            ]
        ]
    },
    {
        "id": "34762bb874155c18",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1560,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "f229e6cf2776a5f6",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1600,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "c3edd5763a3983b2",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1660,
        "wires": [
            [
                "78ef8565b56cad99"
            ]
        ]
    },
    {
        "id": "e880fbbd71a5a79b",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1700,
        "wires": [
            [
                "3d5847f994dd1682"
            ]
        ]
    },
    {
        "id": "13385deecec4a0bd",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1660,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "5fc6b6cf7f358524",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1700,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "59d2090749c248d2",
        "type": "switch",
        "z": "7fb6d5e7ee213cba",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 1820,
        "wires": [
            [
                "8495093fc07cbf7d",
                "fbf4acc82d61cbc0"
            ],
            [
                "d8aa3ce455005184",
                "02945f8345bbb332"
            ]
        ]
    },
    {
        "id": "8e417a63e01f200e",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1370,
        "y": 1820,
        "wires": [
            [
                "59d2090749c248d2"
            ]
        ]
    },
    {
        "id": "c7b7abc27e757aa9",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1760,
        "wires": [
            [
                "7296e56660296853"
            ]
        ]
    },
    {
        "id": "774446105b88f52c",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1800,
        "wires": [
            [
                "1f40effd477b9163"
            ]
        ]
    },
    {
        "id": "1e660ac353fc5191",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "Neutral",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 1820,
        "wires": [
            [
                "8e417a63e01f200e"
            ]
        ]
    },
    {
        "id": "993d4c01cc6491df",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1760,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "2c627e6251ad0f75",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1800,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "2ff1af678f7fa0a8",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1860,
        "wires": [
            [
                "fe0a43a15255a3f4"
            ]
        ]
    },
    {
        "id": "232a24643e438463",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1900,
        "wires": [
            [
                "ef17150346407ba1"
            ]
        ]
    },
    {
        "id": "376edc050d75ac69",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1860,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "8b1c6daa59015752",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1900,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "a36ccf785e52b53e",
        "type": "switch",
        "z": "7fb6d5e7ee213cba",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 2020,
        "wires": [
            [
                "051ef57a095cc37f",
                "dca6276a7d1947cc"
            ],
            [
                "80573ca32deb5ce4",
                "d83c39d3a962a386"
            ]
        ]
    },
    {
        "id": "f00513bfa5fa678b",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1370,
        "y": 2020,
        "wires": [
            [
                "a36ccf785e52b53e"
            ]
        ]
    },
    {
        "id": "f77a8eed8f463479",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 1960,
        "wires": [
            [
                "e6f839ebda176fa8"
            ]
        ]
    },
    {
        "id": "c608d8931cfb25ce",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 2000,
        "wires": [
            [
                "397c0945ed9c7258"
            ]
        ]
    },
    {
        "id": "335a51f079b98614",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "Weak",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 2020,
        "wires": [
            [
                "f00513bfa5fa678b"
            ]
        ]
    },
    {
        "id": "f39540d6a013c506",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1960,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "0c2b8554e4a16081",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 2000,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "a33558b3eff07ef8",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 2060,
        "wires": [
            [
                "04b43d672863f170"
            ]
        ]
    },
    {
        "id": "cf109ebd8f84f6a0",
        "type": "sort",
        "z": "7fb6d5e7ee213cba",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 1870,
        "y": 2100,
        "wires": [
            [
                "f1f40eeb7ba10e51"
            ]
        ]
    },
    {
        "id": "94daf1dd7d7bf130",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 2060,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "958d39db9c375062",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 2100,
        "wires": [
            [
                "f785e0c3e24b6395"
            ]
        ]
    },
    {
        "id": "f785e0c3e24b6395",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "COMPARE",
        "func": "var Allconfig3 = global.get('Allconfig3', 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\nvar results = global.get('results') || {};\n\nvar seq = msg.topic;\nvar tradeType = msg.tradeType;\nvar trade = msg.trade;\n\n\n\nvar msg1 = {};\n\nvar indicatorArr = [];\nvar n = 0;\nfor (var indicators in msg.payload) {\n    indicatorArr[n] = indicators;\n    n++;\n}\nvar result = indicatorArr.toString();\n// results = {};\nif (!results.hasOwnProperty(tradeType)) results[tradeType] = {};\nif (!results[tradeType].hasOwnProperty(trade)) results[tradeType][trade] = {};\nif (!results[tradeType][trade].hasOwnProperty(seq)) results[tradeType][trade][seq]={};\nresults[tradeType][trade][seq].string = result;\n\n\nmsg.topic = seq + \"-\" + tradeType + \"-\" + trade;\n\nif (Allconfig3.trades[tradeType].seqs[seq].string == result) results[tradeType][trade][seq].compare = true;\nelse results[tradeType][trade][seq].compare = false;\n\nglobal.set('results', results);\nmsg.payload=results;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2370,
        "y": 1820,
        "wires": [
            [
                "394f308a78f6402c"
            ]
        ]
    },
    {
        "id": "394f308a78f6402c",
        "type": "trigger",
        "z": "7fb6d5e7ee213cba",
        "name": "last",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2530,
        "y": 1820,
        "wires": [
            [
                "20dc75a3aafe0d94"
            ]
        ]
    },
    {
        "id": "ea91f80a967a9af0",
        "type": "mqtt out",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0fa44620b240ee1b",
        "x": 1070,
        "y": 1400,
        "wires": []
    },
    {
        "id": "e31508c648deb1fe",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 168",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 1580,
        "wires": []
    },
    {
        "id": "05d05112b08692c5",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1560,
        "wires": [
            [
                "4f9296c6062d65be"
            ]
        ]
    },
    {
        "id": "1a45574d7d074c60",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1600,
        "wires": [
            [
                "8b217a52b7ca8ce9"
            ]
        ]
    },
    {
        "id": "652cd6bca16d505e",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1660,
        "wires": [
            [
                "c3edd5763a3983b2"
            ]
        ]
    },
    {
        "id": "aac895acee873ac1",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1700,
        "wires": [
            [
                "e880fbbd71a5a79b"
            ]
        ]
    },
    {
        "id": "8495093fc07cbf7d",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1760,
        "wires": [
            [
                "c7b7abc27e757aa9"
            ]
        ]
    },
    {
        "id": "fbf4acc82d61cbc0",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1800,
        "wires": [
            [
                "774446105b88f52c"
            ]
        ]
    },
    {
        "id": "d8aa3ce455005184",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1860,
        "wires": [
            [
                "2ff1af678f7fa0a8"
            ]
        ]
    },
    {
        "id": "02945f8345bbb332",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1900,
        "wires": [
            [
                "232a24643e438463"
            ]
        ]
    },
    {
        "id": "051ef57a095cc37f",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 1960,
        "wires": [
            [
                "f77a8eed8f463479"
            ]
        ]
    },
    {
        "id": "dca6276a7d1947cc",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 2000,
        "wires": [
            [
                "c608d8931cfb25ce"
            ]
        ]
    },
    {
        "id": "80573ca32deb5ce4",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 2060,
        "wires": [
            [
                "a33558b3eff07ef8"
            ]
        ]
    },
    {
        "id": "d83c39d3a962a386",
        "type": "split",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1730,
        "y": 2100,
        "wires": [
            [
                "cf109ebd8f84f6a0"
            ]
        ]
    },
    {
        "id": "f9eab4fc69de269f",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1560,
        "wires": [
            [
                "34762bb874155c18"
            ]
        ]
    },
    {
        "id": "9b4a684dce307119",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1600,
        "wires": [
            [
                "f229e6cf2776a5f6"
            ]
        ]
    },
    {
        "id": "78ef8565b56cad99",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1660,
        "wires": [
            [
                "13385deecec4a0bd"
            ]
        ]
    },
    {
        "id": "3d5847f994dd1682",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1700,
        "wires": [
            [
                "5fc6b6cf7f358524"
            ]
        ]
    },
    {
        "id": "7296e56660296853",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1760,
        "wires": [
            [
                "993d4c01cc6491df"
            ]
        ]
    },
    {
        "id": "1f40effd477b9163",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1800,
        "wires": [
            [
                "2c627e6251ad0f75"
            ]
        ]
    },
    {
        "id": "fe0a43a15255a3f4",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1860,
        "wires": [
            [
                "376edc050d75ac69"
            ]
        ]
    },
    {
        "id": "ef17150346407ba1",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1900,
        "wires": [
            [
                "8b1c6daa59015752"
            ]
        ]
    },
    {
        "id": "e6f839ebda176fa8",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 1960,
        "wires": [
            [
                "f39540d6a013c506"
            ]
        ]
    },
    {
        "id": "397c0945ed9c7258",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 2000,
        "wires": [
            [
                "0c2b8554e4a16081"
            ]
        ]
    },
    {
        "id": "04b43d672863f170",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 2060,
        "wires": [
            [
                "94daf1dd7d7bf130"
            ]
        ]
    },
    {
        "id": "f1f40eeb7ba10e51",
        "type": "join",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2010,
        "y": 2100,
        "wires": [
            [
                "958d39db9c375062"
            ]
        ]
    },
    {
        "id": "01aa30db93b73df0",
        "type": "delay",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2420,
        "y": 360,
        "wires": [
            [
                "c6b273a3b1ac7f3b"
            ]
        ]
    },
    {
        "id": "e6ce373359288149",
        "type": "mqtt out",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 3410,
        "y": 1820,
        "wires": []
    },
    {
        "id": "27721dfab2ae60f9",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "BINGO",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3320,
        "y": 1720,
        "wires": [],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "20dc75a3aafe0d94",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "COMPARE",
        "func": "var results = global.get('results') || {};\nvar requestId = global.get('requestId') || {};\nvar Allconfig3 = global.get('Allconfig3', 'varstorage') || {};\n\nvar status1 = Allconfig3.trend.status1;\nvar status2 = Allconfig3.trend.status2;\n\nvar trend;\n\nif (status1 == 'UP' && status2 == 'UP') trend = 'UP';\nif (status1 == 'DOWN' && status2 == 'DOWN') trend = 'DOWN';\nif ((status1 == 'UP' && status2 == 'DOWN') || (status2 == 'UP' && status1 == 'DOWN')) trend = 'NEUTRAL';\n\nvar bingo=false;\n\nfor (var tradeType in results){\n    for (var trade in results[tradeType]){\n        if (results[tradeType][trade].s1.compare==true){\n            if (results[tradeType][trade].hasOwnProperty('s2')){\n                if (results[tradeType][trade].s2.compare== true) bingo=true;\n                else bingo = false;\n            } bingo = true;\n        } else bingo = false;\n    }\n    if (((trade == 'buy' && tradeType == 'weak' && trend == 'DOWN') ||\n    (trade == 'buy' && tradeType == 'extreme' && trend == 'UP') ||\n    (trade == 'buy' && tradeType == 'neutral' && trend == 'NEUTRAL') ||\n    (trade == 'sell' && tradeType == 'weak' && trend == 'UP') ||\n    (trade == 'sell' && tradeType == 'extreme' && trend == 'DOWN') ||\n    (trade == 'sell' && tradeType == 'neutral' && trend == 'NEUTRAL')) && bingo==true) {\n        msg.payload = {};\n        msg.payload.method = \"tradePrep\";\n        msg.payload.params = {};\n        msg.payload.params['tradeSizePC'] = Allconfig3.trades[tradeType]['PC-tradeSize']\n        msg.payload.params['stopLossPC'] = Allconfig3.trades[tradeType]['PC-stopLoss']\n        msg.payload.params['takeProfitPC'] = Allconfig3.trades[tradeType]['PC-takeProfit']\n\n        msg.payload.params.leverage = Allconfig3.trades[tradeType].leverage;\n        msg.payload.params.trade = trade;\n        msg.payload.params.tradeType = tradeType;\n\n        requestId++;\n        msg.debug = \"BINGO!! - \"+msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade ;\n        global.set('requestId', requestId);\n        msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n        return [msg,null];  \n    } \n}\nmsg.debug = \" :( no luck... - \"+msg.payload.method + \" - trade: \" + trade;\nreturn [null,msg];\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2710,
        "y": 1820,
        "wires": [
            [
                "e6ce373359288149",
                "260efc3a8b8f4660",
                "fb74429598b8c518",
                "43b6ec6fb4350308"
            ],
            [
                "a3b1daabd766615a",
                "36f08f82bc0f3aa4"
            ]
        ]
    },
    {
        "id": "fb74429598b8c518",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "DEBUG",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "debug",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3580,
        "y": 1820,
        "wires": []
    },
    {
        "id": "43b6ec6fb4350308",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"bingo\";\nmsg.payload.params = true;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1720,
        "wires": [
            [
                "76f7baed69c413e9",
                "27721dfab2ae60f9"
            ]
        ]
    },
    {
        "id": "76f7baed69c413e9",
        "type": "mqtt out",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 3310,
        "y": 1780,
        "wires": []
    },
    {
        "id": "4250611f325c7abc",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"bingo\";\nmsg.payload.params = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3120,
        "y": 1780,
        "wires": [
            [
                "76f7baed69c413e9",
                "27721dfab2ae60f9"
            ]
        ]
    },
    {
        "id": "260efc3a8b8f4660",
        "type": "delay",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2960,
        "y": 1780,
        "wires": [
            [
                "4250611f325c7abc"
            ]
        ]
    },
    {
        "id": "a3b1daabd766615a",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"brainCheck\";\nmsg.payload.params = true;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1900,
        "wires": [
            [
                "9f870de155e922e7",
                "6ed436a3630d019e"
            ]
        ]
    },
    {
        "id": "9f870de155e922e7",
        "type": "mqtt out",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "722e0f45b695f883",
        "x": 3290,
        "y": 1960,
        "wires": []
    },
    {
        "id": "b1b33584f98ea02b",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"brainCheck\";\nmsg.payload.params = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3100,
        "y": 1960,
        "wires": [
            [
                "9f870de155e922e7",
                "6ed436a3630d019e"
            ]
        ]
    },
    {
        "id": "36f08f82bc0f3aa4",
        "type": "delay",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2940,
        "y": 1960,
        "wires": [
            [
                "b1b33584f98ea02b"
            ]
        ]
    },
    {
        "id": "6ed436a3630d019e",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 172",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3310,
        "y": 1900,
        "wires": []
    },
    {
        "id": "dfe0640280f3dc25",
        "type": "function",
        "z": "7fb6d5e7ee213cba",
        "name": "test",
        "func": "var requestId = global.get('requestId') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nmsg.payload = {};\nmsg.payload.method = \"tradePrep\";\nmsg.payload.params = {};\nmsg.payload.params['tradeSizePC'] = Allconfig.trades['extreme']['PC-tradeSize']\nmsg.payload.params['stopLossPC'] = Allconfig.trades['extreme']['PC-stopLoss']\nmsg.payload.params['takeProfitPC'] = Allconfig.trades['extreme']['PC-takeProfit']\n\nmsg.payload.params.leverage = Allconfig.trades['extreme'].leverage;\nmsg.payload.params.trade = \"buy\";\nmsg.payload.params.tradeType = 'extreme';\n\nrequestId++;\n// msg.debug = \"BINGO!! - \" + msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade;\nglobal.set('requestId', requestId);\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\nreturn msg;  \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2930,
        "y": 2220,
        "wires": [
            []
        ]
    },
    {
        "id": "29774f50707e89b5",
        "type": "inject",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2680,
        "y": 2220,
        "wires": [
            [
                "dfe0640280f3dc25"
            ]
        ]
    },
    {
        "id": "f403999d409dd72f",
        "type": "link out",
        "z": "7fb6d5e7ee213cba",
        "name": "API brain3 OUT",
        "mode": "link",
        "links": [
            "4d91727d86ae3ff6"
        ],
        "x": 2075,
        "y": 560,
        "wires": []
    },
    {
        "id": "4d91727d86ae3ff6",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "brain 3 API in",
        "links": [
            "c931401485bcbaef",
            "f403999d409dd72f"
        ],
        "x": 255,
        "y": 1300,
        "wires": [
            [
                "c9f10807a5b38ce4",
                "8e9856b176410208"
            ]
        ]
    },
    {
        "id": "b60fceb3ec5ccef3",
        "type": "inject",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2140,
        "y": 960,
        "wires": [
            [
                "9ddf392334f6d5e6"
            ]
        ]
    },
    {
        "id": "9ddf392334f6d5e6",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "brains.brain3",
                "pt": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2460,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "4ac7b5e027b633c6",
        "type": "config",
        "z": "7fb6d5e7ee213cba",
        "name": "brains",
        "properties": [
            {
                "p": "Allconfig3",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "active": false,
        "x": 650,
        "y": 1220,
        "wires": []
    },
    {
        "id": "511e4ad3642f7fa3",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "RESET QUEUE IN",
        "links": [
            "f179e7c638d0c258"
        ],
        "x": 135,
        "y": 580,
        "wires": [
            [
                "573548fc9510d699"
            ]
        ]
    },
    {
        "id": "573548fc9510d699",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 580,
        "wires": [
            [
                "724beeb61729e133"
            ]
        ]
    },
    {
        "id": "ddde2d1f66fd84b3",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 185",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 1260,
        "wires": []
    },
    {
        "id": "c9f10807a5b38ce4",
        "type": "debug",
        "z": "7fb6d5e7ee213cba",
        "name": "debug 186",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 1260,
        "wires": []
    },
    {
        "id": "4f7afcf00b9b060f",
        "type": "link in",
        "z": "7fb6d5e7ee213cba",
        "name": "RESET QUEUE IN",
        "links": [
            "f179e7c638d0c258"
        ],
        "x": 1245,
        "y": 620,
        "wires": [
            [
                "f920f8f13fcd353a"
            ]
        ]
    },
    {
        "id": "f920f8f13fcd353a",
        "type": "change",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 620,
        "wires": [
            [
                "d68bc0faf7de1bf3"
            ]
        ]
    },
    {
        "id": "92a2a32e0cf7d27f",
        "type": "trigger",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 320,
        "y": 440,
        "wires": [
            [
                "724beeb61729e133"
            ]
        ]
    },
    {
        "id": "3fa443e4bf7e81ec",
        "type": "ui_text",
        "z": "7fb6d5e7ee213cba",
        "group": "4f19c8f4c8df9ba0",
        "order": 18,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "NO messages",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1540,
        "y": 820,
        "wires": []
    },
    {
        "id": "f6fb22e8973a94de",
        "type": "switch",
        "z": "7fb6d5e7ee213cba",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "bad",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1430,
        "y": 520,
        "wires": [
            [],
            [
                "1d552bbeea85726c",
                "d68bc0faf7de1bf3"
            ]
        ]
    },
    {
        "id": "3084eb923d60df91",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "Get Values",
        "func": "// var APIreceived = global.get('APIreceived', 'varstorage') || {};\nvar brain=msg.brain;\nvar config=msg.allConfig;\n\nvar allConfig = flow.get(config, 'varstorage') || {};\n\nvar id,value,interval;\nvar msg3={};\nmsg3.payload={};\n\nvar msg1={};\n// msg1.allConfig =allConfig;\n\nvar msg2 = {};\n\nvar APIreceived={};\nAPIreceived=msg.payload;\n\n\n if (JSON.stringify(APIreceived)!='{}'){\n    var SEQresults = {};\n    var TRENDresults = {};\n    for (var trades in allConfig.trades){\n        if (allConfig.trades[trades].hasOwnProperty(\"seqs\")) {\n            SEQresults[trades] = {};\n            SEQresults[trades].s1 = \"empty\";\n            SEQresults[trades].s2 = \"empty\";\n            for (var seqs in allConfig.trades[trades].seqs) {\n                if (allConfig.trades[trades].hasOwnProperty(\"seqs\")){\n                    SEQresults[trades][seqs]={};\n                    for (var pos in allConfig.trades[trades].seqs[seqs].positions) {\n                        if (allConfig.trades[trades].enable === true) {\n                            // var newValue;\n                            var period = allConfig.trades[trades].seqs[seqs].positions[pos].period;\n                            var name = allConfig.trades[trades].seqs[seqs].positions[pos].name;\n                            var interval = allConfig.trades[trades].seqs[seqs].positions[pos].interval;\n                            // var oldValue = (allConfig.trades[trades].seqs[seqs].positions[pos].hasOwnProperty('value')) ? allConfig.trades[trades].seqs[seqs].positions[pos].value : 0;\n                            // var oldValue=0;\n                            var newValue = APIreceived[name].value;\n                            \n                            allConfig.trades[trades].seqs[seqs].positions[pos].value = newValue;\n                            SEQresults[trades][seqs][name]={};\n                            SEQresults[trades][seqs][name].value = newValue;\n                            SEQresults[trades][seqs][name].interval = interval;\n                            SEQresults[trades][seqs][name].period = period;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    for (var trends in allConfig.trend){\n        if (trends.charAt(0)=='t'){\n            var periodT = allConfig.trend[trends].period;\n            var nameT = allConfig.trend[trends].name;\n            var intervalT = allConfig.trend[trends].interval;\n            var oldValueT = (allConfig.trend[trends].hasOwnProperty('value')) ? allConfig.trend[trends].value : 0;\n\n            var newValueT = (APIreceived[nameT].name== nameT) ? APIreceived[nameT].value : oldValueT;\n\n            \n            allConfig.trend[trends].value = newValueT;\n           \n            if (APIreceived[nameT].name==nameT){\n                \n                // allConfig.trend[trends].update = true; \n                allConfig.trend[trends].value=APIreceived[nameT].value;\n                if (trends == \"t1\" || trends == \"t2\") {\n                    if (!TRENDresults.hasOwnProperty(\"trend1\")) TRENDresults.trend1 = {};\n                    var tr1 = (trends == \"t1\")?\"A\":\"B\";\n                    TRENDresults.trend1[tr1] = {};\n                    TRENDresults.trend1[tr1].value = APIreceived[nameT].value;\n                    TRENDresults.trend1[tr1].period = allConfig.trend[trends].period;\n                }\n                if (trends == \"t3\" || trends == \"t4\") {\n                    if (!TRENDresults.hasOwnProperty(\"trend2\")) TRENDresults.trend2 = {};\n                    var tr2 = (trends == \"t3\") ? \"A\" : \"B\";\n                    TRENDresults.trend2[tr2] = {};\n                    TRENDresults.trend2[tr2].value = APIreceived[nameT].value;\n                    TRENDresults.trend2[tr2].period = allConfig.trend[trends].period;\n                }\n\n            }else{\n                // allConfig.trend[trends].update = false; \n                // msg3.payload=msg3.payload+ \" name: \"+nameT+\" not updated. \"\n            } \n        }\n    }\n    flow.set(config, allConfig, 'varstorage');\n    // global.set('APIreceived', APIreceived, 'varstorage');\n    global.set(\"TRENDresults\"+brain, TRENDresults, 'varstorage');\n    global.set(\"SEQresults\"+brain, SEQresults, 'varstorage');\n    \n    msg.payload = SEQresults;\n    msg1.payload = TRENDresults;\n    msg1.topic=\"trends\";\n    msg1.allConfig=msg.allConfig;\n    \n    \n    msg2.payload = allConfig;\n\n    global.set('results',{});\n\n    msg3.payload = APIreceived;\n\n    return [msg1,msg2,msg,msg3];\n}\n",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 600,
        "wires": [
            [
                "b0aa610e7db32fee",
                "0117cd87a3cc3163"
            ],
            [
                "a59fb235096d75fa",
                "f72b083c269666d2"
            ],
            [
                "459f1a1b9bd6d369",
                "d660473d28990bbc"
            ],
            [
                "e7ce5028890cc932"
            ]
        ]
    },
    {
        "id": "0117cd87a3cc3163",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "trends",
        "func": "var brain = msg.brain;\nvar config = msg.allConfig;\n\nvar allConfig = flow.get(config, 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\n\n\nvar indicatorArr = [];\nvar icon = {};\nvar status1=\"\";\n\n//// var status1 = allConfig.trend.status1;\nif (allConfig.trend.hasOwnProperty(\"status1\")) status1 = allConfig.trend.status1;\n\n\nvar status=\"\";\nfor (var t in msg.payload) {\n    status = t.slice(-1);\n    var n = 0;\n    for (var indicators in msg.payload[t]) {\n        indicatorArr[n] = msg.payload[t][indicators].value;\n        n++;\n    }\n    if (indicatorArr[0]<indicatorArr[1]) {\n        // icon[t] =\"fa-caret-square-o-down fa-3x\";\n        allConfig.trend['status' + status]=\"DOWN\";\n        // return [null,msg];\n    }else if (indicatorArr[0]>indicatorArr[1]){\n        // icon[t]=\"fa-caret-square-o-up fa-3x\";\n        allConfig.trend['status' + status] = \"UP\";\n        // return [msg,null];\n    }else{\n        // icon[t] = \"fa-minus-square fa-3x\";\n        //allConfig.trend['status' + status] = \"EQUAL\";\n    }\n};\n\nif (status1!=allConfig.trend.status1 && status1 != \"\") allConfig.trend.closeTrades=true;\nelse allConfig.trend.closeTrades = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nflow.set(config, allConfig,'varstorage');\n\nmsg.payload={};\nmsg.payload.method=\"trends\";\nmsg.payload.params={};\nmsg.payload.params.trend1 = allConfig.trend['status1'];\nmsg.payload.params.trend2 = allConfig.trend['status2'];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 540,
        "wires": [
            [
                "9efa19db6a375001"
            ]
        ]
    },
    {
        "id": "a59fb235096d75fa",
        "type": "mqtt out",
        "z": "278c546f71d19ebf",
        "name": "Telemetry OUT",
        "topic": "v1/devices/me/telemetry",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0fa44620b240ee1b",
        "x": 1360,
        "y": 620,
        "wires": []
    },
    {
        "id": "f3eaed5ac895e1d1",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1410,
        "y": 840,
        "wires": [
            [
                "0874f6a72f4b4fbb"
            ]
        ]
    },
    {
        "id": "c7c308c745d047bf",
        "type": "delay",
        "z": "278c546f71d19ebf",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": ".5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1770,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "0e280db37f500272",
        "type": "trigger",
        "z": "278c546f71d19ebf",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "140",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "start",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2370,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "bb7bc66208e38bc3",
        "type": "mqtt out",
        "z": "278c546f71d19ebf",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0fa44620b240ee1b",
        "x": 4150,
        "y": 920,
        "wires": []
    },
    {
        "id": "26203d7791ea6724",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "start again",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2150,
        "y": 1420,
        "wires": [
            [
                "0e280db37f500272"
            ]
        ]
    },
    {
        "id": "8e20f0458b9d26a5",
        "type": "mqtt in",
        "z": "278c546f71d19ebf",
        "name": "Brain1",
        "topic": "v1/devices/me/rpc/request/+",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0fa44620b240ee1b",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 630,
        "y": 400,
        "wires": [
            [
                "6e7a36b1154d746b",
                "15cf0f638cfdb016"
            ]
        ]
    },
    {
        "id": "1624dc2175071511",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "Brains data",
        "func": "var brain=msg.brain;\nvar brains = global.get('brains') || {};\nvar allConfig = flow.get(\"allConfig\"+brain, 'varstorage',) || {};\n\n\nvar method = msg.payload.method;\nif (brains[\"brain\"+brain].enable != \"OFF\") {\n    if (method == \"LOAD\") {\n        flow.set(\"allConfig\"+brain, msg.payload.params, 'varstorage');\n        msg.payload = allConfig;\n        return [msg, null];\n    }\n    else if (method == 'API') {\n        msg.payload = msg.payload.params;\n        return [null, msg];\n    }\n} else return null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 400,
        "wires": [
            [],
            [
                "fe80b2993f858a20",
                "3084eb923d60df91"
            ]
        ]
    },
    {
        "id": "fe80b2993f858a20",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 132",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 400,
        "wires": []
    },
    {
        "id": "e7ce5028890cc932",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 137",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 1160,
        "wires": []
    },
    {
        "id": "a0bfe831cc9f8065",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2110,
        "y": 720,
        "wires": [
            [
                "728fad3a6083415f",
                "bc2e50622f810b49"
            ],
            [
                "f6e4164c8cc5d76f",
                "1055a87136d8300f"
            ]
        ]
    },
    {
        "id": "0685793767ec3dc1",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1810,
        "y": 720,
        "wires": [
            [
                "f3919280f074f0b6"
            ]
        ]
    },
    {
        "id": "0874f6a72f4b4fbb",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "extreme",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "neutral",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "weak",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1410,
        "y": 920,
        "wires": [
            [
                "ee3d9c8fec8db598"
            ],
            [
                "b3985282d1a13acf"
            ],
            [
                "8cebc40a62570824"
            ]
        ]
    },
    {
        "id": "2ea1a53b2462825d",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 660,
        "wires": [
            [
                "60cd69ca562048e5"
            ]
        ]
    },
    {
        "id": "86b6e204fb328fef",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 700,
        "wires": [
            [
                "1a98947c80950abc"
            ]
        ]
    },
    {
        "id": "ee3d9c8fec8db598",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "Extreme",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 720,
        "wires": [
            [
                "0685793767ec3dc1"
            ]
        ]
    },
    {
        "id": "d14640d4661d0a2e",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 660,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "ec6f15152abac60f",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 700,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "6f61e12779ea17de",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 760,
        "wires": [
            [
                "d46524d90871dd10"
            ]
        ]
    },
    {
        "id": "ca191e63a9d5a4b6",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 800,
        "wires": [
            [
                "a4fe5b84ac0eaafc"
            ]
        ]
    },
    {
        "id": "5779ae673c7712df",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 760,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "b4ee09539ea8e4bb",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 800,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "74d50de011799746",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2110,
        "y": 920,
        "wires": [
            [
                "4f13617675d42b8a",
                "dec219bda6fd2fac"
            ],
            [
                "44f73efc56fd0725",
                "946534384c9b836e"
            ]
        ]
    },
    {
        "id": "c080453a9405fe40",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1810,
        "y": 920,
        "wires": [
            [
                "0878da863a7d1309"
            ]
        ]
    },
    {
        "id": "bc2d0da53078b341",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 860,
        "wires": [
            [
                "9f89f4c26fb3fb3d"
            ]
        ]
    },
    {
        "id": "a522d440d6617d2a",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 900,
        "wires": [
            [
                "05cf0296035e9467"
            ]
        ]
    },
    {
        "id": "b3985282d1a13acf",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "Neutral",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 920,
        "wires": [
            [
                "c080453a9405fe40"
            ]
        ]
    },
    {
        "id": "87386bd535c2251e",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 860,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "c138c4c4c006ee36",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 900,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "524f7001a7307e21",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 960,
        "wires": [
            [
                "34ac49dd4b456b43"
            ]
        ]
    },
    {
        "id": "1392242e1698bbb7",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 1000,
        "wires": [
            [
                "f4c23a6aed9ade8c"
            ]
        ]
    },
    {
        "id": "016ed1ec407e275c",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 960,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "38484eca9a0d08b2",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 1000,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "b43fc67886815689",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2110,
        "y": 1120,
        "wires": [
            [
                "925302880c7980e7",
                "e0c1ecc38dbf0856"
            ],
            [
                "80096f0f584ca9e0",
                "a8e8d2878aa1fff8"
            ]
        ]
    },
    {
        "id": "7560b398e8174baf",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1810,
        "y": 1120,
        "wires": [
            [
                "3244f4d89bd113fc"
            ]
        ]
    },
    {
        "id": "288eeaabcb872160",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 1060,
        "wires": [
            [
                "b613ccb9f22ff278"
            ]
        ]
    },
    {
        "id": "23b1c45cba9e354f",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 1100,
        "wires": [
            [
                "405168fd64fcc2e9"
            ]
        ]
    },
    {
        "id": "8cebc40a62570824",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "Weak",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 1120,
        "wires": [
            [
                "7560b398e8174baf"
            ]
        ]
    },
    {
        "id": "53723333d4750c5d",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 1060,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "6d4906cd01ac9725",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 1100,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "17c2fee6ccca6819",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 1160,
        "wires": [
            [
                "6546a8c5c95d7412"
            ]
        ]
    },
    {
        "id": "6b7c01571268e72d",
        "type": "sort",
        "z": "278c546f71d19ebf",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2450,
        "y": 1200,
        "wires": [
            [
                "5b8e2f08570b8071"
            ]
        ]
    },
    {
        "id": "54865b80c6a17289",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 1160,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "6fd9554991a5c8e8",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 1200,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "2d3b6c29497a16ce",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "COMPARE SEQS",
        "func": "var allConfig = global.get(msg.allConfig, 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\n// var results = global.get('results') || {};\n\nvar seq = msg.topic;\nvar tradeType = msg.tradeType;\nvar trade = msg.trade;\n\n\n\nvar msg1 = {};\n\nvar indicatorArr = [];\nvar n = 0;\nfor (var indicators in msg.payload) {\n    indicatorArr[n] = indicators;\n    n++;\n}\nvar result = indicatorArr.toString();\nmsg.results = {};\nmsg.results[tradeType] = {};\nmsg.results[tradeType][trade] = {};\nmsg.results[tradeType][trade][seq]={};\nmsg.results[tradeType][trade][seq].string = result;\n\n\nmsg.topic = seq + \"-\" + tradeType + \"-\" + trade;\n\nif (allConfig.trades[tradeType].seqs[seq].string == result) msg.results[tradeType][trade][seq].compare = true;\nelse msg.results[tradeType][trade][seq].compare = false;\n\n// global.set('results', results);\nmsg.topic=tradeType+\"-\"+trade+\"-\"+seq;\nmsg.payload = msg.results[tradeType][trade][seq].compare;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3050,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "d86fa54eb5ae02e9",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "BINGO",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 4020,
        "y": 800,
        "wires": [],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "eae69d4b0dedbc0b",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "COMPARE STRINGS",
        "func": "// var msg.results = msg.payload;\nvar brain = msg.brain;\nvar requestId = global.get('requestId') || {};\nvar allConfig = flow.get(msg.allConfig, 'varstorage') || {};\n\nvar status1 = allConfig.trend.status1;\nvar status2 = allConfig.trend.status2;\n\nvar trend;\n\nif (status1 == 'UP' && status2 == 'UP') trend = 'UP';\nif (status1 == 'DOWN' && status2 == 'DOWN') trend = 'DOWN';\nif ((status1 == 'UP' && status2 == 'DOWN') || (status2 == 'UP' && status1 == 'DOWN')) trend = 'NEUTRAL';\n\n\nvar bingo = false;\nvar allStrings = msg.payload;\nmsg.payload = {};\n\nif (allConfig.trend.closeTrades === true) {\n    msg.payload.method = \"closeTrades\";\n    msg.payload.params = true;\n    allConfig.trend.stopLoss = false;\n    requestId++;\n    msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n    global.set('requestId', requestId);\n    flow.set(msg.allConfig, allConfig, 'varstorage');\n    msg.debug = \"brain\" + brain + \" - Stop all trades!\";\n    return [msg, null];\n} else {\n\n    var seq = \"\";\n    var tradeType = \"\";\n    var trade = \"\";\n    for (var str in allStrings) {\n\n        seq = str.split(\"_\")[0];\n        tradeType = str.split(\"_\")[1];\n        trade = str.split(\"_\")[2];\n        if (allStrings[str] === true && seq == \"s1\") {\n            if (allStrings[\"s2_\" + tradeType + \"_\" + trade] === true || allStrings[\"s2_\" + tradeType + \"_\" + trade] == \"empty\") bingo = true;\n            // else bingo = false;\n        } //else bingo = false;\n\n\n        if (((trade == 'buy' && tradeType == 'weak' && trend == 'DOWN') ||\n            (trade == 'buy' && tradeType == 'extreme' && trend == 'UP') ||\n            (trade == 'buy' && tradeType == 'neutral' && trend == 'NEUTRAL') ||\n            (trade == 'sell' && tradeType == 'weak' && trend == 'UP') ||\n            (trade == 'sell' && tradeType == 'extreme' && trend == 'DOWN') ||\n            (trade == 'sell' && tradeType == 'neutral' && trend == 'NEUTRAL')) && bingo == true) {\n\n            msg.payload.method = \"tradePrep\";\n            msg.payload.params = {};\n            msg.payload.params['tradeSizePC'] = allConfig.trades[tradeType]['PC-tradeSize']\n            msg.payload.params['stopLossPC'] = allConfig.trades[tradeType]['PC-stopLoss']\n            msg.payload.params['takeProfitPC'] = allConfig.trades[tradeType]['PC-takeProfit']\n\n            msg.payload.params.leverage = allConfig.trades[tradeType].leverage;\n            msg.payload.params.trade = trade;\n            msg.payload.params.tradeType = tradeType;\n\n            requestId++;\n            msg.debug = \"brain\" + brain + \" - BINGO!! - \" + msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade;\n            global.set('requestId', requestId);\n            msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n            return [msg, null];\n        }\n    }\n\n    msg.debug = \"brain\" + brain + \" - :( no luck... - \";\n    return [null, msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3420,
        "y": 920,
        "wires": [
            [
                "3aeadf3ffbcf3edb",
                "9191133fdf67b2de",
                "d4f3eecb41e08330",
                "05788238544f5b30",
                "e054b671d27b0d11"
            ],
            [
                "55001be904f291bb",
                "e287758017d84fd8",
                "9191133fdf67b2de",
                "05788238544f5b30"
            ]
        ]
    },
    {
        "id": "9191133fdf67b2de",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "DEBUG",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "debug",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 4280,
        "y": 920,
        "wires": []
    },
    {
        "id": "9efa19db6a375001",
        "type": "mqtt out",
        "z": "278c546f71d19ebf",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0fa44620b240ee1b",
        "x": 1490,
        "y": 540,
        "wires": []
    },
    {
        "id": "f72b083c269666d2",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 154",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1350,
        "y": 680,
        "wires": []
    },
    {
        "id": "728fad3a6083415f",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 660,
        "wires": [
            [
                "2ea1a53b2462825d"
            ]
        ]
    },
    {
        "id": "bc2e50622f810b49",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 700,
        "wires": [
            [
                "86b6e204fb328fef"
            ]
        ]
    },
    {
        "id": "f6e4164c8cc5d76f",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 760,
        "wires": [
            [
                "6f61e12779ea17de"
            ]
        ]
    },
    {
        "id": "1055a87136d8300f",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 800,
        "wires": [
            [
                "ca191e63a9d5a4b6"
            ]
        ]
    },
    {
        "id": "4f13617675d42b8a",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 860,
        "wires": [
            [
                "bc2d0da53078b341"
            ]
        ]
    },
    {
        "id": "dec219bda6fd2fac",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 900,
        "wires": [
            [
                "a522d440d6617d2a"
            ]
        ]
    },
    {
        "id": "44f73efc56fd0725",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 960,
        "wires": [
            [
                "524f7001a7307e21"
            ]
        ]
    },
    {
        "id": "946534384c9b836e",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 1000,
        "wires": [
            [
                "1392242e1698bbb7"
            ]
        ]
    },
    {
        "id": "925302880c7980e7",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 1060,
        "wires": [
            [
                "288eeaabcb872160"
            ]
        ]
    },
    {
        "id": "e0c1ecc38dbf0856",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 1100,
        "wires": [
            [
                "23b1c45cba9e354f"
            ]
        ]
    },
    {
        "id": "80096f0f584ca9e0",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 1160,
        "wires": [
            [
                "17c2fee6ccca6819"
            ]
        ]
    },
    {
        "id": "a8e8d2878aa1fff8",
        "type": "split",
        "z": "278c546f71d19ebf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2310,
        "y": 1200,
        "wires": [
            [
                "6b7c01571268e72d"
            ]
        ]
    },
    {
        "id": "60cd69ca562048e5",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2590,
        "y": 660,
        "wires": [
            [
                "d14640d4661d0a2e"
            ]
        ]
    },
    {
        "id": "1a98947c80950abc",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 700,
        "wires": [
            [
                "ec6f15152abac60f"
            ]
        ]
    },
    {
        "id": "d46524d90871dd10",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 760,
        "wires": [
            [
                "5779ae673c7712df"
            ]
        ]
    },
    {
        "id": "a4fe5b84ac0eaafc",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 800,
        "wires": [
            [
                "b4ee09539ea8e4bb"
            ]
        ]
    },
    {
        "id": "9f89f4c26fb3fb3d",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 860,
        "wires": [
            [
                "87386bd535c2251e"
            ]
        ]
    },
    {
        "id": "05cf0296035e9467",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 900,
        "wires": [
            [
                "c138c4c4c006ee36"
            ]
        ]
    },
    {
        "id": "34ac49dd4b456b43",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 960,
        "wires": [
            [
                "016ed1ec407e275c"
            ]
        ]
    },
    {
        "id": "f4c23a6aed9ade8c",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 1000,
        "wires": [
            [
                "38484eca9a0d08b2"
            ]
        ]
    },
    {
        "id": "b613ccb9f22ff278",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 1060,
        "wires": [
            [
                "53723333d4750c5d"
            ]
        ]
    },
    {
        "id": "405168fd64fcc2e9",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 1100,
        "wires": [
            [
                "6d4906cd01ac9725"
            ]
        ]
    },
    {
        "id": "6546a8c5c95d7412",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 1160,
        "wires": [
            [
                "54865b80c6a17289"
            ]
        ]
    },
    {
        "id": "5b8e2f08570b8071",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2590,
        "y": 1200,
        "wires": [
            [
                "6fd9554991a5c8e8"
            ]
        ]
    },
    {
        "id": "d4f3eecb41e08330",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nif (msg.payload.method == \"tradePrep\") msg.payload.method = \"bingo\";\nelse if (msg.payload.method == \"closeTrades\") msg.payload.method = \"closeTradesLed\";\nmsg.payload.params = true;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3720,
        "y": 800,
        "wires": [
            [
                "a6a9621cc1255fb3",
                "d86fa54eb5ae02e9"
            ]
        ]
    },
    {
        "id": "a6a9621cc1255fb3",
        "type": "mqtt out",
        "z": "278c546f71d19ebf",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0fa44620b240ee1b",
        "x": 4010,
        "y": 860,
        "wires": []
    },
    {
        "id": "5fad6bdf3ecce3ed",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nif (msg.payload.method == \"tradePrep\") msg.payload.method = \"bingo\";\nelse if (msg.payload.method == \"closeTrades\") msg.payload.method = \"closeTradesLed\";\nmsg.payload.params = true;\n\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3820,
        "y": 860,
        "wires": [
            [
                "a6a9621cc1255fb3",
                "d86fa54eb5ae02e9"
            ]
        ]
    },
    {
        "id": "3aeadf3ffbcf3edb",
        "type": "delay",
        "z": "278c546f71d19ebf",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3660,
        "y": 860,
        "wires": [
            [
                "5fad6bdf3ecce3ed"
            ]
        ]
    },
    {
        "id": "5a01a06d3adca71b",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "test",
        "func": "var requestId = global.get('requestId') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nmsg.payload = {};\nmsg.payload.method = \"tradePrep\";\nmsg.payload.params = {};\nmsg.payload.params['tradeSizePC'] = Allconfig.trades['extreme']['PC-tradeSize']\nmsg.payload.params['stopLossPC'] = Allconfig.trades['extreme']['PC-stopLoss']\nmsg.payload.params['takeProfitPC'] = Allconfig.trades['extreme']['PC-takeProfit']\n\nmsg.payload.params.leverage = Allconfig.trades['extreme'].leverage;\nmsg.payload.params.trade = \"buy\";\nmsg.payload.params.tradeType = 'extreme';\n\nrequestId++;\n// msg.debug = \"BINGO!! - \" + msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade;\nglobal.set('requestId', requestId);\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\nreturn msg;  \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3950,
        "y": 1220,
        "wires": [
            [
                "38cc934170b1b7c2"
            ]
        ]
    },
    {
        "id": "6e5380c86f54f3ee",
        "type": "inject",
        "z": "278c546f71d19ebf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3700,
        "y": 1220,
        "wires": [
            [
                "5a01a06d3adca71b"
            ]
        ]
    },
    {
        "id": "38cc934170b1b7c2",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "BINGO",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 4200,
        "y": 1260,
        "wires": [],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "b2f398776d732932",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 155",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3890,
        "y": 1340,
        "wires": []
    },
    {
        "id": "55001be904f291bb",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"brainCheck\";\nmsg.payload.params = true;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3720,
        "y": 1000,
        "wires": [
            [
                "b5a5cda871954aa7",
                "a10b5dc6f88e93fe"
            ]
        ]
    },
    {
        "id": "b5a5cda871954aa7",
        "type": "mqtt out",
        "z": "278c546f71d19ebf",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0fa44620b240ee1b",
        "x": 4030,
        "y": 1060,
        "wires": []
    },
    {
        "id": "35193d65fba814c5",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"brainCheck\";\nmsg.payload.params = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3800,
        "y": 1060,
        "wires": [
            [
                "b5a5cda871954aa7",
                "a10b5dc6f88e93fe"
            ]
        ]
    },
    {
        "id": "e287758017d84fd8",
        "type": "delay",
        "z": "278c546f71d19ebf",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3640,
        "y": 1060,
        "wires": [
            [
                "35193d65fba814c5"
            ]
        ]
    },
    {
        "id": "a10b5dc6f88e93fe",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 156",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 4010,
        "y": 1000,
        "wires": []
    },
    {
        "id": "04bf3892ffd76165",
        "type": "trigger",
        "z": "278c546f71d19ebf",
        "name": "60s",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "60",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "stop",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 830,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "459f1a1b9bd6d369",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 190",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1350,
        "y": 720,
        "wires": []
    },
    {
        "id": "e85b88aedd788bc6",
        "type": "inject",
        "z": "278c546f71d19ebf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3240,
        "y": 1180,
        "wires": [
            [
                "a9b7a1e07168f034"
            ]
        ]
    },
    {
        "id": "6e7a36b1154d746b",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "brain",
                "pt": "msg",
                "to": "1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "allConfig",
                "pt": "msg",
                "to": "allConfig1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 400,
        "wires": [
            [
                "1624dc2175071511"
            ]
        ]
    },
    {
        "id": "8a90222fa15d6a67",
        "type": "trigger",
        "z": "278c546f71d19ebf",
        "name": "last",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "60",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 3230,
        "y": 920,
        "wires": [
            [
                "eae69d4b0dedbc0b"
            ]
        ]
    },
    {
        "id": "207f15617b4e52f1",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "topics",
        "func": "var brain=msg.brain;\nvar allConfig = flow.get(\"allConfig\"+brain, 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\n\nvar seq = msg.topic;\nvar tradeType = msg.tradeType;\nvar trade = msg.trade;\n\nmsg.topic = seq + \"_\" + tradeType + \"_\" + trade;\n\nvar result=\"\";\n\nif (msg.payload!=\"empty\"){\n    var indicatorArr = [];\n    var n = 0;\n    for (var indicators in msg.payload) {\n        indicatorArr[n] = indicators;\n        n++;\n    }\n    result = indicatorArr.toString();\n    if (allConfig.trades[tradeType].seqs[seq].string == result) msg.payload = true;\n    else msg.payload = false;\n}\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2950,
        "y": 920,
        "wires": [
            [
                "2db2f75a68fdc63a"
            ]
        ]
    },
    {
        "id": "2db2f75a68fdc63a",
        "type": "join",
        "z": "278c546f71d19ebf",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "1",
        "count": "12",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 3090,
        "y": 920,
        "wires": [
            [
                "8a90222fa15d6a67"
            ]
        ]
    },
    {
        "id": "f3919280f074f0b6",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "no SEQ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1960,
        "y": 720,
        "wires": [
            [
                "544de116c0af0d1c"
            ],
            [
                "a0bfe831cc9f8065"
            ]
        ]
    },
    {
        "id": "0878da863a7d1309",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "no SEQ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1960,
        "y": 920,
        "wires": [
            [
                "544de116c0af0d1c"
            ],
            [
                "74d50de011799746"
            ]
        ]
    },
    {
        "id": "3244f4d89bd113fc",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "no SEQ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1960,
        "y": 1120,
        "wires": [
            [
                "544de116c0af0d1c"
            ],
            [
                "b43fc67886815689"
            ]
        ]
    },
    {
        "id": "4f1139ac2896539b",
        "type": "switch",
        "z": "278c546f71d19ebf",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2310,
        "y": 600,
        "wires": [
            [
                "44b4ac93e1ae6029"
            ],
            [
                "e7a0b3ef8ab4a6a0"
            ]
        ]
    },
    {
        "id": "44b4ac93e1ae6029",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 580,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "e7a0b3ef8ab4a6a0",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2730,
        "y": 620,
        "wires": [
            [
                "274ce11c99c83a74"
            ]
        ]
    },
    {
        "id": "3e240cbab23779b7",
        "type": "function",
        "z": "278c546f71d19ebf",
        "name": "COMPARE STRINGS",
        "func": "// var msg.results = msg.payload;\nvar requestId = global.get('requestId') || {};\nvar allConfig = global.get(msg.allConfig, 'varstorage') || {};\n\nvar status1 = allConfig.trend.status1;\nvar status2 = allConfig.trend.status2;\n\nvar trend;\n\nif (status1 == 'UP' && status2 == 'UP') trend = 'UP';\nif (status1 == 'DOWN' && status2 == 'DOWN') trend = 'DOWN';\nif ((status1 == 'UP' && status2 == 'DOWN') || (status2 == 'UP' && status1 == 'DOWN')) trend = 'NEUTRAL';\n\nvar bingo=false;\n\nmsg.payload = {};\n\nif (allConfig.trend.stopLoss==true){\n    msg.payload.method = \"closeTrades\";\n    msg.payload.params = true;\n    allConfig.trend.stopLoss=false;\n    requestId++;\n    msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n    global.set('requestId', requestId);\n    global.set(msg.allConfig ,allConfig,'varstorage');\n    msg.debug = \"Stop all trades!\";\n    return [msg, null];\n}else{\n    var seq = msg.topic.split(\"_\")[0];\n    var tradeType = msg.topic.split(\"_\")[1];\n    var trade = msg.topic.split(\"_\")[2];\n    for (var tradeType in msg.results){\n        for (var trade in msg.results[tradeType]){\n            if (msg.results[tradeType][trade].s1.compare==true){\n                if (msg.results[tradeType][trade].hasOwnProperty('s2')){\n                    if (msg.results[tradeType][trade].s2.compare== true) bingo=true;\n                    else bingo = false;\n                } bingo = true;\n            } else bingo = false;\n        }\n        if (((trade == 'buy' && tradeType == 'weak' && trend == 'DOWN') ||\n        (trade == 'buy' && tradeType == 'extreme' && trend == 'UP') ||\n        (trade == 'buy' && tradeType == 'neutral' && trend == 'NEUTRAL') ||\n        (trade == 'sell' && tradeType == 'weak' && trend == 'UP') ||\n        (trade == 'sell' && tradeType == 'extreme' && trend == 'DOWN') ||\n        (trade == 'sell' && tradeType == 'neutral' && trend == 'NEUTRAL')) && bingo==true) {\n            \n            msg.payload.method = \"tradePrep\";\n            msg.payload.params = {};\n            msg.payload.params['tradeSizePC'] = allConfig.trades[tradeType]['PC-tradeSize']\n            // msg.payload.params['stopLossPC'] = allConfig.trades[tradeType]['PC-stopLoss']\n            // msg.payload.params['takeProfitPC'] = allConfig.trades[tradeType]['PC-takeProfit']\n\n            msg.payload.params.leverage = allConfig.trades[tradeType].leverage;\n            msg.payload.params.trade = trade;\n            msg.payload.params.tradeType = tradeType;\n\n            requestId++;\n            msg.debug = \"BINGO!! - \"+msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade ;\n            global.set('requestId', requestId);\n            msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n            return [msg,null];  \n        } \n    }\n\n    msg.debug = \" :( no luck... - \";\n    return [null,msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3400,
        "y": 680,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d660473d28990bbc",
        "type": "delay",
        "z": "278c546f71d19ebf",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1260,
        "y": 840,
        "wires": [
            [
                "f3eaed5ac895e1d1"
            ]
        ]
    },
    {
        "id": "b0aa610e7db32fee",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 196",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1310,
        "y": 480,
        "wires": []
    },
    {
        "id": "05788238544f5b30",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 197",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3590,
        "y": 760,
        "wires": []
    },
    {
        "id": "e054b671d27b0d11",
        "type": "trigger",
        "z": "278c546f71d19ebf",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "3",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 3980,
        "y": 920,
        "wires": [
            [
                "bb7bc66208e38bc3"
            ]
        ]
    },
    {
        "id": "a9b7a1e07168f034",
        "type": "change",
        "z": "278c546f71d19ebf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(varstorage)::allConfig2.trend.closeTrades",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "brain",
                "pt": "msg",
                "to": "brain2",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "allConfig",
                "pt": "msg",
                "to": "allConfig2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3261.66650390625,
        "y": 1061.6666259765625,
        "wires": [
            [
                "eae69d4b0dedbc0b"
            ]
        ]
    },
    {
        "id": "15cf0f638cfdb016",
        "type": "debug",
        "z": "278c546f71d19ebf",
        "name": "debug 223",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 340,
        "wires": []
    },
    {
        "id": "787445ee4abf29e4",
        "type": "config",
        "z": "019d12cb83c932c2",
        "name": "brains",
        "properties": [
            {
                "p": "brains",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "active": false,
        "x": 390,
        "y": 280,
        "wires": []
    },
    {
        "id": "e153d2665d88dabb",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "Get Values",
        "func": "// var APIreceived = global.get('APIreceived', 'varstorage') || {};\nvar brain=msg.brain;\nvar config=msg.allConfig;\n\nvar allConfig = flow.get(config, 'varstorage') || {};\n\nvar id,value,interval;\nvar msg3={};\nmsg3.payload={};\n\nvar msg1={};\n// msg1.allConfig =allConfig;\n\nvar msg2 = {};\n\nvar APIreceived={};\nAPIreceived=msg.payload;\n\n\n if (JSON.stringify(APIreceived)!='{}'){\n    var SEQresults = {};\n    var TRENDresults = {};\n    for (var trades in allConfig.trades){\n        if (allConfig.trades[trades].hasOwnProperty(\"seqs\")) {\n            SEQresults[trades] = {};\n            SEQresults[trades].s1 = \"empty\";\n            SEQresults[trades].s2 = \"empty\";\n            for (var seqs in allConfig.trades[trades].seqs) {\n                if (allConfig.trades[trades].hasOwnProperty(\"seqs\")){\n                    SEQresults[trades][seqs]={};\n                    for (var pos in allConfig.trades[trades].seqs[seqs].positions) {\n                        if (allConfig.trades[trades].enable === true) {\n                            // var newValue;\n                            var period = allConfig.trades[trades].seqs[seqs].positions[pos].period;\n                            var name = allConfig.trades[trades].seqs[seqs].positions[pos].name;\n                            var interval = allConfig.trades[trades].seqs[seqs].positions[pos].interval;\n                            // var oldValue = (allConfig.trades[trades].seqs[seqs].positions[pos].hasOwnProperty('value')) ? allConfig.trades[trades].seqs[seqs].positions[pos].value : 0;\n                            // var oldValue=0;\n                            var newValue = APIreceived[name].value;\n                            \n                            allConfig.trades[trades].seqs[seqs].positions[pos].value = newValue;\n                            SEQresults[trades][seqs][name]={};\n                            SEQresults[trades][seqs][name].value = newValue;\n                            SEQresults[trades][seqs][name].interval = interval;\n                            SEQresults[trades][seqs][name].period = period;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    for (var trends in allConfig.trend){\n        if (trends.charAt(0)=='t'){\n            var periodT = allConfig.trend[trends].period;\n            var nameT = allConfig.trend[trends].name;\n            var intervalT = allConfig.trend[trends].interval;\n            var oldValueT = (allConfig.trend[trends].hasOwnProperty('value')) ? allConfig.trend[trends].value : 0;\n\n            var newValueT = (APIreceived[nameT].name== nameT) ? APIreceived[nameT].value : oldValueT;\n\n            \n            allConfig.trend[trends].value = newValueT;\n           \n            if (APIreceived[nameT].name==nameT){\n                \n                // allConfig.trend[trends].update = true; \n                allConfig.trend[trends].value=APIreceived[nameT].value;\n                if (trends == \"t1\" || trends == \"t2\") {\n                    if (!TRENDresults.hasOwnProperty(\"trend1\")) TRENDresults.trend1 = {};\n                    var tr1 = (trends == \"t1\")?\"A\":\"B\";\n                    TRENDresults.trend1[tr1] = {};\n                    TRENDresults.trend1[tr1].value = APIreceived[nameT].value;\n                    TRENDresults.trend1[tr1].period = allConfig.trend[trends].period;\n                }\n                if (trends == \"t3\" || trends == \"t4\") {\n                    if (!TRENDresults.hasOwnProperty(\"trend2\")) TRENDresults.trend2 = {};\n                    var tr2 = (trends == \"t3\") ? \"A\" : \"B\";\n                    TRENDresults.trend2[tr2] = {};\n                    TRENDresults.trend2[tr2].value = APIreceived[nameT].value;\n                    TRENDresults.trend2[tr2].period = allConfig.trend[trends].period;\n                }\n\n            }else{\n                // allConfig.trend[trends].update = false; \n                // msg3.payload=msg3.payload+ \" name: \"+nameT+\" not updated. \"\n            } \n        }\n    }\n    flow.set(config, allConfig, 'varstorage');\n    // global.set('APIreceived', APIreceived, 'varstorage');\n    global.set(\"TRENDresults\"+brain, TRENDresults, 'varstorage');\n    global.set(\"SEQresults\"+brain, SEQresults, 'varstorage');\n    \n    msg.payload = SEQresults;\n    msg1.payload = TRENDresults;\n    msg1.topic=\"trends\";\n    msg1.allConfig=msg.allConfig;\n    \n    \n    msg2.payload = allConfig;\n\n    global.set('results',{});\n\n    msg3.payload = APIreceived;\n\n    return [msg1,msg2,msg,msg3];\n}\n",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 600,
        "wires": [
            [
                "648116e06de22d5a",
                "2f1b9e202b04e470"
            ],
            [
                "2a9c2bf45f1da2cc",
                "230317d1a5602e26"
            ],
            [
                "7cec881d741eadf4",
                "bd01d7dd376cdf2b"
            ],
            [
                "aa1fe08a6fc0eda9"
            ]
        ]
    },
    {
        "id": "2f1b9e202b04e470",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "trends",
        "func": "var brain = msg.brain;\nvar config = msg.allConfig;\n\nvar allConfig = flow.get(config, 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\n\n\nvar indicatorArr = [];\nvar icon = {};\nvar status1 = \"\";\n\n//// var status1 = allConfig.trend.status1;\nif (allConfig.trend.hasOwnProperty(\"status1\")) status1 = allConfig.trend.status1;\n\n\nvar status = \"\";\nfor (var t in msg.payload) {\n    status = t.slice(-1);\n    var n = 0;\n    for (var indicators in msg.payload[t]) {\n        indicatorArr[n] = msg.payload[t][indicators].value;\n        n++;\n    }\n    if (indicatorArr[0] < indicatorArr[1]) {\n        // icon[t] =\"fa-caret-square-o-down fa-3x\";\n        allConfig.trend['status' + status] = \"DOWN\";\n        // return [null,msg];\n    } else if (indicatorArr[0] > indicatorArr[1]) {\n        // icon[t]=\"fa-caret-square-o-up fa-3x\";\n        allConfig.trend['status' + status] = \"UP\";\n        // return [msg,null];\n    } else {\n        // icon[t] = \"fa-minus-square fa-3x\";\n        //allConfig.trend['status' + status] = \"EQUAL\";\n    }\n};\n\nif (status1 != allConfig.trend.status1 && status1 != \"\") allConfig.trend.closeTrades = true;\nelse allConfig.trend.closeTrades = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nflow.set(config, allConfig, 'varstorage');\n\nmsg.payload = {};\nmsg.payload.method = \"trends\";\nmsg.payload.params = {};\nmsg.payload.params.trend1 = allConfig.trend['status1'];\nmsg.payload.params.trend2 = allConfig.trend['status2'];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 540,
        "wires": [
            [
                "dab254a22dbfefbe",
                "21fdf5fa5dec3ec7"
            ]
        ]
    },
    {
        "id": "2a9c2bf45f1da2cc",
        "type": "mqtt out",
        "z": "019d12cb83c932c2",
        "name": "Telemetry OUT",
        "topic": "v1/devices/me/telemetry",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 960,
        "y": 620,
        "wires": []
    },
    {
        "id": "abb66145219a99c9",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1010,
        "y": 840,
        "wires": [
            [
                "6117d046e024818d"
            ]
        ]
    },
    {
        "id": "a39d173c5cda123b",
        "type": "delay",
        "z": "019d12cb83c932c2",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": ".5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1370,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "45dd0df9097b7812",
        "type": "trigger",
        "z": "019d12cb83c932c2",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "140",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "start",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1970,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "af0b420ca2673401",
        "type": "mqtt out",
        "z": "019d12cb83c932c2",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 3750,
        "y": 920,
        "wires": []
    },
    {
        "id": "0688191c0f212d17",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "start again",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1750,
        "y": 1420,
        "wires": [
            [
                "45dd0df9097b7812"
            ]
        ]
    },
    {
        "id": "1de50a4e03b28037",
        "type": "mqtt in",
        "z": "019d12cb83c932c2",
        "name": "Brain2",
        "topic": "v1/devices/me/rpc/request/+",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "9ba9f83744bf70d8",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 400,
        "wires": [
            [
                "688d213e9945f006",
                "e85a922439b944ea"
            ]
        ]
    },
    {
        "id": "e7a753b88c6d63dd",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "Brains data",
        "func": "var brain=msg.brain;\nvar brains = global.get('brains') || {};\nvar allConfig = flow.get(\"allConfig\"+brain, 'varstorage',) || {};\n\n\nvar method = msg.payload.method;\nif (brains[\"brain\"+brain].enable != \"OFF\") {\n    if (method == \"LOAD\") {\n        flow.set(\"allConfig\"+brain, msg.payload.params, 'varstorage');\n        msg.payload = allConfig;\n        return [msg, null];\n    }\n    else if (method == 'API') {\n        msg.payload = msg.payload.params;\n        return [null, msg];\n    }\n} else return null;\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 400,
        "wires": [
            [],
            [
                "c8275dc0740207ed",
                "e153d2665d88dabb"
            ]
        ]
    },
    {
        "id": "c8275dc0740207ed",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 213",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 400,
        "wires": []
    },
    {
        "id": "aa1fe08a6fc0eda9",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 214",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 1160,
        "wires": []
    },
    {
        "id": "609beeb8d04e8316",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1710,
        "y": 720,
        "wires": [
            [
                "729db77f419292bf",
                "ce179540aac2a586"
            ],
            [
                "a353d3bb53f7dea8",
                "b143041ba334f214"
            ]
        ]
    },
    {
        "id": "dab254a22dbfefbe",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 215",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 560,
        "wires": []
    },
    {
        "id": "d6a6a119557dd7b7",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1410,
        "y": 720,
        "wires": [
            [
                "6c386d843e47c5d8"
            ]
        ]
    },
    {
        "id": "6117d046e024818d",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "extreme",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "neutral",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "weak",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1010,
        "y": 920,
        "wires": [
            [
                "afaa4785f8e5f2f2"
            ],
            [
                "d26744ec9f8d4372"
            ],
            [
                "2d5eb896d7d2b0fd"
            ]
        ]
    },
    {
        "id": "2bfcd2f6e06b8a56",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 660,
        "wires": [
            [
                "4bc2160bb60719dd"
            ]
        ]
    },
    {
        "id": "3556e6a5ad9cb4b3",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 700,
        "wires": [
            [
                "1264bfb885e2c180"
            ]
        ]
    },
    {
        "id": "afaa4785f8e5f2f2",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "Extreme",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1220,
        "y": 720,
        "wires": [
            [
                "d6a6a119557dd7b7"
            ]
        ]
    },
    {
        "id": "93157107dcf4dc4c",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 660,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "a4a21ffa5c8fe90f",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 700,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "67c4981580df14d7",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 760,
        "wires": [
            [
                "2b4a25f4e666fa97"
            ]
        ]
    },
    {
        "id": "ea19695efe2515cb",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 800,
        "wires": [
            [
                "49aa3594a78013a5"
            ]
        ]
    },
    {
        "id": "a2304ef041f50ae2",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 760,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "ec28bdafb12fc8bc",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 800,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "7b6f270340fd886b",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1710,
        "y": 920,
        "wires": [
            [
                "814f3bb17d5951ba",
                "d3fceee35b675650"
            ],
            [
                "f05a09def42c49c3",
                "d3a443d653da029d"
            ]
        ]
    },
    {
        "id": "8c6f37b5191f1a6c",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1410,
        "y": 920,
        "wires": [
            [
                "231f1097c10faa57"
            ]
        ]
    },
    {
        "id": "cf4218cedc6cf841",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 860,
        "wires": [
            [
                "f92fb1420fdf0675"
            ]
        ]
    },
    {
        "id": "eb9ef3507c86e463",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 900,
        "wires": [
            [
                "0b446f0a9496830b"
            ]
        ]
    },
    {
        "id": "d26744ec9f8d4372",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "Neutral",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1220,
        "y": 920,
        "wires": [
            [
                "8c6f37b5191f1a6c"
            ]
        ]
    },
    {
        "id": "a114a8e2e6f50067",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 860,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "9fa7cd84cb12334c",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 900,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "a676657938fbd9da",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 960,
        "wires": [
            [
                "d71053c1fdfba3f9"
            ]
        ]
    },
    {
        "id": "2a271043fc88406c",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 1000,
        "wires": [
            [
                "24bdda3d70bdd36a"
            ]
        ]
    },
    {
        "id": "7ac1a11fadee6148",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 960,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "8cc3737721c1d4f9",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 1000,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "4da947e1eecf7507",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "seqs",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "s1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "s2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1710,
        "y": 1120,
        "wires": [
            [
                "971c6e43c71e805d",
                "444ae36529831c6a"
            ],
            [
                "80e9f1417a621327",
                "5d5dfe21dd700c26"
            ]
        ]
    },
    {
        "id": "fd51c45c49833bfb",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1410,
        "y": 1120,
        "wires": [
            [
                "62818a4601933d41"
            ]
        ]
    },
    {
        "id": "aa569ca01a70a9ca",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 1060,
        "wires": [
            [
                "e91c3732cd5246de"
            ]
        ]
    },
    {
        "id": "ce7577e88d404615",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 1100,
        "wires": [
            [
                "ea5c69d4b89b69de"
            ]
        ]
    },
    {
        "id": "2d5eb896d7d2b0fd",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "Weak",
        "rules": [
            {
                "t": "set",
                "p": "tradeType",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 1120,
        "wires": [
            [
                "fd51c45c49833bfb"
            ]
        ]
    },
    {
        "id": "c96abcd55b59ce1b",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 1060,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "cd3efd7e3c8e9b8d",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 1100,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "6aa05d8b9e233590",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "BUY",
        "order": "descending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 1160,
        "wires": [
            [
                "6a962c5be6852bda"
            ]
        ]
    },
    {
        "id": "907a698df3e57afa",
        "type": "sort",
        "z": "019d12cb83c932c2",
        "name": "SELL",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload.value",
        "seqKeyType": "msg",
        "x": 2050,
        "y": 1200,
        "wires": [
            [
                "bff7233bdc4d4b98"
            ]
        ]
    },
    {
        "id": "711dba9e15762302",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 1160,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "c944319e6bdc5c36",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 1200,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "6493fbe5ad0b4f7d",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "COMPARE SEQS",
        "func": "var allConfig = global.get(msg.allConfig, 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\n// var results = global.get('results') || {};\n\nvar seq = msg.topic;\nvar tradeType = msg.tradeType;\nvar trade = msg.trade;\n\n\n\nvar msg1 = {};\n\nvar indicatorArr = [];\nvar n = 0;\nfor (var indicators in msg.payload) {\n    indicatorArr[n] = indicators;\n    n++;\n}\nvar result = indicatorArr.toString();\nmsg.results = {};\nmsg.results[tradeType] = {};\nmsg.results[tradeType][trade] = {};\nmsg.results[tradeType][trade][seq]={};\nmsg.results[tradeType][trade][seq].string = result;\n\n\nmsg.topic = seq + \"-\" + tradeType + \"-\" + trade;\n\nif (allConfig.trades[tradeType].seqs[seq].string == result) msg.results[tradeType][trade][seq].compare = true;\nelse msg.results[tradeType][trade][seq].compare = false;\n\n// global.set('results', results);\nmsg.topic=tradeType+\"-\"+trade+\"-\"+seq;\nmsg.payload = msg.results[tradeType][trade][seq].compare;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2650,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "91a67ebae64634b3",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "BINGO",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3620,
        "y": 800,
        "wires": [],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "e7d7d46430a7124d",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "COMPARE STRINGS",
        "func": "// var msg.results = msg.payload;\nvar brain=msg.brain;\nvar requestId = global.get('requestId') || {};\nvar allConfig = flow.get(msg.allConfig, 'varstorage') || {};\n\nvar status1 = allConfig.trend.status1;\nvar status2 = allConfig.trend.status2;\n\nvar trend;\n\nif (status1 == 'UP' && status2 == 'UP') trend = 'UP';\nif (status1 == 'DOWN' && status2 == 'DOWN') trend = 'DOWN';\nif ((status1 == 'UP' && status2 == 'DOWN') || (status2 == 'UP' && status1 == 'DOWN')) trend = 'NEUTRAL';\n\n\nvar bingo = false;\nvar allStrings = msg.payload;\nmsg.payload = {};\n\nif (allConfig.trend.closeTrades === true) {\n    msg.payload.method = \"closeTrades\";\n    msg.payload.params = true;\n    allConfig.trend.stopLoss = false;\n    requestId++;\n    msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n    global.set('requestId', requestId);\n    flow.set(msg.allConfig, allConfig, 'varstorage');\n    msg.debug = \"brain\" +brain+ \" - Stop all trades!\";\n    return [msg, null];\n} else {\n\n    var seq = \"\";\n    var tradeType = \"\";\n    var trade = \"\";\n    for (var str in allStrings) {\n\n        seq = str.split(\"_\")[0];\n        tradeType = str.split(\"_\")[1];\n        trade = str.split(\"_\")[2];\n        if (allStrings[str] === true && seq == \"s1\") {\n            if (allStrings[\"s2_\" + tradeType + \"_\" + trade] === true || allStrings[\"s2_\" + tradeType + \"_\" + trade] == \"empty\") bingo = true;\n            // else bingo = false;\n        } //else bingo = false;\n\n\n        if (((trade == 'buy' && tradeType == 'weak' && trend == 'DOWN') ||\n            (trade == 'buy' && tradeType == 'extreme' && trend == 'UP') ||\n            (trade == 'buy' && tradeType == 'neutral' && trend == 'NEUTRAL') ||\n            (trade == 'sell' && tradeType == 'weak' && trend == 'UP') ||\n            (trade == 'sell' && tradeType == 'extreme' && trend == 'DOWN') ||\n            (trade == 'sell' && tradeType == 'neutral' && trend == 'NEUTRAL')) && bingo == true) {\n\n            msg.payload.method = \"tradePrep\";\n            msg.payload.params = {};\n            msg.payload.params['tradeSizePC'] = allConfig.trades[tradeType]['PC-tradeSize']\n            msg.payload.params['stopLossPC'] = allConfig.trades[tradeType]['PC-stopLoss']\n            msg.payload.params['takeProfitPC'] = allConfig.trades[tradeType]['PC-takeProfit']\n\n            msg.payload.params.leverage = allConfig.trades[tradeType].leverage;\n            msg.payload.params.trade = trade;\n            msg.payload.params.tradeType = tradeType;\n\n            requestId++;\n            msg.debug = \"brain\" + brain+ \" - BINGO!! - \" + msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade;\n            global.set('requestId', requestId);\n            msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n            return [msg, null];\n        }\n    }\n\n    msg.debug = \"brain\" + brain+ \" - :( no luck... - \";\n    return [null, msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 920,
        "wires": [
            [
                "059ef2014a445f65",
                "106c7f30c83039a9",
                "76a8679f38044ce4",
                "387fe7f95eb3c47d",
                "c698609dda86f2f9"
            ],
            [
                "2e60900db2b77e85",
                "507f2ee318ef70b2",
                "106c7f30c83039a9",
                "387fe7f95eb3c47d"
            ]
        ]
    },
    {
        "id": "106c7f30c83039a9",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "DEBUG",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "debug",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3900,
        "y": 960,
        "wires": []
    },
    {
        "id": "21fdf5fa5dec3ec7",
        "type": "mqtt out",
        "z": "019d12cb83c932c2",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 1110,
        "y": 500,
        "wires": []
    },
    {
        "id": "230317d1a5602e26",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 216",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 680,
        "wires": []
    },
    {
        "id": "729db77f419292bf",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 660,
        "wires": [
            [
                "2bfcd2f6e06b8a56"
            ]
        ]
    },
    {
        "id": "ce179540aac2a586",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 700,
        "wires": [
            [
                "3556e6a5ad9cb4b3"
            ]
        ]
    },
    {
        "id": "a353d3bb53f7dea8",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 760,
        "wires": [
            [
                "67c4981580df14d7"
            ]
        ]
    },
    {
        "id": "b143041ba334f214",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 800,
        "wires": [
            [
                "ea19695efe2515cb"
            ]
        ]
    },
    {
        "id": "814f3bb17d5951ba",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 860,
        "wires": [
            [
                "cf4218cedc6cf841"
            ]
        ]
    },
    {
        "id": "d3fceee35b675650",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 900,
        "wires": [
            [
                "eb9ef3507c86e463"
            ]
        ]
    },
    {
        "id": "f05a09def42c49c3",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 960,
        "wires": [
            [
                "a676657938fbd9da"
            ]
        ]
    },
    {
        "id": "d3a443d653da029d",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 1000,
        "wires": [
            [
                "2a271043fc88406c"
            ]
        ]
    },
    {
        "id": "971c6e43c71e805d",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 1060,
        "wires": [
            [
                "aa569ca01a70a9ca"
            ]
        ]
    },
    {
        "id": "444ae36529831c6a",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 1100,
        "wires": [
            [
                "ce7577e88d404615"
            ]
        ]
    },
    {
        "id": "80e9f1417a621327",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 1160,
        "wires": [
            [
                "6aa05d8b9e233590"
            ]
        ]
    },
    {
        "id": "5d5dfe21dd700c26",
        "type": "split",
        "z": "019d12cb83c932c2",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1910,
        "y": 1200,
        "wires": [
            [
                "907a698df3e57afa"
            ]
        ]
    },
    {
        "id": "4bc2160bb60719dd",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2190,
        "y": 660,
        "wires": [
            [
                "93157107dcf4dc4c"
            ]
        ]
    },
    {
        "id": "1264bfb885e2c180",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 700,
        "wires": [
            [
                "a4a21ffa5c8fe90f"
            ]
        ]
    },
    {
        "id": "2b4a25f4e666fa97",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 760,
        "wires": [
            [
                "a2304ef041f50ae2"
            ]
        ]
    },
    {
        "id": "49aa3594a78013a5",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 800,
        "wires": [
            [
                "ec28bdafb12fc8bc"
            ]
        ]
    },
    {
        "id": "f92fb1420fdf0675",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 860,
        "wires": [
            [
                "a114a8e2e6f50067"
            ]
        ]
    },
    {
        "id": "0b446f0a9496830b",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 900,
        "wires": [
            [
                "9fa7cd84cb12334c"
            ]
        ]
    },
    {
        "id": "d71053c1fdfba3f9",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 960,
        "wires": [
            [
                "7ac1a11fadee6148"
            ]
        ]
    },
    {
        "id": "24bdda3d70bdd36a",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 1000,
        "wires": [
            [
                "8cc3737721c1d4f9"
            ]
        ]
    },
    {
        "id": "e91c3732cd5246de",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 1060,
        "wires": [
            [
                "c96abcd55b59ce1b"
            ]
        ]
    },
    {
        "id": "ea5c69d4b89b69de",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 1100,
        "wires": [
            [
                "cd3efd7e3c8e9b8d"
            ]
        ]
    },
    {
        "id": "6a962c5be6852bda",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 1160,
        "wires": [
            [
                "711dba9e15762302"
            ]
        ]
    },
    {
        "id": "bff7233bdc4d4b98",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 2190,
        "y": 1200,
        "wires": [
            [
                "c944319e6bdc5c36"
            ]
        ]
    },
    {
        "id": "76a8679f38044ce4",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"bingo\";\nmsg.payload.params = true;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3320,
        "y": 800,
        "wires": [
            [
                "7bbd3da1dda0dae2",
                "91a67ebae64634b3"
            ]
        ]
    },
    {
        "id": "7bbd3da1dda0dae2",
        "type": "mqtt out",
        "z": "019d12cb83c932c2",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 3610,
        "y": 860,
        "wires": []
    },
    {
        "id": "7d574b10d72b3623",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"bingo\";\nmsg.payload.params = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3420,
        "y": 860,
        "wires": [
            [
                "7bbd3da1dda0dae2",
                "91a67ebae64634b3"
            ]
        ]
    },
    {
        "id": "059ef2014a445f65",
        "type": "delay",
        "z": "019d12cb83c932c2",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3260,
        "y": 860,
        "wires": [
            [
                "7d574b10d72b3623"
            ]
        ]
    },
    {
        "id": "410a36687540c269",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "test",
        "func": "var requestId = global.get('requestId') || {};\nvar Allconfig = global.get('Allconfig', 'varstorage') || {};\n\nmsg.payload = {};\nmsg.payload.method = \"tradePrep\";\nmsg.payload.params = {};\nmsg.payload.params['tradeSizePC'] = Allconfig.trades['extreme']['PC-tradeSize']\nmsg.payload.params['stopLossPC'] = Allconfig.trades['extreme']['PC-stopLoss']\nmsg.payload.params['takeProfitPC'] = Allconfig.trades['extreme']['PC-takeProfit']\n\nmsg.payload.params.leverage = Allconfig.trades['extreme'].leverage;\nmsg.payload.params.trade = \"buy\";\nmsg.payload.params.tradeType = 'extreme';\n\nrequestId++;\n// msg.debug = \"BINGO!! - \" + msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade;\nglobal.set('requestId', requestId);\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\nreturn msg;  \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3550,
        "y": 1220,
        "wires": [
            [
                "55c3d6c2843377de"
            ]
        ]
    },
    {
        "id": "1c50fe833e3f0276",
        "type": "inject",
        "z": "019d12cb83c932c2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 3300,
        "y": 1220,
        "wires": [
            [
                "410a36687540c269"
            ]
        ]
    },
    {
        "id": "55c3d6c2843377de",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "BINGO",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3800,
        "y": 1260,
        "wires": [],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "b1a0feb03d1d6e7f",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 217",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3490,
        "y": 1340,
        "wires": []
    },
    {
        "id": "2e60900db2b77e85",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"brainCheck\";\nmsg.payload.params = true;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3320,
        "y": 1000,
        "wires": [
            [
                "b1fd0de8728bbb6c",
                "da6c3be52c43673e"
            ]
        ]
    },
    {
        "id": "b1fd0de8728bbb6c",
        "type": "mqtt out",
        "z": "019d12cb83c932c2",
        "name": "",
        "topic": "",
        "qos": "2",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "9ba9f83744bf70d8",
        "x": 3630,
        "y": 1060,
        "wires": []
    },
    {
        "id": "0c903cf2f52d430f",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "LED API",
        "func": "var requestId = global.get('requestId') || 0;\n\nmsg.payload={};\n\nmsg.payload.method=\"brainCheck\";\nmsg.payload.params = false;\n\nrequestId++;\nmsg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n\nglobal.set('requestId', requestId);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3400,
        "y": 1060,
        "wires": [
            [
                "b1fd0de8728bbb6c",
                "da6c3be52c43673e"
            ]
        ]
    },
    {
        "id": "507f2ee318ef70b2",
        "type": "delay",
        "z": "019d12cb83c932c2",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3240,
        "y": 1060,
        "wires": [
            [
                "0c903cf2f52d430f"
            ]
        ]
    },
    {
        "id": "da6c3be52c43673e",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 218",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3610,
        "y": 1000,
        "wires": []
    },
    {
        "id": "9c638dfc16630c8e",
        "type": "trigger",
        "z": "019d12cb83c932c2",
        "name": "60s",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "60",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "stop",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 430,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "7cec881d741eadf4",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 219",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 760,
        "wires": []
    },
    {
        "id": "6a6368b0456c661f",
        "type": "inject",
        "z": "019d12cb83c932c2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2840,
        "y": 1180,
        "wires": [
            [
                "89b9fec38ad17734"
            ]
        ]
    },
    {
        "id": "688d213e9945f006",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "brain",
                "pt": "msg",
                "to": "2",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "allConfig",
                "pt": "msg",
                "to": "allConfig2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 400,
        "wires": [
            [
                "e7a753b88c6d63dd"
            ]
        ]
    },
    {
        "id": "84c6089974260c48",
        "type": "trigger",
        "z": "019d12cb83c932c2",
        "name": "last",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "60",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2830,
        "y": 920,
        "wires": [
            [
                "e7d7d46430a7124d"
            ]
        ]
    },
    {
        "id": "cf97c9950ec3a5ab",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "topics",
        "func": "var brain=msg.brain;\nvar allConfig = flow.get(\"allConfig\"+brain, 'varstorage') || {};\nvar requestId = global.get('requestId') || 0;\n\nvar seq = msg.topic;\nvar tradeType = msg.tradeType;\nvar trade = msg.trade;\n\nmsg.topic = seq + \"_\" + tradeType + \"_\" + trade;\n\nvar result=\"\";\n\nif (msg.payload!=\"empty\"){\n    var indicatorArr = [];\n    var n = 0;\n    for (var indicators in msg.payload) {\n        indicatorArr[n] = indicators;\n        n++;\n    }\n    result = indicatorArr.toString();\n    if (allConfig.trades[tradeType].seqs[seq].string == result) msg.payload = true;\n    else msg.payload = false;\n}\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2550,
        "y": 920,
        "wires": [
            [
                "2ce6de0fd350a110"
            ]
        ]
    },
    {
        "id": "2ce6de0fd350a110",
        "type": "join",
        "z": "019d12cb83c932c2",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "1",
        "count": "12",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2690,
        "y": 920,
        "wires": [
            [
                "84c6089974260c48"
            ]
        ]
    },
    {
        "id": "6c386d843e47c5d8",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "no SEQ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1560,
        "y": 720,
        "wires": [
            [
                "fd2884a6130dbead"
            ],
            [
                "609beeb8d04e8316"
            ]
        ]
    },
    {
        "id": "231f1097c10faa57",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "no SEQ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1560,
        "y": 920,
        "wires": [
            [
                "fd2884a6130dbead"
            ],
            [
                "7b6f270340fd886b"
            ]
        ]
    },
    {
        "id": "62818a4601933d41",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "no SEQ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1560,
        "y": 1120,
        "wires": [
            [
                "fd2884a6130dbead"
            ],
            [
                "4da947e1eecf7507"
            ]
        ]
    },
    {
        "id": "4c0cc4f6b879e4ea",
        "type": "switch",
        "z": "019d12cb83c932c2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "empty",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1910,
        "y": 600,
        "wires": [
            [
                "6c580cbd81ca91de"
            ],
            [
                "219d39cf31dafabb"
            ]
        ]
    },
    {
        "id": "6c580cbd81ca91de",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "buy",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 580,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "219d39cf31dafabb",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "trade",
        "rules": [
            {
                "t": "set",
                "p": "trade",
                "pt": "msg",
                "to": "sell",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 620,
        "wires": [
            [
                "f04482fb96c82bdb"
            ]
        ]
    },
    {
        "id": "ea59433fbe9cefca",
        "type": "function",
        "z": "019d12cb83c932c2",
        "name": "COMPARE STRINGS",
        "func": "// var msg.results = msg.payload;\nvar requestId = global.get('requestId') || {};\nvar allConfig = global.get(msg.allConfig, 'varstorage') || {};\n\nvar status1 = allConfig.trend.status1;\nvar status2 = allConfig.trend.status2;\n\nvar trend;\n\nif (status1 == 'UP' && status2 == 'UP') trend = 'UP';\nif (status1 == 'DOWN' && status2 == 'DOWN') trend = 'DOWN';\nif ((status1 == 'UP' && status2 == 'DOWN') || (status2 == 'UP' && status1 == 'DOWN')) trend = 'NEUTRAL';\n\nvar bingo=false;\n\nmsg.payload = {};\n\nif (allConfig.trend.stopLoss==true){\n    msg.payload.method = \"closeTrades\";\n    msg.payload.params = true;\n    allConfig.trend.stopLoss=false;\n    requestId++;\n    msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n    global.set('requestId', requestId);\n    global.set(msg.allConfig ,allConfig,'varstorage');\n    msg.debug = \"Stop all trades!\";\n    return [msg, null];\n}else{\n    var seq = msg.topic.split(\"_\")[0];\n    var tradeType = msg.topic.split(\"_\")[1];\n    var trade = msg.topic.split(\"_\")[2];\n    for (var tradeType in msg.results){\n        for (var trade in msg.results[tradeType]){\n            if (msg.results[tradeType][trade].s1.compare==true){\n                if (msg.results[tradeType][trade].hasOwnProperty('s2')){\n                    if (msg.results[tradeType][trade].s2.compare== true) bingo=true;\n                    else bingo = false;\n                } bingo = true;\n            } else bingo = false;\n        }\n        if (((trade == 'buy' && tradeType == 'weak' && trend == 'DOWN') ||\n        (trade == 'buy' && tradeType == 'extreme' && trend == 'UP') ||\n        (trade == 'buy' && tradeType == 'neutral' && trend == 'NEUTRAL') ||\n        (trade == 'sell' && tradeType == 'weak' && trend == 'UP') ||\n        (trade == 'sell' && tradeType == 'extreme' && trend == 'DOWN') ||\n        (trade == 'sell' && tradeType == 'neutral' && trend == 'NEUTRAL')) && bingo==true) {\n            \n            msg.payload.method = \"tradePrep\";\n            msg.payload.params = {};\n            msg.payload.params['tradeSizePC'] = allConfig.trades[tradeType]['PC-tradeSize']\n            // msg.payload.params['stopLossPC'] = allConfig.trades[tradeType]['PC-stopLoss']\n            // msg.payload.params['takeProfitPC'] = allConfig.trades[tradeType]['PC-takeProfit']\n\n            msg.payload.params.leverage = allConfig.trades[tradeType].leverage;\n            msg.payload.params.trade = trade;\n            msg.payload.params.tradeType = tradeType;\n\n            requestId++;\n            msg.debug = \"BINGO!! - \"+msg.payload.method + \"- \" + tradeType + \" - trade: \" + trade ;\n            global.set('requestId', requestId);\n            msg.topic = \"v1/devices/me/rpc/request/\" + requestId;\n            return [msg,null];  \n        } \n    }\n\n    msg.debug = \" :( no luck... - \";\n    return [null,msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 680,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bd01d7dd376cdf2b",
        "type": "delay",
        "z": "019d12cb83c932c2",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 860,
        "y": 840,
        "wires": [
            [
                "abb66145219a99c9"
            ]
        ]
    },
    {
        "id": "648116e06de22d5a",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 220",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 480,
        "wires": []
    },
    {
        "id": "387fe7f95eb3c47d",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 221",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3190,
        "y": 760,
        "wires": []
    },
    {
        "id": "c698609dda86f2f9",
        "type": "trigger",
        "z": "019d12cb83c932c2",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "3",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 3580,
        "y": 920,
        "wires": [
            [
                "af0b420ca2673401"
            ]
        ]
    },
    {
        "id": "89b9fec38ad17734",
        "type": "change",
        "z": "019d12cb83c932c2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "#:(varstorage)::allConfig2.trend.closeTrades",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "brain",
                "pt": "msg",
                "to": "2",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "allConfig",
                "pt": "msg",
                "to": "allConfig2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2861.66650390625,
        "y": 1061.6666259765625,
        "wires": [
            [
                "e7d7d46430a7124d"
            ]
        ]
    },
    {
        "id": "e85a922439b944ea",
        "type": "debug",
        "z": "019d12cb83c932c2",
        "name": "debug 222",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 320,
        "wires": []
    },
    {
        "id": "8ceae58591f7143d",
        "type": "mqtt in",
        "z": "5ab672823d632b5b",
        "name": "",
        "topic": "v1/devices/me/rpc/request/+",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "08b6f600530e1c2c",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 1020,
        "wires": [
            [
                "abec42dee0ae50f1",
                "b2feee3cca54d637",
                "eabe8ba80be4ca71"
            ]
        ]
    },
    {
        "id": "eabe8ba80be4ca71",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "tradeExec",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 1140,
        "wires": []
    },
    {
        "id": "abec42dee0ae50f1",
        "type": "switch",
        "z": "5ab672823d632b5b",
        "name": "",
        "property": "payload.method",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "tradePrep",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "tradeExec",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "closeTrades",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 490,
        "y": 1020,
        "wires": [
            [
                "dca50cadc1492f98"
            ],
            [
                "dd598361c9bd1a82"
            ],
            [
                "191b06cb89a35059"
            ]
        ]
    },
    {
        "id": "908354dc01aef5d9",
        "type": "exec",
        "z": "5ab672823d632b5b",
        "command": "py C:\\Pscripts\\tradeSetup.py",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "TradeSetup",
        "x": 1050,
        "y": 920,
        "wires": [
            [
                "0f0a40f38c4d9347"
            ],
            [],
            []
        ]
    },
    {
        "id": "5d74476c999e2d2a",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Ready OUT",
        "mode": "link",
        "links": [
            "e9be8c2a8ce47940"
        ],
        "x": 1345,
        "y": 900,
        "wires": []
    },
    {
        "id": "248bec22e8934756",
        "type": "file",
        "z": "5ab672823d632b5b",
        "name": "LOGS",
        "filename": "C:\\Pscripts\\log.txt",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 1570,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "64cad988d97a7890",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "LOGS IN",
        "links": [
            "99b80242b4165746",
            "ef357324e5c2c475",
            "68cdd525878ed94a",
            "e9b4673771672b69",
            "d705c18781fea72a",
            "dad83a6346ab14a2"
        ],
        "x": 1265,
        "y": 180,
        "wires": [
            [
                "2f7d9686f021efa7"
            ]
        ]
    },
    {
        "id": "2f7d9686f021efa7",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Date IN",
        "func": "var date = new Date().toUTCString();\n// var fdate = date.getDate();\n// var formated = date.toString()\nmsg.payload = date + \": \" + msg.payload; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1400,
        "y": 180,
        "wires": [
            [
                "248bec22e8934756",
                "524e40402538cb7e"
            ]
        ]
    },
    {
        "id": "790035275a01eaaa",
        "type": "ui_text_input",
        "z": "5ab672823d632b5b",
        "name": "",
        "label": "Leverage Fail Safe",
        "tooltip": "",
        "group": "a5e5760a4c6ba88d",
        "order": 11,
        "width": 4,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "leverage",
        "x": 1170,
        "y": 460,
        "wires": [
            [
                "93baa0abfee23965"
            ]
        ]
    },
    {
        "id": "ae76a3f6b08ee034",
        "type": "ui_text_input",
        "z": "5ab672823d632b5b",
        "name": "",
        "label": "Trade Size Fail Safe",
        "tooltip": "",
        "group": "a5e5760a4c6ba88d",
        "order": 7,
        "width": 4,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "tradeSize",
        "x": 1160,
        "y": 500,
        "wires": [
            [
                "93baa0abfee23965"
            ]
        ]
    },
    {
        "id": "c09078f5ed9b9ead",
        "type": "ui_text",
        "z": "5ab672823d632b5b",
        "group": "a5e5760a4c6ba88d",
        "order": 10,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Leverage",
        "format": "{{msg.payload.params.leverage}}",
        "layout": "col-center",
        "x": 1200,
        "y": 420,
        "wires": []
    },
    {
        "id": "eb58bddec6a5472c",
        "type": "ui_button",
        "z": "5ab672823d632b5b",
        "name": "DONE",
        "group": "a5e5760a4c6ba88d",
        "order": 15,
        "width": "4",
        "height": 1,
        "passthru": false,
        "label": "DONE",
        "tooltip": "",
        "color": "",
        "bgcolor": "green",
        "icon": "fa-thumbs-up fa-3x",
        "payload": "done",
        "payloadType": "str",
        "topic": "topic",
        "x": 1190,
        "y": 760,
        "wires": [
            [
                "90342d446bdca011",
                "7a04713f62ab5212"
            ]
        ]
    },
    {
        "id": "c880c94ea209b1d4",
        "type": "ui_text_input",
        "z": "5ab672823d632b5b",
        "name": "Limit Order Fail Safe",
        "label": "Limit Order Fail Safe",
        "tooltip": "",
        "group": "a5e5760a4c6ba88d",
        "order": 13,
        "width": 4,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "limit",
        "x": 1160,
        "y": 540,
        "wires": [
            [
                "93baa0abfee23965"
            ]
        ]
    },
    {
        "id": "89b9803f282c32b0",
        "type": "ui_text",
        "z": "5ab672823d632b5b",
        "group": "a5e5760a4c6ba88d",
        "order": 12,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Limit Order",
        "format": "{{msg.payload.params.limit}}",
        "layout": "col-center",
        "x": 1190,
        "y": 380,
        "wires": []
    },
    {
        "id": "0cbc541f25e5bb4f",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "debug 35",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1620,
        "y": 500,
        "wires": []
    },
    {
        "id": "93baa0abfee23965",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "entries",
        "func": "var entries = global.get('entries') || {};\n\nentries[msg.topic] = msg.payload;\nglobal.set('entries', entries)\n\nmsg.payload = msg.topic+ \" Fail Safe: \" + msg.payload;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 500,
        "wires": [
            [
                "0cbc541f25e5bb4f",
                "99b80242b4165746"
            ]
        ]
    },
    {
        "id": "99b80242b4165746",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Fail Safes OUT",
        "mode": "link",
        "links": [
            "64cad988d97a7890",
            "dabcdd1e7db0a782"
        ],
        "x": 1525,
        "y": 580,
        "wires": []
    },
    {
        "id": "80c7ae9332d380f7",
        "type": "ui_button",
        "z": "5ab672823d632b5b",
        "name": "",
        "group": "a5e5760a4c6ba88d",
        "order": 14,
        "width": "4",
        "height": 1,
        "passthru": false,
        "label": "READY",
        "tooltip": "",
        "color": "",
        "bgcolor": "orange",
        "className": "",
        "icon": "fa-thumbs-up fa-3x",
        "payload": "ready",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "str",
        "x": 1180,
        "y": 720,
        "wires": [
            [
                "fda8776d590cefb4",
                "a14cb30bb25bb082"
            ]
        ]
    },
    {
        "id": "fda8776d590cefb4",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Ready",
        "func": "var ready=msg.payload;\n\nvar entries=global.get('entries') || {};\n\n\nentries.ready = true;\nglobal.set('entries', entries)\n\nmsg.payload = \"Ready Button pressed\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 720,
        "wires": [
            [
                "11784a52719a9d46",
                "99b80242b4165746"
            ]
        ]
    },
    {
        "id": "11784a52719a9d46",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "debug 53",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1620,
        "y": 720,
        "wires": []
    },
    {
        "id": "a14cb30bb25bb082",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Ready OUT",
        "mode": "link",
        "links": [
            "025eebc3f14e67a9",
            "e9be8c2a8ce47940"
        ],
        "x": 1295,
        "y": 740,
        "wires": []
    },
    {
        "id": "1ea6afeac97e2c1e",
        "type": "ui_text_input",
        "z": "5ab672823d632b5b",
        "name": "",
        "label": "Total",
        "tooltip": "",
        "group": "a5e5760a4c6ba88d",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "total",
        "x": 1210,
        "y": 660,
        "wires": [
            [
                "e9d9a5d630de22c0"
            ]
        ]
    },
    {
        "id": "90342d446bdca011",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Done OUT",
        "mode": "link",
        "links": [
            "d04746edd54e31f2",
            "b45cf2edf31114e2"
        ],
        "x": 1295,
        "y": 780,
        "wires": []
    },
    {
        "id": "4a5c99cb09076140",
        "type": "trigger",
        "z": "5ab672823d632b5b",
        "name": "Ready timeout",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "80",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "ready",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 880,
        "y": 980,
        "wires": [
            [
                "8d40e01516cf535a"
            ]
        ]
    },
    {
        "id": "2c47a0815598d9fe",
        "type": "exec",
        "z": "5ab672823d632b5b",
        "command": "py C:\\Pscripts\\clickTradeButtons.py",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "TradeButtons",
        "x": 1180,
        "y": 1100,
        "wires": [
            [
                "eadca5f0e15f9331"
            ],
            [],
            []
        ]
    },
    {
        "id": "cc82956b3af1798d",
        "type": "trigger",
        "z": "5ab672823d632b5b",
        "name": "Done timeout",
        "op1": "",
        "op2": "error",
        "op1type": "nul",
        "op2type": "str",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "done",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 850,
        "y": 1160,
        "wires": [
            [
                "67bd5b0d93f7c6f4"
            ]
        ]
    },
    {
        "id": "8d40e01516cf535a",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "function 20",
        "func": "var ready=msg.payload;\n\nvar entries=global.get('entries') || {};\n\n\nentries.ready = false;\nglobal.set('entries', entries)\n\nmsg.payload = \"Ready to trade\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 980,
        "wires": [
            [
                "601cde10f9d81185"
            ]
        ]
    },
    {
        "id": "025eebc3f14e67a9",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "Reset timeout setup",
        "links": [
            "a14cb30bb25bb082"
        ],
        "x": 765,
        "y": 1020,
        "wires": [
            [
                "4a5c99cb09076140"
            ]
        ]
    },
    {
        "id": "b45cf2edf31114e2",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "Reset timeout done",
        "links": [
            "90342d446bdca011"
        ],
        "x": 745,
        "y": 1200,
        "wires": [
            [
                "cc82956b3af1798d"
            ]
        ]
    },
    {
        "id": "67bd5b0d93f7c6f4",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "tradeDone timeout OUT",
        "mode": "link",
        "links": [
            "dd9efdff545979f3"
        ],
        "x": 1155,
        "y": 1160,
        "wires": []
    },
    {
        "id": "e72c25a366934084",
        "type": "ui_text",
        "z": "5ab672823d632b5b",
        "group": "a5e5760a4c6ba88d",
        "order": 6,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Trade size",
        "format": "{{msg.payload.params.tradeSize}}",
        "layout": "col-center",
        "x": 1190,
        "y": 260,
        "wires": []
    },
    {
        "id": "9ab90cd007af72d9",
        "type": "ui_text",
        "z": "5ab672823d632b5b",
        "group": "a5e5760a4c6ba88d",
        "order": 4,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Take profit",
        "format": "{{msg.payload.params.takeProfit}}",
        "layout": "col-center",
        "x": 1190,
        "y": 300,
        "wires": []
    },
    {
        "id": "dc43f9b7467070e0",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "Prep IN",
        "links": [
            "aae1eea1dd13d1ba"
        ],
        "x": 1005,
        "y": 340,
        "wires": [
            [
                "e72c25a366934084",
                "9ab90cd007af72d9",
                "65803eb017ee2525",
                "89b9803f282c32b0",
                "c09078f5ed9b9ead"
            ]
        ]
    },
    {
        "id": "65803eb017ee2525",
        "type": "ui_text",
        "z": "5ab672823d632b5b",
        "group": "a5e5760a4c6ba88d",
        "order": 8,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Stop Loss",
        "format": "{{msg.payload.params.stopLoss}}",
        "layout": "col-center",
        "x": 1200,
        "y": 340,
        "wires": []
    },
    {
        "id": "d5f437d99a3afcc4",
        "type": "ui_text_input",
        "z": "5ab672823d632b5b",
        "name": "",
        "label": "Take Profit Fail Safe",
        "tooltip": "",
        "group": "a5e5760a4c6ba88d",
        "order": 5,
        "width": 4,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "takeProfit",
        "x": 1160,
        "y": 580,
        "wires": [
            [
                "93baa0abfee23965"
            ]
        ]
    },
    {
        "id": "eb363e4eaca5da3b",
        "type": "ui_text_input",
        "z": "5ab672823d632b5b",
        "name": "",
        "label": "Stop Loss Fail Safe",
        "tooltip": "",
        "group": "a5e5760a4c6ba88d",
        "order": 9,
        "width": 4,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "stopLoss",
        "x": 1170,
        "y": 620,
        "wires": [
            [
                "93baa0abfee23965"
            ]
        ]
    },
    {
        "id": "e9d9a5d630de22c0",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Total",
        "func": "var entries = global.get('entries') || {};\n\nvar thousand = msg.payload.split(' ')[0];\nvar rest = msg.payload.split(' ')[1];\nvar capital = thousand + rest;\nentries.total = parseFloat(capital);\n\nglobal.set('entries',entries);\nreturn msg;\n// var msg1 = {};\n// var date = new Date().toUTCString();\n// msg1.payload = date + \": capital=\" + capital + \", tradesize=\" + tradeSize + \", take profit:\" + msg1.payload + \" - \" + trade;\n// return [msg, msg1];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 660,
        "wires": [
            [
                "c5170913b3650785",
                "99b80242b4165746"
            ]
        ]
    },
    {
        "id": "c5170913b3650785",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "debug 58",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1620,
        "y": 660,
        "wires": []
    },
    {
        "id": "caa7db65dcad3249",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "function 21",
        "func": "\nfor (var params in msg.payload.params){\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "0f0a40f38c4d9347",
        "type": "switch",
        "z": "5ab672823d632b5b",
        "name": "ready",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ready",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1210,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "eadca5f0e15f9331",
        "type": "switch",
        "z": "5ab672823d632b5b",
        "name": "ready",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "done",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1350,
        "y": 1080,
        "wires": [
            [
                "6be4b62df67306ce"
            ]
        ]
    },
    {
        "id": "0280b9cef50a3cc4",
        "type": "mqtt in",
        "z": "5ab672823d632b5b",
        "name": "RPC replies",
        "topic": "v1/devices/me/rpc/response/+",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "08b6f600530e1c2c",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 680,
        "wires": [
            [
                "2146d3d66251ddf6",
                "bbee150ea9a867d6"
            ]
        ]
    },
    {
        "id": "2146d3d66251ddf6",
        "type": "switch",
        "z": "5ab672823d632b5b",
        "name": "method?",
        "property": "payload.method",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "tradeReady",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "tradeDone",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 420,
        "y": 680,
        "wires": [
            [
                "21cda632a03406f1"
            ],
            [
                "e4e8d1895d99f6f3"
            ]
        ]
    },
    {
        "id": "21cda632a03406f1",
        "type": "change",
        "z": "5ab672823d632b5b",
        "name": "tradePrep",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade Ready sent and received",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 660,
        "wires": [
            [
                "ef357324e5c2c475"
            ]
        ]
    },
    {
        "id": "e4e8d1895d99f6f3",
        "type": "change",
        "z": "5ab672823d632b5b",
        "name": "tradeDone",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade Done sent and received",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 700,
        "wires": [
            [
                "ef357324e5c2c475"
            ]
        ]
    },
    {
        "id": "ef357324e5c2c475",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "responses",
        "mode": "link",
        "links": [
            "64cad988d97a7890"
        ],
        "x": 755,
        "y": 680,
        "wires": []
    },
    {
        "id": "524e40402538cb7e",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "trader logs",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1590,
        "y": 140,
        "wires": []
    },
    {
        "id": "e03146be0e816719",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Trade",
        "func": "if (msg.payload.params.check==true){\n    msg.payload = \"-t \"+msg.payload.params.trade;\n    return [msg,null];\n}else{\n    msg.payload=\"failed\";\n    msg.errors=msg.payload.params;\n    return [null,msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1100,
        "wires": [
            [
                "2c47a0815598d9fe",
                "a77948c793389bcd"
            ],
            [
                "67bd5b0d93f7c6f4"
            ]
        ]
    },
    {
        "id": "9abc4cbd61b2e2fc",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "link in 1",
        "links": [
            "a77948c793389bcd"
        ],
        "x": 805,
        "y": 500,
        "wires": [
            [
                "4504eeee9780438c"
            ]
        ]
    },
    {
        "id": "4504eeee9780438c",
        "type": "change",
        "z": "5ab672823d632b5b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 500,
        "wires": [
            [
                "790035275a01eaaa",
                "ae76a3f6b08ee034",
                "c880c94ea209b1d4",
                "d5f437d99a3afcc4",
                "eb363e4eaca5da3b"
            ]
        ]
    },
    {
        "id": "156992607052a321",
        "type": "inject",
        "z": "5ab672823d632b5b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 820,
        "y": 440,
        "wires": [
            [
                "4504eeee9780438c"
            ]
        ]
    },
    {
        "id": "2eb9ae18a7597898",
        "type": "delay",
        "z": "5ab672823d632b5b",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 1100,
        "wires": [
            [
                "e03146be0e816719"
            ]
        ]
    },
    {
        "id": "bbee150ea9a867d6",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "debug 59",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 780,
        "wires": []
    },
    {
        "id": "139fd080616b484b",
        "type": "trigger",
        "z": "5ab672823d632b5b",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 920,
        "wires": [
            [
                "908354dc01aef5d9",
                "aae1eea1dd13d1ba"
            ]
        ]
    },
    {
        "id": "e5f258fd9d59ce24",
        "type": "trigger",
        "z": "5ab672823d632b5b",
        "name": "tradeClose timeout",
        "op1": "",
        "op2": "error",
        "op1type": "nul",
        "op2type": "str",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "done",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 1380,
        "wires": [
            [
                "ddabcef3c3dd9b26"
            ]
        ]
    },
    {
        "id": "db74e069f8143fec",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "Reset closetrades timeout ",
        "links": [
            "9a5bf7dd160745f6"
        ],
        "x": 705,
        "y": 1380,
        "wires": [
            [
                "e5f258fd9d59ce24"
            ]
        ]
    },
    {
        "id": "ddabcef3c3dd9b26",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Done OUT",
        "mode": "link",
        "links": [
            "3a75c70408bfc4f2"
        ],
        "x": 1075,
        "y": 1380,
        "wires": []
    },
    {
        "id": "5bd2109885ff0733",
        "type": "exec",
        "z": "5ab672823d632b5b",
        "command": "py C:\\Pscripts\\closeTrades.py",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "closeTrades",
        "x": 890,
        "y": 1300,
        "wires": [
            [
                "dbc2d951577349fc",
                "99381dcec4f70797"
            ],
            [
                "99381dcec4f70797"
            ],
            []
        ]
    },
    {
        "id": "aae1eea1dd13d1ba",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "tradePrep OUT",
        "mode": "link",
        "links": [
            "dc43f9b7467070e0",
            "c6917b59bba29b14",
            "550c26343b2f2ff6"
        ],
        "x": 1005,
        "y": 860,
        "wires": []
    },
    {
        "id": "3d873cf2d1901010",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Response",
        "func": "var PrepRequestId=msg.topic.split('/')[5];\n\nglobal.set('PrepRequestId', PrepRequestId);\nglobal.set('prepParams',msg.payload);\n// msg.topic = \"v1/devices/me/rpc/response/\" + PrepRequestId;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1286.25,
        "wires": [
            []
        ]
    },
    {
        "id": "7129511c2dea618a",
        "type": "change",
        "z": "5ab672823d632b5b",
        "name": "execute",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade arrived to execute",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "a77948c793389bcd",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "9abc4cbd61b2e2fc"
        ],
        "x": 1115,
        "y": 1060,
        "wires": []
    },
    {
        "id": "601cde10f9d81185",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "tradePrep timeout OUT",
        "mode": "link",
        "links": [
            "07e4d6b237df6241"
        ],
        "x": 1255,
        "y": 980,
        "wires": []
    },
    {
        "id": "6be4b62df67306ce",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Done OUT",
        "mode": "link",
        "links": [
            "d04746edd54e31f2"
        ],
        "x": 1475,
        "y": 1080,
        "wires": []
    },
    {
        "id": "e9be8c2a8ce47940",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "tradeReady",
        "links": [
            "a14cb30bb25bb082",
            "41d05fa534877d8d",
            "09aef469e908ad27",
            "5d74476c999e2d2a"
        ],
        "x": 108.75,
        "y": 1620,
        "wires": [
            [
                "9dc5ed332482384b"
            ]
        ]
    },
    {
        "id": "9dc5ed332482384b",
        "type": "join",
        "z": "5ab672823d632b5b",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 238.75,
        "y": 1620,
        "wires": [
            [
                "a561fdda80bb2076"
            ]
        ]
    },
    {
        "id": "a561fdda80bb2076",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "tradeReady",
        "func": "var entries = global.get('entries') || {};\nvar requestId = global.get('requestId') || 0;\n\nvar tradeSize = 400;\nvar leverage = 400;\n\nmsg.payload={};\nmsg.payload.method=\"tradeReady\";\nmsg.payload.params={};\nmsg.payload.params.tradeSize = entries.tradeSize;\nmsg.payload.params.leverage = entries.leverage;\nmsg.payload.params.stopLoss = entries.stopLoss;\nmsg.payload.params.takeProfit = entries.takeProfit;\nmsg.payload.params.limit = entries.limit;\nmsg.payload.params.total = entries.total;\nmsg.payload.params.ready = true;\nrequestId++;\n\nglobal.set('requestId',requestId);\n\nmsg.topic = \"v1/devices/me/rpc/request/\"+requestId;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 418.75,
        "y": 1620,
        "wires": [
            [
                "7e994382f75126ea",
                "32f49eb5eb8f8a30",
                "ac91f14917da559d"
            ]
        ]
    },
    {
        "id": "07e4d6b237df6241",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "tradePrep timeout IN",
        "links": [
            "601cde10f9d81185"
        ],
        "x": 258.75,
        "y": 1680,
        "wires": [
            [
                "a561fdda80bb2076"
            ]
        ]
    },
    {
        "id": "7e994382f75126ea",
        "type": "mqtt out",
        "z": "5ab672823d632b5b",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "08b6f600530e1c2c",
        "x": 590,
        "y": 1620,
        "wires": []
    },
    {
        "id": "32f49eb5eb8f8a30",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "tradeReady",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 618.75,
        "y": 1680,
        "wires": []
    },
    {
        "id": "15e75058ca01d152",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "closeTradesDone",
        "links": [
            "9a5bf7dd160745f6",
            "c6522d6c1de92dbe"
        ],
        "x": 105,
        "y": 1840,
        "wires": [
            [
                "e17bf27dd761f656"
            ]
        ]
    },
    {
        "id": "e17bf27dd761f656",
        "type": "join",
        "z": "5ab672823d632b5b",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 240,
        "y": 1840,
        "wires": [
            [
                "1b9c854da8e261a3"
            ]
        ]
    },
    {
        "id": "1b9c854da8e261a3",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "closeTradesDone",
        "func": "var entries = global.get('entries') || {};\nvar requestId = global.get('requestId') || 0;\n\nmsg.payload={};\nmsg.payload.method=\"closeTradesDone\";\nmsg.payload.params={};\n\nrequestId++;\n\nglobal.set('requestId',requestId);\n\nmsg.topic = \"v1/devices/me/rpc/request/\"+requestId;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1840,
        "wires": [
            [
                "2d1c79ce58c37a06",
                "a0f8dd9ac1d90c22",
                "c0fadaee0db9f610"
            ]
        ]
    },
    {
        "id": "3a75c70408bfc4f2",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "closeTrades timeout IN",
        "links": [
            "ddabcef3c3dd9b26"
        ],
        "x": 295,
        "y": 1900,
        "wires": [
            [
                "1b9c854da8e261a3"
            ]
        ]
    },
    {
        "id": "2d1c79ce58c37a06",
        "type": "mqtt out",
        "z": "5ab672823d632b5b",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "08b6f600530e1c2c",
        "x": 630,
        "y": 1840,
        "wires": []
    },
    {
        "id": "a0f8dd9ac1d90c22",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "tradeReady",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 1940,
        "wires": []
    },
    {
        "id": "d04746edd54e31f2",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "tradeDone",
        "links": [
            "90342d446bdca011",
            "6be4b62df67306ce"
        ],
        "x": 845,
        "y": 1620,
        "wires": [
            [
                "973f830745d50ca8"
            ]
        ]
    },
    {
        "id": "973f830745d50ca8",
        "type": "join",
        "z": "5ab672823d632b5b",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 940,
        "y": 1620,
        "wires": [
            [
                "3952ffa4a4a3f194"
            ]
        ]
    },
    {
        "id": "3952ffa4a4a3f194",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "tradeDone",
        "func": "var done=(msg.payload==\"done\")?true:false;\nvar requestId = global.get('requestId') || 0;\n\n\nmsg.payload={};\nmsg.payload.method=\"tradeDone\";\nmsg.payload.params={};\nmsg.payload.params.done = done;\nrequestId++;\n\nglobal.set('requestId', requestId);\nmsg.topic = \"v1/devices/me/rpc/request/\"+requestId;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 1620,
        "wires": [
            [
                "73c6bb9ac09d65bb",
                "4cb4f359ceb0a019"
            ]
        ]
    },
    {
        "id": "dd9efdff545979f3",
        "type": "link in",
        "z": "5ab672823d632b5b",
        "name": "tradeDone timeout IN",
        "links": [
            "67bd5b0d93f7c6f4"
        ],
        "x": 985,
        "y": 1680,
        "wires": [
            [
                "3952ffa4a4a3f194"
            ]
        ]
    },
    {
        "id": "73c6bb9ac09d65bb",
        "type": "mqtt out",
        "z": "5ab672823d632b5b",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "08b6f600530e1c2c",
        "x": 1280,
        "y": 1620,
        "wires": []
    },
    {
        "id": "4cb4f359ceb0a019",
        "type": "change",
        "z": "5ab672823d632b5b",
        "name": "trade done",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade done ready to send",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 1680,
        "wires": [
            [
                "68cdd525878ed94a"
            ]
        ]
    },
    {
        "id": "8be53e080da663d9",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Response",
        "func": "var PrepRequestId = global.get('PrepRequestId');\nvar prepParams = global.get('prepParams');\n\nmsg.payload = prepParams;\n\nmsg.topic = \"v1/devices/me/rpc/response/\" + PrepRequestId;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 1940,
        "wires": [
            [
                "49a1cc7bc65d82fd"
            ]
        ]
    },
    {
        "id": "68cdd525878ed94a",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "tradeDone OUT",
        "mode": "link",
        "links": [
            "64cad988d97a7890"
        ],
        "x": 1395,
        "y": 1680,
        "wires": []
    },
    {
        "id": "49a1cc7bc65d82fd",
        "type": "mqtt out",
        "z": "5ab672823d632b5b",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "f15f72a82f974357",
        "x": 1310,
        "y": 1940,
        "wires": []
    },
    {
        "id": "67d36bd0c1662f56",
        "type": "ui_button",
        "z": "5ab672823d632b5b",
        "d": true,
        "name": "CLOSED",
        "group": "a5e5760a4c6ba88d",
        "order": 15,
        "width": "4",
        "height": 1,
        "passthru": false,
        "label": "CLOSED",
        "tooltip": "",
        "color": "",
        "bgcolor": "green",
        "icon": "fa-thumbs-up fa-3x",
        "payload": "closed",
        "payloadType": "str",
        "topic": "topic",
        "x": 1180,
        "y": 800,
        "wires": [
            [
                "9a5bf7dd160745f6",
                "131bedaa6ef42953"
            ]
        ]
    },
    {
        "id": "9a5bf7dd160745f6",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Done OUT",
        "mode": "link",
        "links": [
            "15e75058ca01d152",
            "db74e069f8143fec"
        ],
        "x": 1285,
        "y": 820,
        "wires": []
    },
    {
        "id": "dbc2d951577349fc",
        "type": "switch",
        "z": "5ab672823d632b5b",
        "name": "closed",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "closed",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1090,
        "y": 1300,
        "wires": [
            [
                "c6522d6c1de92dbe"
            ]
        ]
    },
    {
        "id": "c6522d6c1de92dbe",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "Done OUT",
        "mode": "link",
        "links": [
            "15e75058ca01d152"
        ],
        "x": 1215,
        "y": 1300,
        "wires": []
    },
    {
        "id": "7a04713f62ab5212",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Done",
        "func": "var ready=msg.payload;\n\nvar entries=global.get('entries') || {};\n\n\nentries.done = true;\nglobal.set('entries', entries)\n\nmsg.payload = \"trade Done Button pressed\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 760,
        "wires": [
            [
                "99b80242b4165746"
            ]
        ]
    },
    {
        "id": "131bedaa6ef42953",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Closed",
        "func": "var ready=msg.payload;\n\nvar entries=global.get('entries') || {};\n\n\nentries.done = true;\nglobal.set('entries', entries)\n\nmsg.payload = \"trades Closed button pressed\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 800,
        "wires": [
            [
                "99b80242b4165746"
            ]
        ]
    },
    {
        "id": "ac91f14917da559d",
        "type": "change",
        "z": "5ab672823d632b5b",
        "name": "trade done",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade Ready is ready to send",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 1580,
        "wires": [
            [
                "e9b4673771672b69"
            ]
        ]
    },
    {
        "id": "e9b4673771672b69",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "tradeDone OUT",
        "mode": "link",
        "links": [
            "64cad988d97a7890"
        ],
        "x": 725,
        "y": 1580,
        "wires": []
    },
    {
        "id": "c0fadaee0db9f610",
        "type": "change",
        "z": "5ab672823d632b5b",
        "name": "closeTrade done",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Trade Ready is ready to send",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 1800,
        "wires": [
            [
                "d705c18781fea72a"
            ]
        ]
    },
    {
        "id": "d705c18781fea72a",
        "type": "link out",
        "z": "5ab672823d632b5b",
        "name": "tradeDone OUT",
        "mode": "link",
        "links": [
            "64cad988d97a7890"
        ],
        "x": 835,
        "y": 1800,
        "wires": []
    },
    {
        "id": "b2feee3cca54d637",
        "type": "mqtt out",
        "z": "5ab672823d632b5b",
        "name": "reply",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "08b6f600530e1c2c",
        "x": 510,
        "y": 940,
        "wires": []
    },
    {
        "id": "c1665a6df808fd75",
        "type": "inject",
        "z": "5ab672823d632b5b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "-c 3",
        "payloadType": "str",
        "x": 710,
        "y": 1260,
        "wires": [
            [
                "5bd2109885ff0733"
            ]
        ]
    },
    {
        "id": "191b06cb89a35059",
        "type": "function",
        "z": "5ab672823d632b5b",
        "name": "Trade",
        "func": "// if (msg.payload.params.check==true){\nmsg.payload = \"-c \"+msg.payload.params.nTrades;\nreturn [msg,null];\n// }else{\n//     msg.payload=\"failed\";\n//     return [null,msg];\n// }",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 1300,
        "wires": [
            [
                "5bd2109885ff0733"
            ],
            [
                "e5f258fd9d59ce24"
            ]
        ]
    },
    {
        "id": "9176d35d98b72145",
        "type": "config",
        "z": "5ab672823d632b5b",
        "name": "",
        "properties": [
            {
                "p": "entries",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "active": true,
        "x": 330,
        "y": 100,
        "wires": []
    },
    {
        "id": "99381dcec4f70797",
        "type": "debug",
        "z": "5ab672823d632b5b",
        "name": "debug 60",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 1260,
        "wires": []
    }
]